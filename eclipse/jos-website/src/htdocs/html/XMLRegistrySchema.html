<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>XMLRegistrySchema.Imported @ jos.sf.net</title>
  </head>

<body bgcolor="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<form action="/jump.php"><input type="hidden" name="PHPSESSID" value="5cc193f512c74cdd7c172c7e8a351a54" />

<!-- The JOS logo. !-->
<table border="0" cellspacing="0" cellpadding="3" width="100%">
<tr valign="TOP" align="LEFT">
	<td><a href="../index.html"><img 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="image/wikiHome.gif"></a></td>
	<!-- The tab table. !-->
	<td width="100%" align="RIGHT" bgcolor="#FFFFFF" valign="BOTTOM"> 
		<table border="0" cellspacing="0" cellpadding="3" width="100%" align="RIGHT">
			<tr valign="MIDDLE" align="LEFT">

<td bgcolor="White" width="60%">&nbsp;</td>
<td bgcolor="#FFFFCC"><a href="../index.html">Home</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFFFCC" align="CENTER"><a href="../info.html">Info</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFFFCC" align="CENTER"><a href="../dev.html">DevZone</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFCC66" align="CENTER"><a
href="../wiki.html">Wiki</a></td>
<td bgcolor="White">&nbsp;</td>
			</tr>
			<tr>
				<td bgcolor="#FFCC66" align="RIGHT" colspan="9">
					<a href="UsersWebHome.html">UsersWeb</a>
					&nbsp;|&nbsp;
					<a href="MainWebHome.html">MainWeb</a>
					&nbsp;|&nbsp;
					<a href="InfoWebHome.html">InfoWeb</a>
					&nbsp;|&nbsp;
					<a href="DevZoneWebHome.html">DevZoneWeb</a>
					&nbsp;|&nbsp;
					<a href="SupportWebHome.html">SupportWeb</a>
				</td>
			</tr>
		</table>
	</td>		
</tr>
<!-- The WikiHeader. !-->
<tr><td colspan="2">
<table border="0" cellspacing="0" cellpadding="3" width="100%">
<tr>
	<td width="25%" align="CENTER" bgcolor="#FFFFCC" valign="CENTER">
		<b>[&nbsp;<! page="">XMLRegistrySchema</a>&nbsp;]</b>
	</td>
	<td width="25%" align="CENTER" bgcolor="#FFEE88" valign="CENTER">
		<b>[ not logged in ]</b>	</td>
	<td width="25%" align="CENTER" bgcolor="#FFDD77" valign="CENTER">
		<b>[ Web: <a href="ImportedWebHome.html">Imported</a> ]</b>	</td>
	<td width="25%" align="CENTER" bgcolor="#FFCC66" valign="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" src="/media/go.gif?PHPSESSID=5cc193f512c74cdd7c172c7e8a351a54" border="0" VALUE="topic" ALT="goto">!-->&nbsp;<! page=""><FONT SIZE="-1">options</FONT></a>
	</td>
</tr>
</table>

<table border="0" cellspacing="0" cellpadding="3" width="100%">
	<tr>
	<td align="CENTER" bgcolor="#FFFFCC" valign="TOP">
		[&nbsp;get <! page="">info</a> on or <a href="WebHome.html">edit</a>&nbsp;]	</td>
	<td align="CENTER" bgcolor="#FFEE88" valign="TOP">
		[&nbsp;<! page="">login</a> or <! page="">new&nbsp;user</a>&nbsp;]	</td>
	<td align="CENTER" bgcolor="#FFDD77" valign="TOP">
		[&nbsp;list of <a href="Glossary.html">topics</a>, <! page="">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="NewArticles2a.html">recent&nbsp;changes</a>&nbsp;]	</td>
	</tr>
</table>

<!-- From CommonHeader !-->
</tr></td>
</table>
</form>

<!-- start BODY page !-->
<p>
<FONT SIZE=-1><a href="RegistryPages.html">RegistryPages</a></FONT>
<hr SIZE="1" NOSHADE>
<h2>Registry Schema for XML</h2>
<hr <! page="">NOSHADE</a> SIZE="1">
&lt;TABLE WIDTH="100%" BGCOLOR="floralwhite"&gt;&lt;TR&gt;&lt;TD&gt;<pre>
&lt;FONT COLOR="red"&gt;&lt;?xml version=&lt;FONT COLOR="orange"&gt;"1.0"&lt;/FONT&gt;?&gt;
&lt;!DOCTYPE
  schema PUBLIC 
  &lt;FONT COLOR="orange"&gt;'-//W3C//DTD XSDL 19990506//EN'&lt;/FONT&gt;
  &lt;FONT COLOR="orange"&gt;'http://www.w3.org/1999/05/06-xsdl/WD-xsdl.dtd'&lt;/FONT&gt;&gt;&lt;/FONT&gt;
&lt;FONT COLOR="purple"&gt;
&lt;schema xmlns=&lt;FONT COLOR="orange"&gt;"http://www.w3.org/TR/1999/WD-xdtl-19990506.xsd"&lt;/FONT&gt;
		  name=&lt;FONT COLOR="orange"&gt;"http://www.jos.org/schema/jos.registry.xsd"&lt;/FONT&gt;
		  version=&lt;FONT COLOR="orange"&gt;"1.0"&lt;/FONT&gt;&gt;
&nbsp;
 &lt;datatype name=&lt;FONT COLOR="orange"&gt;"class"&lt;/FONT&gt;&gt;
  &lt;basetype name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt; URI=&lt;FONT COLOR="orange"&gt;"http://www.w3c.org/xmlschemas/datatypes"&lt;/FONT&gt;&gt;
  &lt;FONT COLOR="blue"&gt;&lt;!-- refine (with regexp's) so only valid class names can be given --&gt;&lt;/FONT&gt;
 &lt;/datatype&gt;
&nbsp;
 &lt;datatype name=&lt;FONT COLOR="orange"&gt;"tuple"&lt;/FONT&gt;&gt;
  &lt;basetype name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt; URI=&lt;FONT COLOR="orange"&gt;"http://www.w3c.org/xmlschemas/datatypes"&lt;/FONT&gt;&gt;
  &lt;lexicalRepresentation&gt;
	&lt;lexical&gt;
	 &lt;FONT COLOR="green"&gt;([0-127].)?[0-127].[0-127].[0-127]&lt;/FONT&gt;
	&lt;/lexical&gt;
  &lt;/lexicalRepresentation&gt;
 &lt;/datatype&gt;
&nbsp;
 &lt;elementType name=&lt;FONT COLOR="orange"&gt;"Null"&lt;/FONT&gt;&gt;
  &lt;empty/&gt;
 &lt;/elementType&gt;
&nbsp;
 &lt;elementType name=&lt;FONT COLOR="orange"&gt;"Entry"&lt;/FONT&gt;&gt;
  &lt;choice&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"number"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"boolean"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"binary"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"uri"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"tuple"&lt;/FONT&gt;/&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"class"&lt;/FONT&gt;/&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Null"&lt;/FONT&gt; minOccur=&lt;FONT COLOR="orange"&gt;"0"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"1"&lt;/FONT&gt;/&gt;
  &lt;/choice&gt;
  &lt;attrDecl name=&lt;FONT COLOR="orange"&gt;"name"&lt;/FONT&gt; required=&lt;FONT COLOR="orange"&gt;"true"&lt;/FONT&gt;&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt;/&gt;
  &lt;/attrDecl&gt;
 &lt;/elementType&gt;
&nbsp;
 &lt;elementType name=&lt;FONT COLOR="orange"&gt;"Link"&lt;/FONT&gt;&gt;
  &lt;empty/&gt;
  &lt;attrDecl name=&lt;FONT COLOR="orange"&gt;"name"&lt;/FONT&gt; required=&lt;FONT COLOR="orange"&gt;"true"&lt;/FONT&gt;&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt;/&gt;
  &lt;/attrDecl&gt;
  &lt;attrDecl name=&lt;FONT COLOR="orange"&gt;"href"&lt;/FONT&gt;&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"uri"&lt;/FONT&gt;/&gt;
  &lt;/attrDecl&gt;
 &lt;elementType/&gt;
&nbsp;
 &lt;elementType name=&lt;FONT COLOR="orange"&gt;"Node"&lt;/FONT&gt;&gt;
  &lt;sequence&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Entry"&lt;/FONT&gt; minOccur=&lt;FONT COLOR="orange"&gt;"1"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Node"&lt;/FONT&gt;  minOccur=&lt;FONT COLOR="orange"&gt;"0"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Link"&lt;/FONT&gt;  minOccur=&lt;FONT COLOR="orange"&gt;"0"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
  &lt;sequence/&gt;
  &lt;attrDecl name=&lt;FONT COLOR="orange"&gt;"name"&lt;/FONT&gt; required=&lt;FONT COLOR="orange"&gt;"true"&lt;/FONT&gt;&gt;
	&lt;datatypeRef name=&lt;FONT COLOR="orange"&gt;"string"&lt;/FONT&gt;/&gt;
  &lt;/attrDecl&gt;
 &lt;elementType/&gt;
&nbsp;
 &lt;elementType name=&lt;FONT COLOR="orange"&gt;"Registry"&lt;/FONT&gt;&gt;
  &lt;sequence&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Entry"&lt;/FONT&gt; minOccur=&lt;FONT COLOR="orange"&gt;"1"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Node"&lt;/FONT&gt;  minOccur=&lt;FONT COLOR="orange"&gt;"0"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
	&lt;elementTypeRef name=&lt;FONT COLOR="orange"&gt;"Link"&lt;/FONT&gt;  minOccur=&lt;FONT COLOR="orange"&gt;"0"&lt;/FONT&gt; maxOccur=&lt;FONT COLOR="orange"&gt;"*"&lt;/FONT&gt;/&gt;
  &lt;/sequence&gt;
 &lt;/elementType&gt;
&nbsp;
&lt;/schema&gt;
&lt;/FONT&gt;
</pre><tr><td></table>
<hr SIZE="1" NOSHADE>
Im not an expert on the <a href="XML.html">XML</a> schema markup, so I don't know that all this stuff works (or will even remain in the standard). If anyone sees something wrong, <a href="mailto:digigod@earthling.net">mail me</a>.
</p><p>
This schema defines a simple Registry Markup to be used for JOS. It consists of 5 tags but can be used to dexribe very complex data models.
<DL>
<DT>&lt;Registry&gt;
<DD>The wrapper for <! page="">RegistryML</a> files
<DT>&lt;Node&gt;
<DD>A Node in the registry
<DT>&lt;Entry&gt;
<DD>A data Entry in the registry
<DT>&lt;Link/&gt;
<DD>A special node that points to another valid registry via an <! page="">URL</a>
<DT>&lt;Null/&gt;
<DD>Only used inside an entry to state that it is null (do we need this?)
</DL>
</p><p>
A &lt;Registry&gt; (or any node) must have at least one Entry so:
</p><p>
&lt;TABLE BGCOLOR="floralwhite"&gt;&lt;TR&gt;&lt;TD&gt;<pre>
&lt;FONT COLOR="purple"&gt;
&lt;FONT COLOR="red"&gt;&lt;?xml version=&lt;FONT COLOR="orange"&gt;"1.0"&lt;/FONT&gt;?&gt;&lt;/FONT&gt;
&lt;Registry&gt;
&lt;/Registry&gt;
&lt;/FONT&gt;
</pre></td></tr></table>
</p><p>
is invalid.
</p><p>
An &lt;Entry&gt; cannot hold any random value, it must be of one of these types, and it must contain a value or an explicit null (do we need more/less?):
</p><p>
<DL>
<DT>&lt;Null&gt;
<DD>Special value, entry is null
<DT>String
<DD>Any valid string
<DT>Number
<DD>Any valid number (Integer, Decimal or Real)
<DT>Boolean
<DD>Either true or false
<DT>Binary
<DD>A valid binary blob (that is, string of binary data)
<DT>URI
<DD>An <! page="">URL</a>
<DT>Tuple
<DD>A term borrowed from <a href="http://www.rebol.com">REBOL</a>, it can be in the range of 0.0.0 or 0.0.0.0 to 127.127.127 or 127.127.127.127. perfect for version numbers and IP's
<DT>Class
<DD>A string pointer to a valid class name (i.e. org.jos.util.Factory)
</DL>
</p><p>
Note: I need someone familiar with <! page="">RegExp</a>'s to make a filter for valid class names.
</p><p>
</p><p>
An example:
</p><p>
&lt;TABLE BGCOLOR="floralwhite"&gt;&lt;TR&gt;&lt;TD&gt;<pre>
&lt;DIV ALIGN="right"&gt;&lt;FONT COLOR="black SIZE="-1"&gt;one.reg.xml&lt;/FONT&gt;&lt;/DIV&gt;
&lt;FONT COLOR="purple"&gt;
&lt;FONT COLOR="red"&gt;&lt;?xml version=&lt;FONT COLOR="orange"&gt;"1.0"&lt;/FONT&gt;&gt;&lt;/FONT&gt;
&lt;Registry&gt;
 &lt;Node name=&lt;FONT COLOR="orange"&gt;"one"&lt;/FONT&gt;&gt;
  &lt;Entry name=&lt;FONT COLOR="orange"&gt;"e-one"&lt;/FONT&gt;&gt;
	&lt;FONT COLOR="green"&gt;an entry.&lt;/FONT&gt;
  &lt;/Entry&gt;
  &lt;Entry name=&lt;FONT COLOR="orange"&gt;"e-two"&lt;/FONT&gt;&gt;
	&lt;Null/&gt;
  &lt;/Entry&gt;
 &lt;/Node&gt;
 &lt;Link name=&lt;FONT COLOR="orange"&gt;"two"&lt;/FONT&gt; href=&lt;FONT COLOR="orange"&gt;"file:/system/two.reg.xml"&lt;/FONT&gt;/&gt;
&lt;/Registry&gt;
&nbsp;
&lt;DIV ALIGN="right"&gt;&lt;FONT COLOR="black SIZE="-1"&gt;two.reg.xml&lt;/FONT&gt;&lt;/DIV&gt;
&lt;?xml version=&lt;FONT COLOR="orange"&gt;"1.0"&lt;/FONT&gt;?&gt;
&lt;Registry&gt;
 &lt;Entry name=&lt;FONT COLOR="orange"&gt;"e-three"&lt;/FONT&gt;&gt;
  &lt;FONT COLOR="green"&gt;3&lt;/FONT&gt;
 &lt;/Entry&gt;
&lt;/Registry&gt;
&lt;/FONT&gt;
</pre></td></tr></table>
</p><p>
Those two files would create a data tree like this:
<pre>
 R
 |
 +-"one"
 |  |
 |  +-"e-one"
 |  |  "an entry."
 |  |
 |  +-"e-two"
 |	  &lt;null&gt;
 +-"two"
	 |
	 +-"e-three"
		 '3'
</pre>
</p><p>
-- <a href="DigiGod.html">DigiGod</a> 99.07.05
</p><p>
<hr>
<p>The XML registry should support an empty entry (null), where (1) a key definitely exists and (2) has no value of any data type. Normal registry entries for set:, conf: and ini: registries look like this:
<pre>
name-1=value-1
name-2=value-2
name-3=value-3
</pre>
<p>A null entry is valid, and looks like this:
<pre>
name-1=
name-2=
name-3=
</pre>
<p>I have already used such null registry entries to build a simple list of Java keywords (for a pretty-printer servlet). -- <a href="GilbertHerschberger.html">GilbertHerschberger</a> (6 July 1999).
</p><p>
<hr>
Good, glad you agree with a null entry. And dont worry the schema defined here only allows one of the defined datatypes or the explicit null tag to be placed in an Entry tag.
--DigiGod 99.07.06<br><br></p><!--

<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<tr><td align="CENTER">
<! page="">login</a> or <! page="">new&nbsp;user</a><tr><td>
</table>

!-->
<!-- end BODY page !-->

<hr>

<div align="CENTER">
<table border="0" cellpadding="3" cellspacing="0" width="100%">
<tr>
	<td align="CENTER" colspan="2">
		Content of these pages are owned and copyrighted by the poster.
	</td>
</tr>
<tr>
	<td align="RIGHT" width="50%">
		Hosted by:
	</td>
	<td align="LEFT">
		<a href="http://sourceforge.net/"><img 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></a>
	</td>
</tr>
</table>
</div>
</body>
</html>
