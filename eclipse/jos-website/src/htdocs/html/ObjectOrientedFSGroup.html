<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>ObjectOrientedFSGroup.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="687b14f116df2d09eba15332efe04d70" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="image/wikiHome.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="UsersWebHome.html">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="MainWebHome.html">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="InfoWebHome.html">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="DevZoneWebHome.html">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="SupportWebHome.html">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<! page="">ObjectOrientedFSGroup</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="ImportedWebHome.html">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=687b14f116df2d09eba15332efe04d70" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<! page=""><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <! page="">info</a> on or <a href="WebHome.html">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<! page="">login</a> or <! page="">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="Glossary.html">topics</a>, <! page="">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="NewArticles2a.html">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
Here are my thoughts about an object oriented file system for JOS.  There are two ways I know of that we could do this.  In one approach, each file would be a serialized object, its type would be determined by the class of the serialized object, and the main actions (opening in a window, printing, etc.) would be defined in teat class.  There are two primary disadvantages of this approach.  First, we would have to read the whole file before doing anything with it.  Secondly, this would make it difficult, I think, to interface with other operating systems.
</P><P>
So, I think we should have a registry of file types (defined by file extension, most likely) and the classes that implement operations on files of each type.  Then a file could actually be a serialized object, but that wouldn't have to be the case.
</P><P>
Any comments?
</P><P>
-- <a href="MatthewCampbell.html">MatthewCampbell</a> 4-Feb-1998
</P><P>
<HR>
</P><P>
I like the second idea, but why rely on file extensions for type? Do what <! page="">SGI</a> does, and establish a "magic" registry which assigns file types based on the first 4 bytes of the file. For example, the first four bytes of a .class file are <SAMP>0xCA 0xFE 0xBA 0xBE</SAMP>, or '<SAMP>CAFEBABE</SAMP>'. Then if that filetype cannot be found in the registry, we fall back to extensions. This way a person can <! page="">REALLY</a> tell what's in a file.
</P><P>
--MasonZhwiti
<HR>
</P><P>
</P><P>
An approach which would be compatible with the Java Activation Framework would have some meta-data attached to each file.  In addition to the usual information, the meta-data could contain a <! page="">MIME</a> type which would be used to locate the beans which can "do something reasonable" with that file (object).
</P><P>
-MichaelNygard, 2/27/98
</P><P>
<HR>
</P><P>
Have you seen <a href="RDF.html">RDF</a> (Resource Description Framework)?  It provides a nice, standard way of representing meta-information about objects using XML.  The file system could consist of the actual files/objects themselves, with associated <a href="RDF.html">RDF</a> files describing relationships and meta-data. <a href="RDF.html">RDF</a> is at <a href="http://www.w3c.org/Metadata/RDF/Overview.html">http://www.w3c.org/Metadata/RDF/Overview.html</a>
</P><P>
--BradNeuberg, 2/28/98
</P><P>
<HR>
</P><P>
Well... Using a central registry to store the real information is good... This will allow a user to change filetype information in once place instead of many, if desired. We need to make sure though, that we will not have the same problems like Windows regarding file type conflicts etc. Our system should support several applications sharing a file type and handle them intuitivly.
</P><P>
And about the storing of the meta information: I have to agree with Brad. The necessary meta-data should be fetched from <a href="RDF.html">RDF</a> based files.
I guess we should have following cycle for obtaining file type/metadata:
</P><P>
 <a href="RDF.html">RDF</a> Description File - > Magic Keys in the file - > File Extension > Ask User
</P><P>
If one step fails, the system will try the next one. This has several important advantages:
</P><P>
<OL> <LI>  The <a href="RDF.html">RDF</a> Metadata file allows us to have a rather failure-proof system to obtain rich information about a file
<LI>  Magic Keys and File Extensions need to be used, anyway, because operating in a heterogenous network becomes too difficult otherwise. We sometimes simply do not have the description files or even cannot create them in a network.
<LI>  The Ask User fallback allows a user to have the last word, if the system does not know what to do. Care has to be taken, that this dialog will not be as contraproductive as the one in Windows, listing thousands of unnecessary applications, wrong/misleading application names etc. The system could e.g. show the applications/beans the user uses most on top of the list etc. to improve the situation.
</OL> 
-- <a href="MarkusPeter.html">MarkusPeter</a> , 1 Mar 98
<HR>
</P><P>
Every application could provide an object that takes as input a file (datastream). The object will determine whether or not the application can handle the file. The object can base it's decision on magic values, statistical analysis or ... . Frequently used applications are -as Markus said- queried first. 
</P><P>
It would be great if the objects supported a level of thoroughness that can be specified. The first query pass -for example- could be run on the first 1024 bytes of the file. This will be enough to rule out 90% of the file types (i.e. those with a magic number in their header). If several types remain, we can use a second pass that uses more time and more file data...
</P><P>
-- <a href="JeroenVanGelderen.html">JeroenVanGelderen</a>, 1.3.1998
<HR>
</P><P>
I only really care about one capability: an application may need to store arbitrary objects as properties of file-system objects. Common ones, like Hashtables for key value pairs, might be so common as to just be built in.
</P><P>
I should be able to save state data on file objects by merely "assigning" it the state as a property. ACL's (Access Control Lists) are a static example of this from the <! page="">DCE</a> environment.
</P><P>
Someone one may want to create their own object view of a class of files, and they should be able to just "subclass" a whole file-system and give it new methods and properties.
</P><P>
That way several Object Relational Database Systems could independently store their objects in the native <a href="JosOOFS.html">JosOOFS</a>, and
not have to write their own. They would take the <a href="JosOOFS.html">JosOOFS</a>, and
extend it into XYZ-FS, and add "index properties" or "sql hints" or "binary reverse index trees".
</P><P>
We can't imagine what all a filesystem could be used for, so we should make it very easy to extend (or implement an interface of). 
</P><P>
--OmegaBaphomet
</P><P>
<HR>
</P><P>
If you want to go along this even further.... you would consider 
a file system as merely an object manager that happens to serve
up "file" objects.	We could then have multiple object managers
in the operating system... one object manager for RDBMS, another
for Very large binary files, another for small text files, etc.
A default object manager could be used when the application was
"unaware" that it had a choice.... it could auto-detect to see
if the information being written was "small-text-like" or "large-binary-like", etc and pick the appropriate manager.  Each manager could then have it's own cashe mechinism, etc.  For instance, you might have a class of objects that are temporary... these objects use the "temporary" object manager.  Other objects might need to be encrypted... like passwords.  Some might need to be compressed, in thsi way you could have an "compression" object manager that takes (as part of its constructor) another object manager - it would merely decorate the underlying object manager with the appropriate encryption, cahsing, etc. Bottom line... leave the object manager / file system interface very simple and understand that there might not be 1, 2 or even 10 implementations, but rather hundreds based on need.  Each implementation can implmenent what cool features it requires.  Possibly their might be a "PropertyBasedObjectManager" that might be an interface which some, but not all, object managers might implement.  Those that do not implement this interface.. could be decorated with one that does :)  ?  Just some ideas.  Dont' be restricted with traditional views of "file system".  Really, a file system is a special type of object manager... it just happens to serve up object that inherit from org.jos.File  :)
I can go on more here if you would like.... see <a href="ObjectManager.html">ObjectManager</a>
</P><P>
- <a href="ClarkEvans.html">ClarkEvans</a> 2-MAR-98
</P><P>
<HR>
</P><P>
 I like the Metadata/registry idea, but I would like to be able to set a specific icon for a specific file in the metadata, if it doesn't have this entry the default icon for that file type would be used.
</P><P>
 The icon-for-every-file idea should be extended to folders to it would be nive to use a "Homer Simpson" icon for my Simpson-video-games directory..
</P><P>
--DigiGod
<HR>
How about having the OO file system simply have a predefined way of storing each element of an object (it knows how to write an integer, a boolean, a class instance using recursion, etc).  It would also store with this binary, almost bit-wise copy from memory, the name and class it is an instance of.  This way the system has an inherit way of storing <EM>every</EM> object, and the author of a class need not deal with an inventive way to store all their data.  If you wish to encrypt or compress your object, just send it to an appropriate OO file system interface which does the compression before sending it to the OO file system.
</P><P>
Alternatively, we could try to implement Apple's <a href="Bento.html">Bento</a> technology, which is used in <a href="OpenDoc.html">OpenDoc</a>.
</P><P>
-MattAlbrecht 10-JUL-1998
</P><P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<! page="">login</a> or <! page="">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
