<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>AStartingPoint.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="d7d27c00afb01fb00a7518ca9360366d" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="image/wikiHome.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="UsersWebHome.html">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="MainWebHome.html">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="InfoWebHome.html">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="DevZoneWebHome.html">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="SupportWebHome.html">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<! page="">AStartingPoint</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="ImportedWebHome.html">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=d7d27c00afb01fb00a7518ca9360366d" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<! page=""><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <! page="">info</a> on or <a href="WebHome.html">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<! page="">login</a> or <! page="">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="Glossary.html">topics</a>, <! page="">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="NewArticles2a.html">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
Flamebait:
I propose that, at least to start with, we use the 
Linux kernel.  Although it is implemented almost entirely in C, and is more old technology than new, it's a stable starting point which gives a mass of device support free.  When we feel comfortable, we can then hack the kernel down to our (more modest) requirements and convert most of what we need beyond that to java.
</P><P>
Comments?
<HR>
I believe people are already working on the kernel, so this is probably a moot point. If we were to use Linux, I know I've seem someplace a Linux kernel that fit on a floppy... --<a href="BillRehm.html">BillRehm</a>
</P><P>
Are people actually hacking on the kernel?
If so, great. --Ben
<HR>
I'm interested in seeing a well-defined and comprehensive system level services API. Once this is defined and used and "made robust" through test usage, an implementation could, for example, sit on top of fsf <a href="GNU.html">GNU</a> HURD/ microkernel.
</P><P>
The Gnu <! page="">HURD</a> idea seams very object oriented/ partitioned/ service provider/ consumer pattern etc, etc. (Read about it at <a href="http://www.fsf.org/">http://www.fsf.org/</a> ). The Gnu Mach microkernel I think is now "self hosting" - ie. it is rapidly coming to a usable/stable point. The servers that run on top of the microkernel (the HURD) seem to fit right in with the <! page="">JOS</a> concepts.
</P><P>
I think that the main requirement for actual development will be a Java compiler, and Cygnus Solutions is producing a Java front end layer for gcc (the Gnu C++ compiler) - it will be <! page="">GPL</a> I believe. This suggests that using Gnu/Linux or Gnu/HURD would be a convenient starting place.
</P><P>
Ultimately, the kernel of any OS will require to be fully machine compiled for performance (for things like graphics rendering). Perhaps the question to ask is "does the latest Mach microkernel represent the best design of a kernel?" If so, then just use Gnu Mach microkernel (perhaps re-write it in Java). If not, then a new design would be needed - however I think that many many minds have been put to this very task and that the Mach microkernel represents the very latest and best ideas in an actual implementation. If so, there is probably no great need to rewrite it in Java (unless perhaps porting it to a new hardware platform).
-ZenaanHarkness
<HR>
Question: How does one write a device driver in Java??? -<a href="ZenaanHarkness.html">ZenaanHarkness</a>
<HR>
</P><P>
While checking up the Hurd's progress at fsf.org (as per above), I found to my surprise that they've got a running system on it.  Linking around a bit more brought me to the <a href="MkLinux.html">MkLinux</a> project at OSF, which is quite interesting in and of itself, and ... an ongoing project to build a Java VM ontop of a <! page="">MachMK</a> to support running Java apps on low end hardware.  They even start at one floppy!  No binaries are available on the page, which is quite out of date (March 97), as was the <a href="MkLinux.html">MkLinux</a> page (April 97), but they seem to be making great strides towards eliminating the Unix dependencies of the VM.  To quote:
"The process now consists in eliminating <! page="">UNIX</a> dependent I/O system calls one after another. "
</P><P>
Link: <a href="http://www.camb.opengroup.org/RI/java/jlite/index.htm">http://www.camb.opengroup.org/RI/java/jlite/index.htm</a> 
</P><P>
Have at!
</P><P>
If you want an uptodate microkernel and don't want to write it from scratch, I suggest to have a look at L4.
<a href="http://os.inf.tu-dresden.de/L4/">http://os.inf.tu-dresden.de/L4/</a> 
I don´t know if they have overcome a licensing problem. If so, thats a minimal os-kernel. As it is able to act as a linux kernel it may be a useful base for jos.
--WernerMetterhausen
</P><P>
<HR>
</P><P>
We should not forget though, that a Java based OS ( or <a href="VirtualMachine.html">VirtualMachine</a> based OSes in general) need less of a kernel than "standard" OSes. <a href="StephenEarly.html">StephenEarly</a> creates a small and minimal kernel which will allow us to port Kaffe to for a start. It is expected to be finished very soon. This does not exclude the possibility that we could also port <! page="">JOS</a> as a personality to e.g. <a href="GNU.html">GNU</a> Hurd, though.
</P><P>
-MarkusPeter
</P><P>
<HR>
has anyone looked at the flux oskit?  they've already build a javaos
prototype, by linking kaffe and the oskit.  both are free software,
though the oskit is currently not available while the next release
is prepared (though you can ask for a copy of the previous release,
if you have a good reason to need it.
</P><P>
<a href="http://www.cs.utah.edu/projects/flux/oskit">http://www.cs.utah.edu/projects/flux/oskit</a>
</P><P>
<a href="mailto:rjones@pobox.com">rjones@pobox.com</a>
</P><P>
<HR>
The starting point for the OS should be a µ-kernel like the L4 µ-kernel ( <a href="http://os.inf.tu-dresden.de/pubs/sosp97/">http://os.inf.tu-dresden.de/pubs/sosp97/</a> ).
</P><P>
Design of the L4 µ-kernel:
"The L4 µ-kernel is based on two basic concepts, threads and address spaces. A thread is an activity executing inside an address space. Cross-address-space communication, also called inter-process communication (IPC), is one of the most fundamental µ-kernel mechanisms. Other forms of communication, such as remote procedure call (RPC) and controlled thread migration between address spaces, can be constructed from the <! page="">IPC</a> primitive."
</P><P>
Platforms of the L4 µ-kernel:
The L4 µ-kernel was "Originally developed for the 486 and Pentium architecture, experimental L4 implementations now exist for Digital's Alpha 21164 and <! page="">MIPS</a> R4600."
</P><P>
Objects can be implemented as basic unit of processing as active objects, as a address space with one or more threads, in the µ-kernel. Small object can for performace reasons be implementet as passiv objects, which life only inside a address space and may not be referenced by different active objects. This design enables the migration of active objects which is important for dynamic load balanceing, agent based processing, ... .
</P><P>
Address spaces can be implemented as persistent memory by user-level servers outside the µ-kernel. The <! page="">MATISSE</a> database system ( <a href="http://www.adb.com">http://www.adb.com</a> )can be a good starting point.
</P><P>
<a href="mailto:kloehner@csc.com">kloehner@csc.com</a>
<HR>
Matisse is a commercial product, isn't it? How do you propose we use it as the basis for presistent storage in a Free OS with a GNU-style license? --<a href="BillRehm.html">BillRehm</a>
<HR>
Anybody ever considered the <a href="GNU.html">GNU</a> gcc compiler for JOS?<br>
Read more &amp; react at: <a href="http://www.jos.org/cgi/hypertext.cgi?user=ChristianSchnell&amp;web=main&amp;topic=GCCconsiderations">GCCconsiderations</a>
<br>-- <a href="ChristianSchnell.html">ChristianSchnell</a> 1998/01/13
</P><P>
I updated that topic.
<br>-- <a href="ChristianSchnell.html">ChristianSchnell</a> 1998/01/15
<HR>
You'd be speaking of the ongoing work to add java to the list of languages that gcc/egcs can handle, and you'd obviously know more than I do about that.  We can certainly use gcc/j or egcs/j for compiling parts of the system, but the compiler we ship will have to be a classfile, not a native program.  This sounds like a VM/pkernel kind of thing, unless <! page="">RMS</a> is planning to start porting <a href="GNU.html">GNU</a> apps to java.  Any kernel hackers reading this page?
<HR>
I found this message in comp.lang.java.advocacy:
</P><P>
<PRE>
  It is possible to write an OS completely in Java,
  just imagine writing java code that produces the
  correct machine code to access the underlying
  hardware, not incredibly far fetched. Then imagine
  writing an OS in Java on Machine A that already
  supports Java, as a part of the OS, completely
  written in Java, it can compile itself to run
  on Machine B, that does not support Java. If
  nothing is written in C, then I call this an
  OS written in 100% Java. Of course it is also
  a compiler, but then, we are stepping up to
  the next generation of Operating systems
  that must know about compilation (ala Merced).
 
  Nothing prevents Java from "knowing" about
  interfacing with the underlying hardware,
  there is just no traditional way of doing
  when thinking in the non dynamic programming
  language context.
 
  Sean
</PRE>
</P><P>
Sound interesting. Can we write a kernel that compile itself
for any platform?
</P><P>
<br>-- <a href="mailto:paolo@squareusa.com">paolo@squareusa.com</a> 1998/02/03
<HR>
</P><P>
No. It's not possible, no matter which programming language. Each platform has its own specifics, and you have to do at least a porting of the platform-dependant code to the new platform.. Even if you create a 100% portable kernel in Java, then still the compiler would have to know about the specifics of each platform.
</P><P>
Furthermore there are no good Java->native code compilers around which would be suitable for doing low-level stuff. We can be lucky that finally the first Java->native code compilers for the application level are around ;-)
</P><P>
Having the kernel written in Java would maybe be a nice long-term goal, but surely no starting point for creating an OS.
</P><P>
<a href="MarkusPeter.html">MarkusPeter</a>
<HR>
I tend to agree... There has to be <STRONG>some</STRONG> level of communication to hardware.  Some it will be platform (or at least processor) dependent.  I have written up a basic idea for device drivers and memory management that deals with the hardware side of things.  It isn't complete, but it's worth talking about.  See <a href="KeithsDriverDesign.html">KeithsDriverDesign</a> for the info.
</P><P>
-- <a href="KeithMason.html">KeithMason</a> 16-Mar-1998
</P><P>
</P><P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<! page="">login</a> or <! page="">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
