<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>RichardDavies.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="dc04c72f0bc439254c802dc9a1883be0" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="image/wikiHome.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="UsersWebHome.html">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="MainWebHome.html">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="InfoWebHome.html">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="DevZoneWebHome.html">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="SupportWebHome.html">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<! page="">RichardDavies</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="ImportedWebHome.html">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=dc04c72f0bc439254c802dc9a1883be0" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<! page=""><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <! page="">info</a> on or <a href="WebHome.html">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<! page="">login</a> or <! page="">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="Glossary.html">topics</a>, <! page="">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="NewArticles2a.html">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<HTML>
<HEAD>
	<META NAME="Author" CONTENT="Richard Davies">
	<META NAME="GENERATOR" CONTENT="Mozilla/4.05 [en] (Win95; I) [Netscape]">
	<TITLE>Richard Davies</TITLE>
</HEAD>
<BODY>
</P><P>
<H1>
Introduction</H1>
Hi there. I just happened to stumble across the <! page="">JOS</a> project last week,
a day after I was again telling my flat mate how someone should really
get their act together and design a system shell in Java. I have thought
for a long time that Java is less like what most people describe it: [language
+ API] and more like [Operating System - a shell and a few other bits]
and it made perfect sense to me that someone should do something with it
to expand it into a full blow OS. I had already designed a brief outline
of what functionality I would like to include in a Java based OS before
I came across the <! page="">JOS</a> project and I thought it may be of interest so I
have put it <A HREF="#Java OS Arch">here</A>.
<H1>
About Me</H1>
Before I say any more, here is a bit about myself.
<BR>I have a B.Sc. in Computer Science, I started honours (my project was
"Prototype implementation of a functional and logic programming language")
but dropped out. At uni I worked mostly with various breeds UNIX. I have
worked with networks and PCs for the last 5 years. I have mostly done training,
support and programming. I have worked lots with MS Office. While I am
far too familiar with MS Access and have a reasonable amount of skill with
Oracle and <! page="">SQL</a> server. However, databases don't really interest me much
any more. This year I've done my <! page="">MCSE</a> and <! page="">SCJP</a> JDK 1.1 (and soon <! page="">MCSD</a> if
I can pull my finger out). I have tinkered with Java doing a few projects
of my own in it (in Genetic Programming). What really interests me in computing
(aside from Genetic Programming/Artificial Life/that sort of stuff) is
designing systems in general.
<BR>My email address is <A HREF="mailto:Richard<EM>Davies@racv.com.au">Richard</EM>Davies@racv.com.au</A>
<H1>
<A NAME="Java OS Arch"></A>My Original Ideas</H1>
I have browsed through the mailing list archives and subscribed myself
to a few of the mailing lists. There are lots of interesting ideas. What
I've got here are the ideas for a Java OS that I had largely prior to discovering
the <! page="">JOS</a> project. I have not really had time to catch up on all the discussion
so some of my ideas may have already been bandied about, enhanced or discarded.
But what the hell, here they are anyway:
<H2>
Goals</H2>
Before I stumbled upon the <! page="">JOS</a> project (while idly browsing the Java Lobby),
my goals for a Java based OS were:
<UL>
<LI>
Can be installed over any OS which supports a JRE.</LI>
</P><P>
<LI>
Will permit the the native applications and any functionality of the underlying
OS provided it does not conflict with the Java OS.</LI>
</P><P>
<LI>
Will enable a gradual transition of existing native services/applications
to Java based ones.</LI>
</UL>
Having browsed some of the mail archives, I cannot seem to find much mention
of the idea of building <! page="">JOS</a> so that it will function over any other OS.
The strong feeling I get is that a minimal Kernal will be used and the
<! page="">JRE</a> and other core <! page="">JOS</a> functionality built on top of that. Not that this
necessarily conflicts with what my goals are, but I was wondering how much
the above issues have been discussed. I someone could point me in the right
direction, or bring me up to speed, I would be grateful.
<H3>
Why I think the above goals are important</H3>
It seems a natural extension for Java, a platform independant programming
environment to spawn a platform independent OS. However, to create an OS
that <! page="">ONLY</a> runs Java applications would seem to be of limited usefulness
given the scarceness of available applications as compared to any established
platform. Of course, this situation would improve with time, but there
is the chicken and egg problem: You need an established OS to get people
to write apps for it and you need apps to establish the OS as important.
Of course, Java apps and applets are being written to run on the <! page="">JRE</a> and
those apps will presumably run on <! page="">JOS</a> as well. However, what will <! page="">JOS</a> give
you that another OS with a <! page="">JRE</a> can't?
</P><P>
<P>Well there are already a number of things discussed in the groups that
I have come across that are good answers to this: and OO file system. A
distributed OS. etc..
</P><P>
<P>However, what CAN'T you do under <! page="">JOS</a> with it running on it's own micro-kernal?
<BR>Run MS Office.
<BR>Use it on a computer with virtually any piece of hardware attached.
<BR>Run an enterprise database management system on it.
</P><P>
<P>These are huge plusses for an OS like Windows and UNIX.
</P><P>
<P>So: Why not combine the advantages of established OS's as much as possible
with a Java based OS, by layering it so that it can be at least partly
implemented over the top of an existing OS while still permitting access
to the underlying OS's functionality and applications?
</P><P>
<P>Now, I have thought about this a bit and there are definitely some difficult
issues that this idea raises, but I believe that it is still possible.
Also, I'm not suggesting that the entire <! page="">JOS</a> architecture could/should
be able to be implemented on top of an OS running a JRE, but it would be
useful if certain levels of the operating system (such as the Graphical
Shell) could be "broken off" and cleanly implemented over any OS.
<H2>
Levels of the Model</H2>
This was my original model for a Java based OS. At the time, I was thinking
more of simply implementing a Java based Graphical Shell that would be
able to be cleanly implemented on any platform.
<BR>Each level roughly describes a level of functionality.
<H3>
Level 1</H3>
These are the core functions for the OS. A far too simple list of these:
<UL>
<LI>
Basic file system access.</LI>
</P><P>
<LI>
Device/driver configuration.</LI>
</P><P>
<LI>
Network access.</LI>
</P><P>
<LI>
Process management: Start/stop any Java process or native processes.</LI>
</P><P>
<LI>
Event processing: All events should originate from this level.</LI>
</UL>
These would be the "absolute minimum" range of services upon which anything
could function. Some of this functionality is implemented (and exceeded)
in the JRE. Some is missing e.g.. I can't configure my hardware through
the <! page="">JRE</a> to the same degree as I can using the underlying OS.
<H4>
Sub level A (Modification of core OS services)</H4>
Certain functionality of the OS may possibly need to be modified. This
should only need to be done when the underlying OS does not present an
required interface to core OS functions that are to be exposed at Level
1. I imagine doing this, with breaking the functionality of native applications
on the OS would be tricky.
<H4>
Sub level B (JNI)</H4>
Implement all exposed native functionality (including that exposed from
Sub Level A) that is required and not already in the <! page="">JRE</a> API using JNI.
E.g.. windows registry could be accessed at this level and given a Java
interface. Those core OS functions that are in the <! page="">JRE</a> API already of course
do not need to be implemented.
<H4>
Sub level C (JNDI)</H4>
Provide a directory based abstraction for Sub level B using <a href="JNDI.html">JNDI</a> where
appropriate. Sub level B services could be implemented as SPIs. E.g. the
Windows Registry interface at Sub level B could be built as an <! page="">SPI</a> for
JNDI. I thought it would be nice to have as many as possible core OS services
accessible through a unified directory interface rather than as represented
in Sub level B and <a href="JNDI.html">JNDI</a> is designed to consolidate directory services from
a variety of different platforms. This level would be 100% java, but it
would still be tied to functionality present in a native OS. As the number
of SPIs available from other vendors increased, they could be easily slotted
in here.
<H4>
Sub level D (Core Java OS interface)</H4>
Create a platform independent interface to core OS functions. This would
tie to (in order of preference), the <! page="">JRE</a> API, Sub level C, Sub level B.
This would not necessarily be done as a complete a separate level of <a href="API.html">API</a>
services; it may simply be a definition of which classes from java.* and
sub levels A and B constitute "core os functionality". All functionality
from sub levels A and B would be abstracted to make it platform independent.
<H4>
Level 1 Summary</H4>
All core OS functionality exposed in a uniform 100% Java <a href="API.html">API</a> independent
of any underlying OS.
<H3>
Level 2</H3>
This level would contain
<OL>
<LI>
All exposed native functionality (native OS apps, system services, etc.)
that is not in Level 1.</LI>
</P><P>
<LI>
Java applications built on the <! page="">JRE</a> API.</LI>
</P><P>
<LI>
Java applications that use the Level 1 interface to extend Level 1 functionality.</LI>
</P><P>
<LI>
Java applications that use other Level 2 services.</LI>
</OL>
Note: Native functionality at this level, bypasses all functionality implemented
in Java at Level 1. This biggest issue with this model is this: How can
native applications and OS still function properly while handing over Core
OS functionality in Level 1 to Java? This seems, even with my little experience
in this area, to be a very complex issue. However, complex does not necessarily
mean impossible. Also, it wouldn't have to be done "all at once". Native
functionality could be gradually redirected from native OS services to
Level 1. An example to illustrate what I am getting at:
<BR>Windows 95 uses a hierarchical file system. Windows explorer and the
File Save/Open dialog boxes are the main native interfaces to this file
system. Let's say a new file system was introduce in Java in Level 2. This
file system would be built entirely over Level 1 (and possibly entirely
using the <! page="">JRE</a> API). Java applications could access this new file system
simply by using the new java implementation, but native applications couldn't.
However, parts of the native OS could be replaced: A browser for the new
file system could replace Windows Explorer and the system calls that trigger
the standard File Dialogs could be redirected to use the new Java Dialogs.
</P><P>
<P>A couple of other comments: This level would presumably have a component
(JavaBean) architecture. Native code could also be wrapped in <a href="JavaBeans.html">JavaBeans</a>.
More detail on structuring of Level 2 components should be added here but
I haven't really thought about it much.
<H3>
Level 3</H3>
Provide a unified directory of all native and non-native services available
at level 2. This directory group native and Java based apps and services
based on their functionality rather that the platform they were designed
for.
</P><P>
<P>A simple example:
<BR>Let's say there are both native and Java screen savers implemented
at level 2. This level, when asked for "screen savers" would list both
as available at this level.
</P><P>
<P>This level would be suited to a <a href="JNDI.html">JNDI</a> interface. An <! page="">SPI</a> which lists native
Level 2 applications and services could be written. Likewise, and Java
based services in Level 2 could be registered automatically here (using
reflection). It would be necessary for this directory to be aware of the
equivalence between native and Java based applications and services.
<H3>
Level 4</H3>
Shell functionality. The shell would discover services (OS config, any
native or java apps, etc.) from Level 3. It would then construct a basic
implementation of these as a shell. While it uses the Level 3 Unified Directory
to discover services, it should be tied solely to Java implemented at Level
1 or 2. See "<A HREF="#Transition">Transition</A>" for why.
<BR>I call this a "virtual" shell because this level would not be an actual
implementation of a shell. I noticed some discussion of Graphical and non-graphical
shells. I had only considered graphical shells up till now, although the
non-graphical shell would also fit in here too I suppose.
<H3>
Level 5</H3>
Shell customisation. A "win95 look and feel shell", and "X/Motif" look
and feel shell, etc... could be implemented at this level. These would
be pluggable. Same idea as pluggable look and feels as in Swing, except,
the entire shell functionality would be pluggable e.g.. how applications
are launched and stopped, etc...
<H3>
Comments</H3>
Some of the levels overlap a bit. This model is different from others I
have seen as it emphasises the ability to maintain native functionality
of an underlying OS as much as possible. It is also not necessarily mutually
exclusive with the requirements I have seen either.
<H2>
<A NAME="Transition"></A>Transition</H2>
My aim for this design was to get a framework that would produce a working
system quickly. I have illustrated how this may be done with the above
model using stages:
<H3>
Stage 1</H3>
Pick two Operating Systems (preferable as different as possible from each
other) you would like to build upon and then do the following for each
level of the model:
<OL>
<LI>
Design and implement basic core functionality in Java.</LI>
</P><P>
<LI>
Do nothing here yet. OS extensions can be written later.</LI>
</P><P>
<LI>
Write the <! page="">SPI</a> for native services at level 2. Write the code to facilitate
equivalencies between native and Java code.</LI>
</P><P>
<LI>
Design the abstract GUI. Level 2 services components could be written as
necessary. Check level 3 works as intended. Check any Level 2 services
work on both platforms.</LI>
</P><P>
<LI>
Implement the <! page="">GUI</a> using the look and feel of the underlying OS. Add to
Level 4 as necessary (with potential flow on to adding more components
to Level 2).</LI>
</OL>
</P><P>
<H3>
Stage 2</H3>
Now, by this stage, you should be able to swap the "Look and Feel"s of
the GUIs between the two platforms and they should work ok. Any combination
of the following can then be done:
<UL>
<LI>
Add higher level OS functionality in Java at Level 2.</LI>
</P><P>
<LI>
Redirect core native functionality at level 2 to use the Java OS.</LI>
</P><P>
<LI>
Implement on additional platforms.</LI>
</UL>
</P><P>
<H2>
Conclusion</H2>
Thanks for reading this far! There are probably many holes with this plan
that have been discussed. I have done little to revise this model in the
light of what I have read in the <! page="">JOS</a> newsgroups. I just hope that I have
provided some useful input. The idea of implementing over existing OS's
appeals to me for these fundamental reasons:
<OL>
<LI>
It leverages the enormous functionality of underlying OS's. The amount
of effort that has gone into building an exisitng OS (even ones you may
not like) cannot be underestimated. The hardware and driver support just
for Windows 95 is <B>HUGE</B>. The number of Windows, UNIX, Mac, Netware,
etc... applications is <B>HUGE</B>. I believe that discarding this is a
waste especially as Java presents a <B>UNIQUE </B>opportunity to provide
an OS that could integrate this underlying functionality of an OS with
services and applications that are written for Java. There is not a single
other OS that could even attempt to do this.</LI>
</P><P>
<LI>
To slowly convert the underlying OS system functionality into Java. This
is a sort of reverse-Microsoft strategy :). Imagine Microsoft's reaction
to being able to provide a whiz bang new file system (or whatever) to all
Windows (and JOS) applications - but only if you use Java!</LI>
</P><P>
<LI>
If native OS calls could be redirected to Java based code, and given that
the source for these is going to be publically available, it would greatly
open up the ability of people to provide extensions to other operating
systems. And not only that, a Java based extension made for one operating
system would work on others...</LI>
</OL>
My main concerns are:
<OL>
<LI>
What what I've written is too difficult (or impossible) to implement (especially
about redirecting native OS calls).</LI>
</P><P>
<LI>
The <! page="">JOS</a> group are already intent on implementing <! page="">JOS</a> from the "ground up"
and do not consider implementing <! page="">JOS</a> (in whole or in part) over other OS's
as plausible or important.</LI>
</OL>
Still, even if this is the case, maybe some parts of the model may be useful
to you. And maybe you could develop <! page="">JOS</a> from the ground up but with these
issues in mind for possibly extending parts of it over (and intergrating
with) existing OS's at some future date.
</P><P>
<P>R/
</BODY>
</HTML><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<! page="">login</a> or <! page="">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
