<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>SystemArchitecture.Main @ jos.sf.net</title>
  </head>

<body bgcolor="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<form action="/jump.php"><input type="hidden" name="PHPSESSID" value="52715438d5b71e69e87f630c4b5feaab" />

<!-- The JOS logo. !-->
<table border="0" cellspacing="0" cellpadding="3" width="100%">
<tr valign="TOP" align="LEFT">
	<td><a href="../index.html"><img 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="image/wikiHome.gif"></a></td>
	<!-- The tab table. !-->
	<td width="100%" align="RIGHT" bgcolor="#FFFFFF" valign="BOTTOM"> 
		<table border="0" cellspacing="0" cellpadding="3" width="100%" align="RIGHT">
			<tr valign="MIDDLE" align="LEFT">

<td bgcolor="White" width="60%">&nbsp;</td>
<td bgcolor="#FFFFCC"><a href="../index.html">Home</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFFFCC" align="CENTER"><a href="../info.html">Info</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFFFCC" align="CENTER"><a href="../dev.html">DevZone</a></td>
<td bgcolor="White">&nbsp;</td>
<td width="10%" bgcolor="#FFCC66" align="CENTER"><a
href="../wiki.html">Wiki</a></td>
<td bgcolor="White">&nbsp;</td>
			</tr>
			<tr>
				<td bgcolor="#FFCC66" align="RIGHT" colspan="9">
					<a href="UsersWebHome.html">UsersWeb</a>
					&nbsp;|&nbsp;
					<a href="MainWebHome.html">MainWeb</a>
					&nbsp;|&nbsp;
					<a href="InfoWebHome.html">InfoWeb</a>
					&nbsp;|&nbsp;
					<a href="DevZoneWebHome.html">DevZoneWeb</a>
					&nbsp;|&nbsp;
					<a href="SupportWebHome.html">SupportWeb</a>
				</td>
			</tr>
		</table>
	</td>		
</tr>
<!-- The WikiHeader. !-->
<tr><td colspan="2">
<table border="0" cellspacing="0" cellpadding="3" width="100%">
<tr>
	<td width="25%" align="CENTER" bgcolor="#FFFFCC" valign="CENTER">
		<b>[&nbsp;<! page="">SystemArchitecture</a>&nbsp;]</b>
	</td>
	<td width="25%" align="CENTER" bgcolor="#FFEE88" valign="CENTER">
		<b>[ not logged in ]</b>	</td>
	<td width="25%" align="CENTER" bgcolor="#FFDD77" valign="CENTER">
		<b>[ Web: <a href="MainWebHome.html">Main</a> ]</b>	</td>
	<td width="25%" align="CENTER" bgcolor="#FFCC66" valign="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" src="/media/go.gif?PHPSESSID=52715438d5b71e69e87f630c4b5feaab" border="0" VALUE="topic" ALT="goto">!-->&nbsp;<! page=""><FONT SIZE="-1">options</FONT></a>
	</td>
</tr>
</table>

<table border="0" cellspacing="0" cellpadding="3" width="100%">
	<tr>
	<td align="CENTER" bgcolor="#FFFFCC" valign="TOP">
		[&nbsp;get <! page="">info</a> on or <a href="WebHome.html">edit</a>&nbsp;]	</td>
	<td align="CENTER" bgcolor="#FFEE88" valign="TOP">
		[&nbsp;<! page="">login</a> or <! page="">new&nbsp;user</a>&nbsp;]	</td>
	<td align="CENTER" bgcolor="#FFDD77" valign="TOP">
		[&nbsp;list of <a href="Glossary.html">topics</a>, <! page="">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="NewArticles2a.html">recent&nbsp;changes</a>&nbsp;]	</td>
	</tr>
</table>

<!-- From CommonHeader !-->
</tr></td>
</table>
</form>

<!-- start BODY page !-->
<p>
<a href="JJOSPages.html">JJOSPages</a>
<hr>
In the beginning, there was the hardware.  In this hardware, and on it, and over it, ran <a href="JOSBox.html">JOSBox</a>; and verily, it was a virtual machine, composed of a kernel and a JVM; and there was much rejoicing, for <a href="JOSBox.html">JOSBox</a> ran many bytecode applications simultaneously, whose names were <a href="MultipleJavaProcesses.html">MultipleJavaProcesses</a>.  Above <a href="JOSBox.html">JOSBox</a>, there lived the Sun, whose platforms covered the sky in libraries.  Between the Sun and the <a href="JOSBox.html">JOSBox</a> were begat many layers, which were named many times and known by many names.
</p><p>
I think the Project agrees that the <a href="JOSBox.html">JOSBox</a> is the native code necessary and sufficient to virtualize the hardware to some standard interface, so that device drivers can be wrtten in Java.  That is, all the functionality above the <a href="JOSBox.html">JOSBox</a> could be implemented in Java.  Within the <a href="JOSBox.html">JOSBox</a>, several architectures are possible.  To borrow a term, we expect that the <! page="">UltimateJOS</a>, the distribution which one could install on an empty hard drive and run on naked silicon, will have a specific kernel part (hopefully implementing the <a href="KernelInterface.html">KernelInterface</a>), and a specific <! page="">JVM</a> part (hopefully written against the <a href="KernelInterface.html">KernelInterface</a>.  The <a href="JOSBox.html">JOSBox</a> could be implemented as a process on a host system; we would expect such an implementation, if based on a conventional JVM, to be incomplete, but useful for testing.
</p><p>
<hr>
[Project overview]  The teaseme project (http://teaseme.sourceforge.net) is a <! page="">JVM</a> which currently runs (to some degree or another) on three platforms: the Linux kernel, as a kernel module; a GNU/Linux system, as a user process; and on RJK, <! page="">RobertFitzsimmon</a>'s kernel.  /* In user mode?  As the `init' process? */
</p><p>
The <a href="JJOS.html">JJOS</a> project is composed of two parts: decaf, a C++ JVM, and jJOS, a C++ and assembler kernel.  decaf currently runs on jJOS and as a GNU/Linux user process.
<hr>
</p><p>
At some layer above this, we wish to support the full Java API.  Many libraries in the Java platform are Pure Java; a layer below them lies the `core Java API,' a small subset of which must be implemented by any spec-compliant JVM.  Above this layer lies those classes required by the Java Language Spec.  (This layer may be empty.)  Above that layer lies one final layer before the full Java API: the libraries which require native libraries on conventional JVMs.  Most of the functions of these libraries will be performed by bytecode in JOS: networking, file i/o, and the like.  This is the domain of <! page="">BCNI</a>, <a href="ByteCode.html">ByteCode</a> Native Interface, as akin to the Java Native Interface.  I hope that <! page="">BCNI</a> could be implemented in the JVM; that methods marked native by, say, java.net.SocketImpl could be redirected to native.net.SocketImpl, or something similar, thereby minimizing the diffs that the Project has to maintain against its chosen class library or libraries.  This may not be practical; in any case, <! page="">GCHII</a> is ready with his implementation of BCNI, which uses the factory paradigm to generate architecture-specific classes implementing with arhitecture-independent interfaces.
</p><p>
Aside from the Java API, we wish to provide the <! page="">JOS</a> API, which will expose the abilities of the operating system which are abstracted away by conventional JVMs.  This would include, as a primary example, process control and inter-process communication.  This layer would be notionally parallel to the Java <a href="API.html">API</a> layer, since it would depend on operations not available through the Java API; it would, however, make use of the Java <a href="API.html">API</a> as prudent.  It would include an abstraction of the system in the same way that the <! page="">JVM</a> provides an abstraction of a conventional O/S process.  (Notionally, the <! page="">JOS</a> `platform'; I am (will be) working on implementing console and keyboard abstractions in <code>jos.platform.*</code>.)Above this layer would the <a href="API.html">API</a> used by application programmers, <a href="JADE.html">JADE</a>, the <! page="">JOS</a> Application and Desktop Enviroment.  
</p><p>
There are few other names lying around the Wiki which I will attempt to fit into this understanding of the <! page="">JOS</a> <a href="SystemArchitecture.html">SystemArchitecture</a>.  <a href="JADE.html">JADE</a> is in not, I think, in the <a href="JOSCore.html">JOSCore</a>, but instead depends on it.  The <a href="JOSExtensions.html">JOSExtensions</a> are a layer below the Java <a href="API.html">API</a> which provide the `native' side of BCNI.  The <a href="JOSystem.html">JOSystem</a> is part of the <a href="JOSCore.html">JOSCore</a>, along with the kernel.  The <a href="JOSCore.html">JOSCore</a> marks the boundary above which no native (machine-code) components are required.  The <a href="JOSystem.html">JOSystem</a>, then, must be the Java to kernel bridge code.
</p><p>
I'll try an <! page="">ASCII</a> diagram, with where decaf's packages appear to go in (parentheses).
</p><p>
<pre>

| `legacy' applications | JOS-specific applications | JOS systems programming |
|-----------------------------------------------------------------------------|
| java API              | JADE                      | JOS API                 |
|                       |___________________________|                         |
|____________________________________|                                        |
| core java API         |              (jos.platform.*, jos.system.*)         |
|_______________________|_____________________________________________________|
| JOS Extensions -- ByteCode Native methods (jos.platform.drivers.*)          |
|_____________________________________________________________________________|
JOSCore{ | JOSSystem { | JVM-spec-required or JVM-specific classes          | |
       { |           { |-------------------------------|--------------------| |
       { |           { | java to machine interface     | the JVM itself     | |
       { |           { | (virtual machine)             |                    | |
       { |             |          |----------------------------------|      | |
       { |             |----------| kernel                           |------| |
       { |_____________|__________|__________________________________|______|_|
|-----------------------------------------------------------------------------|
| the hardware                                                                |
|-----------------------------------------------------------------------------|
</pre>
</p><p>
Dependencies proceed down the page.  JOSCore = JOSystem + kernel, where JOSystem = minimal classes + <! page="">JVM</a> + java to machine interface.  Note that the <! page="">JOS</a> API may depend on parts of the Java <a href="API.html">API</a> (possibly distinct from the core java API), and that parts of the core java <a href="API.html">API</a> may depend on the <! page="">JOS</a> API.  I hope the diagram helps. :)
</p><p>
See <a href="DriverArchitecture.html">DriverArchitecture</a> for my understanding of how <a href="JJOS.html">JJOS</a> currently handles its drivers.
</p><p>
-- <a href="ToddMiller.html">ToddMiller</a> ( 21 June 2001 )<br><br></p><!--

<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<tr><td align="CENTER">
<! page="">login</a> or <! page="">new&nbsp;user</a><tr><td>
</table>

!-->
<!-- end BODY page !-->

<hr>

<div align="CENTER">
<table border="0" cellpadding="3" cellspacing="0" width="100%">
<tr>
	<td align="CENTER" colspan="2">
		Content of these pages are owned and copyrighted by the poster.
	</td>
</tr>
<tr>
	<td align="RIGHT" width="50%">
		Hosted by:
	</td>
	<td align="LEFT">
		<a href="http://sourceforge.net/"><img 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></a>
	</td>
</tr>
</table>
</div>
</body>
</html>
