<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>RegistryFromText.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="0970233fbcdf58da51fa85ebdf8b8452" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//RegistryFromText?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">RegistryFromText</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/RegistryFromText?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">info</a> on or <a href="/edit/Imported/RegistryFromText?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FRegistryFromText&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FRegistryFromText&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE=-1><a href="/view.php?topic=RegistryPages&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">RegistryPages</a><wikitopic RegistryPages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (23 June 1999).</EM>
<H4>Introduction</H4>
Thanks to <a href="/view.php?topic=BrillPappin&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">BrillPappin</a><wikitopic BrillPappin /wikitopic>, I was reminded how so many things about the registry can go unspoken. One of my first assumptions about the registry is how the registry must be supported by plain text files. This assumption comes from the work I have done with other translators (interpreters and compilers). I have no doubt that a registry will come from text as well as binary file formats.
<H4>Help Wanted</H4>
<P>There is lots of opportunities for beginners as well as experts. While the registry interface is expected to remain constant (stable) across all of the different file formats, there is a lot of work to be done to import and export data from all kinds of text files, from the simplest (a so-called "property" file) to the most complex (XML).</P>
<H4>Index</H4>
<UL>
<LI><a href="/view.php?topic=RegistryFromXML&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">RegistryFromXML</a><wikitopic RegistryFromXML /wikitopic> A Java package needs to be written to import a standard <a href="/view.php?topic=XML&web=Imported&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">XML</a> <wikitopic XML /wikitopic>file (.xml) into a registry container. Both an implementation written to a generic registry and a more correct "model" of <nolink>XML is required.
<LI><a href="/view.php?topic=RegistryFromConf&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">RegistryFromConf</a><wikitopic RegistryFromConf /wikitopic> A Java package needs to be written to import a standard configuration file (.conf) into a registry container. Both an implementation written to the generic registry and a more correct "model" of the configuration file is required.
<LI><a href="/view.php?topic=RegistryFromINI&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">RegistryFromINI</a><wikitopic RegistryFromINI /wikitopic> A package is needed to import an initialization file into a registry container. Both a generic registry implementation (like <CODE>registry.BasicRegistry</CODE>) and a more correct "model" of an initialization file is required.
</UL>
<H4>Example</H4>
<P>The following example shows how a simple text file can contain "properties" for a registry. The following code demonstrates how to manually build an equivalent registry object.</P>
<TABLE WIDTH="100%" BGCOLOR="#EFEFEF">
<TR>
<TD>
// demo1.txt
<PRE>
name-1=value-1
name-2=value-2
name-3=value-3
</PRE>
</TD>
</TR>
<TR>
<TD>
<PRE>
  public Registry example() {
	 Registry txt = new BasicRegistry();
	 txt.setString( "name-1", "value-1" );
	 txt.setString( "name-2", "value-2" );
	 txt.setString( "name-3", "value-3" );
	 return txt;
  }
</PRE>
</TD>
</TR>
</TABLE>
<H4>Mapping</H4>
<P>A plain text file is mapped to a registry. Each line of a text file must contain a single property. The name appears on the left side of an equal sign; the value appears on the right.</P>
<H4>Conversion</H4>
<P>Since everything in a text file starts out as a string, a string-only implementation of a registry contains only strings. The <CODE>Registry.getObject()</CODE> method will return a <CODE>java.lang.String</CODE>.</P>
<P>When any registry contains strings, many conversions are possible. A registry must not provide custom conversion from one type to another. There is this other layer--on top of the registy <nolink>API--that must be able to convert from one type to another. This is the kind of functionality that all registries have in commmon. It is not necessary for an implementation of the registry interface to be so concerned with conversion.</P>
<P>When a requestor uses the <CODE>getInt()</CODE> method of a registry, it might not be possible to convert an item to an integer.</P>
<P>At this point, there is a <CODE>registry.Type1RegistryHelper</CODE> and <CODE>registry.Type2RegistryHelper</CODE>. These objects should be expanded to provide all kinds of conversions from one type of stored data to another. A registry implementation uses a helper to provide the type of data the requestor really wants (if at all possible).</P>
<HR>
The <CODE>textregistry1a.TextRegistryController</CODE> provides read/write access to these kinds of property files. The subprotocol supported by <CODE>TextRegistryController</CODE> is <STRONG>set:</STRONG>; the .set extension is also supported.
<PRE>
x-registry:set:file:/usr/local/example.set
x-registry:file:/usr/local/example.set
</PRE>
<P>By providing the set: subprotocol, this controller lets you read and write registries to a file with any extension:
<PRE>
x-registry:set:file:/usr/local/jvm.properties
</PRE>
The <CODE>textregistry1a</CODE> package is not available yet; it is coming soon. -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (6 July 1999).<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FRegistryFromText&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FRegistryFromText&PHPSESSID=0970233fbcdf58da51fa85ebdf8b8452">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
