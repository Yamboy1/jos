<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>RegistryPurpose.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="2e9ac45ff14cca86c311c92679459bf7" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//RegistryPurpose?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">RegistryPurpose</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/RegistryPurpose?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">info</a> on or <a href="/edit/Main/RegistryPurpose?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FRegistryPurpose&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FRegistryPurpose&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=RegistryPages&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">RegistryPages</a><wikitopic RegistryPages /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (revised 2 January 2002).</EM>
<H4>Introduction</H4>
We set out to build a registry. We must ask ourselves the question about what it is we are trying to accomplish by building a registry. What is the purpose of a registry?
<H4>Need is real</H4>
The need for a registry is real. Every operating system should provide a standard registry interface, or <nolink>API. A registry is an alternative to thinking in streams (as in <CODE>java.io</CODE> and <CODE>java.net</CODE>) and tables (as in <CODE>java.sql</CODE>). When a registry is written properly, we don't have to think so much about how configuration data is stored. Any complexity becomes part of the built-in registry interface, rather than part of every program.
</P><P>
Going forward, a registry should be applied to all kinds of storage problems. It manages a collection of loosly related data. A registry is another kind of <a href="/view.php?topic=DynamicStorageObject&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">DynamicStorageObject</a><wikitopic DynamicStorageObject /wikitopic>. Behind the scenes, a registry uses streams and tables.
</P><P>
Every program needs a good registry interface. We want to build flexibility into all of our programs. When a program is written to provide the most flexibility, it provides choices to the end-user. There are so many things we should not decide at compile-time. We want to provide alternatives and enable each end-user to decide for themselves.
<H4>About a compiler</H4>
A compiler program is a good example of giving the most choices to the end-user. Imagine a vendor optimizes their compiler for size, all size and nothing but size. As long as you like optimizing for size, you're happy. If all you're looking for is speed, you're going to be be disappointed. Fortunately, compiler vendors have figured out that such decisions should be left to the end-user. They enable you to <EM>customize</EM> their compiler.
</P><P>
Look at all of the command line options for your favorite compiler. There are hundreds. We use the command line options to customize a compiler. Customizing a compiler requires a certain kind of data. It is configuration data. Configuration data gives your customers an opportunity to affect run-time behavior and optimize a program to match <STRONG>their</STRONG> priorities.
</P><P>
Instead of providing all of the compiler options on a command line, better compilers provides some kind of configuration <EM>resource</EM>, such as an external file. The compiler reads a configuration file to set all of the defaults. Then it turns to the command line to finish the job.
</P><P>
The registry interface is better than command line options and the proliferation of file formats. A registry interface provides a compiler with all of the default options. Then it turns to the command line to finish the job.
<H4>Uses</H4>
A registry has many uses. There are a lot of things we'd like to do with a registry. We would like to provide a default configuration to each program. A compiler's registry might contain information about optional extensions currently available. It might reflect the preferrences your vendor, your administrator, you, and your project. Like a compiler, preferrences are resolved each time you run a program.
</P><P>
Many .conf and .ini files have the same style. We can take this one step further and give them the same <nolink>API.
<UL> <LI> A .conf file can be read by an implementation of the registry interface. Instead of dealing with the physical layout of a .conf file, a registry interface provides the important data it contains.
<LI> When an .ini file is read by an implementation of the registry interface, your program can deal with the data it contains.
</UL> <H4>Text files</H4>
Think of it. Among programmers, the most popular storage format of all time is the text file. The text file is used for all kinds of data. The text file format is flexible because it doesn't assume everything fits in neat rows and columns.
<UL> <LI> All that source code has to be stored somewhere. Text files is the most popular storage for source code because source code is configuration data, too.
<LI> Still not convinced? <nolink>SGML, <nolink>HTML and <nolink>XML are stored in text files. Log, trace and most output files are text files. Shell scripts, batch files, batch SQL, and many scripting languages are stored in text files. Configuration files (.conf and .ini) are stored in text files, too.
</UL> <H4>Translators</H4>
A text file needs a translator for a machine to make sense out of it.  Source code is passed to a translator to make sense out of it. Compilers and interpreters are kinds of translators. Your browser downloads and translates <nolink>HTML. An <nolink>SQL service translates <nolink>SQL statements. A shell translates a command. A good program must translate command line options, .conf and .ini files. A great program uses a registry interface to translate its configuration file(s).
<H4>About storage format</H4>
A registry is another resource. A registry interface should bring data to a program based on a uniform resource locator, or <nolink>URL. Most programs should not be concerned with how the data is stored.
</P><P>
These are not the kinds of things we can do with other data storage models. Configuration data doesn't fit neatly in rows and columns.
</P><P>
Although it is possible to store configuration data in an <a href="/view.php?topic=SQL&web=Main&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">SQL</a> <wikitopic SQL /wikitopic>database, it is not a perfect fit. A relational model is useful for the kind of data that fits in neat rows and columns. That model doesn't support (1) optional fields, (2) automatic recursive relationships, (3) dynamic definition.
</P><P>
Configuration data isn't the kind of data that is neat. If it is stored in <nolink>SQL, it must be forced. You lose many of the benefits of a relational database.<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FRegistryPurpose&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FRegistryPurpose&PHPSESSID=2e9ac45ff14cca86c311c92679459bf7">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
