<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>BytecodeInterpreter.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="9ceafa07897ef5aaad704eb1cc09ace1" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//BytecodeInterpreter?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">BytecodeInterpreter</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/BytecodeInterpreter?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">info</a> on or <a href="/edit/Main/BytecodeInterpreter?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FBytecodeInterpreter&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FBytecodeInterpreter&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=BytecodePages&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">BytecodePages</a><wikitopic BytecodePages /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (revised 15 June 2001).</EM>
<H4>Introduction</H4>
<EM>Bytecodes</EM> are tokenized, or pre-parsed, instructions. They are an interim representation of a program. Traditional compilers discard their interim representation of a program when targeting a well-known processor/platform. Other compilers save the interim representation of a program, either for pre-compiling or when targeting multiple processors/platforms.
</P><P>
For more information on bytecodes, see also <a href="/view.php?topic=ByteCode&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">ByteCode</a><wikitopic ByteCode /wikitopic>.
<H4>Part of <nolink>JVM</H4>
The bytecode interpreter is a prominent part of a Java Virtual Machine (<a href="/view.php?topic=JVM&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">JVM</a><wikitopic JVM /wikitopic>). Because it is so prominent a part, some have simplified the model and speak of the <nolink>JVM as if it were only a bytecode interpreter. But, there's more to it than that.
</P><P>
For more information on a virtual machine, see also <a href="/view.php?topic=VirtualMachine&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">VirtualMachine</a><wikitopic VirtualMachine /wikitopic>.
</P><P>
There are many parts of a native, or non-bytecode, <nolink>JVM-compatible program:
<UL> <LI> a command line interpreter,
<LI> a system property manager,
<LI> a bytecode loader,
<LI> a bytecode interpreter with single-step debugging option,
<LI> peer components for Abstract Windowing Toolkit (AWT),
<LI> an implementation of native process subsystem,
<LI> an implementation of native thread subsystem,
<LI> an implementation of native file subsystem,
<LI> an implementation of native network subsystem, and
<LI> many more.
</UL> 
Any JVM-compatible native program must interpret bytecodes made by any JVM-compatible compiler. Any JVM-compatible <EM>compiler</EM> must create bytecode instructions understood by the bytecode interpreter inside the JVM.
</P><P>
<H4>Why bytecodes?</H4>
Bytecodes are used instead of the original source code for at least these reasons:
<UL> <LI> to prevent casual tampering
<LI> to protect trade secrets,
<LI> to protect copyright and control derivative works,
<LI> to reduce the frequency of syntax errors at run-time,
<LI> to move complexity of source code translation to a ahead-of-time (compile-time) environment, where resources are maximized,
<LI> to extend the shelflife of a program, and
<LI> to optimize performance.
</UL> 
Source code is easy to edit. It is a human-readable form. It is easy for both authorized and unauthorized people to edit. In contrast, bytecode is hard to edit, <EM>and should be</EM>.
<UL> <LI> Casual tampering is a headache for all software developers. A competent programmer may spend years building high quality software. High quality software is well written, well tested and well documented. A competent programmer can easily be defeated by some unqualified person making casual (unofficial, untested, undocumented) changes the source code. After casual tampering, the software stops working. After that, the end-user reports a defect in the product. And after that, it is difficult, if not impossible, for the problem to be recreated in the laboratory.
</UL> 
The traditional commercial environment insists on keeping as many secrets as possible. It proposes that any thing that can be a secret should be a secret. Source code exposes these secrets and, as some believe strongly, removes any competitive advantage.
</P><P>
Shipping only bytecodes keeps the source code in the laboratory. Keeping the source code in the laboratory keeps it a secret. Keeping it secret prevents others from changing the source code to (1) fix defects, or (2) create derivative works. This is an easy way to protect the author's copyright. This is an easy way to prevent others from creating derivative works. It is easy to think about because bytecode is the only code you ship.
</P><P>
Programmers are human. They make mistakes. It becomes difficult, but not impossible, to produce high quality software by delivering the source code to the runtime environment. Runtime should not be the first time the source code is checked for simple syntax errors. In sharp contrast, the Internet promotes the delivery of <a href="/view.php?topic=HTML&web=Main&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">HTML</a> <wikitopic HTML /wikitopic>source code to the customer, where it is parsed and processed by the customer's browser.
</P><P>
The translation of source code is complex. A compile-time environment enables the compiler's author a lot of freedom to add features for developing good source code. Otherwise, the compiler would always be limited to the time contraints and limited resources of a run-time environment.
</P><P>
Bytecode helps extend the shelflife of a program. When the target interpreter isn't known, bytecodes can provide some form of platform independence, without stepping back to source code. This technique has been used successfully to enable new and improved versions of an intepreter to run old programs. A new interpreter could go as far as having a compatibility mode to run old programs.
&lt;P&gt;Lastly, bytecode can be optimized more directly than source code or native code. Opportunities for optimization are (1) when source is turned into bytecode and (2) when bytecode is turned into native code. In other words, the bytecode processor can be optimized independently of the compiler.
<H4>Architecture</H4>
The bytecode loader and bytecode interpreter should be loosely coupled. They are two separate concepts. We should approach them as two separate packages.
</P><P>
The bytecode loader package is responsible for
<UL> <LI> loading bytecodes for all system classes,
<LI> turning bytecode into classes,
<LI> verifying classes,
<LI> caching classes, and
<LI> making them available (quickly) to any requestor, including the bytecode interpreter.
</UL> 
The bytecode interpreter package takes over only after bytecode has been loaded. The interpreter is responsible for
<UL> <LI> context switching among threads and threadgroup,
<LI> executing bytecodes,
<LI> managing the heap, with static and instance variables
<LI> critical sections, and
<LI> stuff like that.</UL> <BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FBytecodeInterpreter&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FBytecodeInterpreter&PHPSESSID=9ceafa07897ef5aaad704eb1cc09ace1">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
