<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>BytecodeCache.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="82e84c3458ba9a1006c9d521672dbbbf" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//BytecodeCache?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">BytecodeCache</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/BytecodeCache?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">info</a> on or <a href="/edit/Imported/BytecodeCache?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FBytecodeCache&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FBytecodeCache&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=BytecodePages&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">BytecodePages</a><wikitopic BytecodePages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic>.</EM>
<H4>Introduction</H4>
<P>The <a href="/view.php?topic=BytecodeFactory&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">BytecodeFactory</a><wikitopic BytecodeFactory /wikitopic> is far more powerful than a class loader. While the class loader forgets about classes from one session to the next, there is a new kind of bytecode factory that doesn't forget. It is the bytecode cache.</P>
<TABLE WIDTH="100%" CELLPADDING="10" BORDER="1" BGCOLOR="#FFFFCC">
<TR>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>class manager</STRONG>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
OS file
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>master bytecode factory</STRONG>
</TD>
</TR>
</TABLE>
<P>The bytecode cache sits between a class manager and a master bytecode factory. For each new class, a class manager sends a request to a bytecode cache. The bytecode cache looks in its own persistent storage and, if possible, returns bytecode without going to a master bytecode factory.</P>
<P>When the bytecode cache does not have a copy of the bytecode for a class, the bytecode cache uses a master bytecode factory to get a copy. The bytecode cache store a copy of the bytecode before returning it to the class manager.</P>
<H4>Scenario</H4>
<P>When a bytecode factory spends precious time downloading bytecode from an application or <nolink>HTTP service, it should be able to load the same bytecode from a local file. On demand, the local cache should be able to drop one package at a time from the cache. The local cache can be emptied completely to force the bytecode cache to load bytecode from other sources.</P>
<H4><CODE>BytecodeCache</CODE> implements <CODE>BytecodeFactory</CODE></H4>
<P>The bytecode cache implements the bytecode factory interface. Why? Because the bytecode cache is a kind of bytecode factory, too. The class manager uses any bytecode factory. It can use a custom bytecode factory, a master bytecode factory or a bytecode cache.</P>
<P>Note: It is possible to run a <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">JVM</a> <wikitopic JVM /wikitopic>from bytecode that has been pre-loaded into the cache. The bytecode cache may be the only bytecode factory that your customers may ever need.</P>
<H4>SQL bytecode factory</H4>
<P>It is possible to store bytecode in an <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>database. How do you do that? You create a custom bytecode factory to read/write bytecode from an <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>database. When given the name of a class, the <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>bytecode factory might perform an <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>query, like this:
<TABLE WIDTH="100%" BGCOLOR="#EFEFEF">
<TR>
<TD>
<PRE>
select BYTECODE from TABLE1 where CLASSNAME='class-name'
</PRE>
</TD>
</TR>
</TABLE>
<P>It is possible to implement the bytecode cache using an <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>table, too.</P>
<TABLE WIDTH="100%" CELLPADDING="10" BORDER="1" BGCOLOR="#FFFFCC">
<TR>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>class manager</STRONG>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
<a href="/view.php?topic=SQL&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">SQL</a> <wikitopic SQL /wikitopic>table
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>master bytecode factory</STRONG>
</TD>
</TR>
</TABLE>
<H4>XML bytecode cache</H4>
<P>It is possible to store bytecode in an <a href="/view.php?topic=XML&web=Imported&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">XML</a> <wikitopic XML /wikitopic>file. It is possible to implement a bytecode cache using an <nolink>XML file. How do you do that? You create a custom bytecode factory to read/write bytecode from an <nolink>XML file.
<TABLE WIDTH="100%" CELLPADDING="10" BORDER="1" BGCOLOR="#FFFFCC">
<TR>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>class manager</STRONG>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
<nolink>XML file
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>master bytecode factory</STRONG>
</TD>
</TR>
</TABLE>
<H4>Synchronized</H4>
<P>Imagine you have been using a bytecode cache for a while. Some of the bytecode may be taking up space. If it hasn't been read by a class manager in a long time, the bytecode cache might remove it from its OS file automatically. It becomes a necessary part of a cache to synchronize all of its bytecode with its sources. The bytecode cache freshens its OS file by using a master bytecode factory. This can be performed in batch.</P>
<H4>Linked</H4>
<P>One bytecode cache can be linked to another. A local bytecode cache can read all of its bytecode from an application service on a network. An application service can read bytecode from any other application service on a network. Within the application service, there is a bytecode cache at work, using the master bytecode factory to search for bytecode. While the application service may store all of the bytecode anyone has ever used on the network, the local bytecode cache stores all of the bytecode used on a local machine.</P>
<TABLE WIDTH="100%" CELLPADDING="10" BORDER="1" BGCOLOR="#FFFFCC">
<TR>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
OS file
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
OS file
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
OS file
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<H4>Install</H4>
<P>When an application is <EM>installed</EM>, it is pre-loaded into the bytecode cache. That's it. It is simply pre-loaded. In order to install an application, an installer asks the bytecode cache for all (or most) of the classes used by an application by name. An installer uses the bytecode cache instead of the class manager.</P>
<TABLE WIDTH="100%" CELLPADDING="10" BORDER="1" BGCOLOR="#FFFFCC">
<TR>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>installer</STRONG>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER">
<STRONG>bytecode cache</STRONG>
<P>|</P>
<TABLE BORDER="1" CELLPADDING="20" BGCOLOR="#FFCC00">
<TR>
<TD>
OS file
</TD>
</TR>
</TABLE>
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
&lt;==
</TD>
<TD ALIGN="CENTER" VALIGN="TOP">
<STRONG>master bytecode factory</STRONG>
</TD>
</TR>
</TABLE><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FBytecodeCache&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FBytecodeCache&PHPSESSID=82e84c3458ba9a1006c9d521672dbbbf">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
