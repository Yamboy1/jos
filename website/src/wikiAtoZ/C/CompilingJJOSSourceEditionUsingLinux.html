<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>CompilingJJOSSourceEditionUsingLinux.DevZone @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="4de3e9664cfe9ce5c17844463cb942d3" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//CompilingJJOSSourceEditionUsingLinux?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">CompilingJJOSSourceEditionUsingLinux</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/DevZone/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">DevZone</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/DevZone/CompilingJJOSSourceEditionUsingLinux?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">info</a> on or <a href="/edit/DevZone/CompilingJJOSSourceEditionUsingLinux?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FCompilingJJOSSourceEditionUsingLinux&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCompilingJJOSSourceEditionUsingLinux&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/DevZone/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">topics</a>, <a href="/hubsnodes/DevZone/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/DevZone/?PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=SkillPages&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">SkillPages</a><wikitopic SkillPages /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (2 December 2001).</EM>
<H4>Introduction</H4>
This article explains how to compile <nolink>JJOS from C/C++ source code using the Linux operating system.
</P><P>
Compiling <nolink>JJOS on Linux is like compiling many other products on Linux, except much of the configuration of your development environment must be done manually. This product is distributed as an archive. It does not identify its dependencies automatically.
</P><P>
This article descripes how to compile the product from source after your have installed all of the dependent software. It describes what should happen when you run the make script properly.
<H4>Procedure 1</H4>
The following procedure illustrates how to compile the <CODE>host</CODE> build of <nolink>JJOS from the source edition.
<OL> <LI> <STRONG><CODE>cd arch/host/nativecode</CODE></STRONG> Switch to the <CODE>nativecode</CODE> directory. Each make script for the machine code part is stored in and designed to run from one of the <CODE>nativecode</CODE> directories. Intermediate files, such as object files, will be stored here.
<LI> <STRONG><CODE>make</CODE></STRONG> In general, the make script uses <nolink>NASM to assemble any source code written in assembler, uses <nolink>g++ to compile any C/C++ source code and then, if possible, invokes the separate make script for compiling the Java source code.
<LI> <STRONG><CODE>make init</CODE> or <CODE>make <nolink>TestSuite</CODE></STRONG> Start the <CODE>jjos</CODE> program with one of its standard classes or start it with your own custom class. The program will display messages and echo from the keyboard to the Linux text console. Press Control+C to stop the program.
</OL> <H4>Procedure 2</H4>
The following procedure illustrates how to compile the <CODE>i386</CODE> build of <nolink>JJOS from the source edition.
<OL> <LI> <STRONG><CODE>cd arch/i386/nativecode</CODE></STRONG> Switch to the <CODE>nativecode</CODE> directory for the <CODE>i386</CODE> build. Intermediate files, such as object files, will be stored here.
<LI> <STRONG><CODE>make</CODE></STRONG> Like the <CODE>host</CODE> build, the make script uses <nolink>NASM, <nolink>g++ and then invokes the separate make script for the Java source code. The make script should run without errors. Invoking the <CODE>make</CODE> command again should display a message that there's nothing to do. As a result, <CODE>jjos1d-nbi</CODE> is created and contains the corresponding jjos.zip archive.
<LI> <STRONG><CODE>make grub</CODE></STRONG> To compile the <nolink>GRUB-compatible program without installing it, use this command. As a result, the <CODE>jjos-grub</CODE> file is created.
<LI> <STRONG><CODE>make install-grub</CODE> or <CODE>make install-nbi</CODE></STRONG> To run the <CODE>i386</CODE> build for <nolink>GRUB, it should be installed so that the <nolink>GRUB boot disk can find it easily, in the /josboot directory. The <CODE>install-grub</CODE> target automates this. To run the <CODE>i386</CODE> build for Etherboot, it must be installed so that the <nolink>TFTP service can find it, in the /tftpboot directory. Also, it must be given the execute access with the <CODE>chmod</CODE> command. This is automated with the <CODE>install-nbi</CODE> target.
</OL> <H4>Dependencies</H4>
<UL> <LI> <STRONG><nolink>NASM</STRONG> To compile the <CODE>i386</CODE> build, some assembly is required.
<LI> <STRONG><CODE>mknbi-jos</CODE></STRONG> To create the <CODE>jjos-nbi</CODE> file, the <CODE>mknbi</CODE> program is required.
<LI> <STRONG><CODE>classes.zip</CODE> and <CODE>jjos.zip</CODE></STRONG> Because this process depends on the build of the Java source code, tt might be best to invoke that make script first, manually, before invoking it here.</UL> <BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FCompilingJJOSSourceEditionUsingLinux&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCompilingJJOSSourceEditionUsingLinux&PHPSESSID=4de3e9664cfe9ce5c17844463cb942d3">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
