<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>ClassLibrary.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="cf51d39d28f37000c5fc23ba059b4dec" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//ClassLibrary?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">ClassLibrary</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/ClassLibrary?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">info</a> on or <a href="/edit/Main/ClassLibrary?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FClassLibrary&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FClassLibrary&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=ArchitectureGroup&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">ArchitectureGroup</a><wikitopic ArchitectureGroup /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (16 September 1999).</EM>
<H4>Introduction</H4>
This is the best time and the worst time to be a C/C++ programmer. It is the best time because C/C++ programmers have learned most of what they need to know about writing Java classes. It is the worst time because C/C++ programmers can't find a linker or librarian. Without these tools, how can they deploy Java classes in a shrink-wrapped product?
</P><P>
The Java programming language is easy for many C/C++ programmers. Java, the programming language, is familiar to C/C++ programmers because it uses similar keywords and symbols.
</P><P>
The Java platform is difficult for many C/C++ programmers. While the language may be familiar, the platform is not. Java, the platform, is not familiar because it uses a class and jar files. Other platforms use object, library, and executable files. How are these files mapped to Java? This article suggests the following map:
<UL> <LI> A class file is equivalent to an object file.
<LI> A package file is equivalent to a library file.
<LI> A jar file is equivalent to an executable file.
</UL> <H4>Object files</H4>
A module in C/C++ and other languages might contain one or more classes. A module is inseparable. It is the smallest unit of machine code and constant pool. A module is compiled into an object file.
</P><P>
A class is compiled into a class file. A class file contains the bytecode and constant pool for a single class. A class file is an object file.
</P><P>
Where is the Java module? Since a module in Java must contain one and only one class, the module and class are one and the same. A class is a module; a module is a class. Module, the term, has been dropped from Java.
</P><P>
<EM>What is an object file?</EM>
</P><P>
In classic programming, the .o (or .obj) file is an object file. It is created by a compiler. It is used by a library tool and linker.
<H4>Library file</H4>
Libraries are created by a library tool, like the <CODE>lib</CODE> tool. The compiler does not create libraries.
</P><P>
A library is a collection of modules (object files). The library tool manages a library file. The library tool enables you to add module(s) to a library file, update module(s) in a library file, and delete modules from a library file.
</P><P>
After the object file is created, the library tool can read it. The library tool copies object files into a library file.
</P><P>
A library is called a class library when using an object-oriented method. A class library is a collection of classes. An interface library is a collection of interfaces.
</P><P>
In Java, the package is the closest thing to a class library. The package is a collection of classes, just as a class library is a collection of classes. The <CODE>package</CODE> statement assigns a class to a package when it is compiled.
</P><P>
<EM>Why doesn't Java have a library tool?</EM>
</P><P>
Since the compiler assigns a class to package, the need for a library tool doesn't seem to be that important. It is only important when you are doing system programming using the object-oriented method. It doesn't show up in application programming, where an executable file is suitable to the task.
</P><P>
With the introduction of the Package Manager, we have something like a library tool. The Package Manager creates a self-contained library file from a Java package.
<H4>Shared library</H4>
A library tool can create a static library or a shared library. A static library is useful to the link tool at static link-time. A shared library, also known as a dynamic link library, is useful to an executable at run-time.
</P><P>
The shared library is the foundation of software reuse. It provides a way to create a shared library and reuse it effectively inside many executables. The shared library is managed separately from executables.
</P><P>
<EM>Where is the shared library in Java?</EM>
</P><P>
The shared library is missing from Java. In its place, many Java programmers are limping along with executables.
</P><P>
At least in theory, a Library Manager should be able to create shared libraries for Java. The shared library is important to the efficiency of a virtual machine. It reduces the size of bytecode by creating a single constant pool for a package, rather than one constant pool per class.
<H4>Executable file</H4>
Executables are created by a linker tool, like the <CODE>link</CODE> tool. Neither the compiler nor library tool creates an executable file.
</P><P>
A linker creates an executable file. The object file is read by a linker. The linker copies object files into an executable file.
</P><P>
A smart linker copies only the object files used in the executable, minimizing the size of an executable file.
</P><P>
In Java, the <CODE>jar</CODE> tool is the closest thing we have to a linker. It isn't so smart. It needs help to copy only the object files that have been used in the executable. By itself, the <CODE>jar</CODE> tool does not minimize the size of an executable file.
<H4>Package constant pool</H4>
This is evolutionary. Most class files contain the same constant data. The constant pool of a class file contains different kinds of constants, including strings. If strings were copied to a package constant pool, there would be a 20% to 30% savings on the size of a package.
</P><P>
When a shared library is created in Java, a Library Manager merges constant pools from all classes into a package constant pool. The references to constants in a class are redirected to the package constant pool by introducing one new type of constant pool data, the package constant.
</P><P>
When a shared library is loaded, the whole shared library is loaded. The shared library contains the package constant pool. Therefore, the class inside a shared library has easy access to the package constant pool.
<H4>Shrink-wrapped product</H4>
A shrink-wrapped product is no longer the domain of for-fee license software. Free license software has gotten into the market of shrink-wrapped products. Take a look at shrink-wrapped distributions of Linux(r)-based applications. They are available today and the demand is strong and growing.
</P><P>
If you remove the products that are targeted at the Java developer/programmer, a shrink-wrapped Java product is hard to find. They are few and far between. Are there any?
<H4>Servlet runner</H4>
The servlet runner from Sun Microsystems is an example of the worst way to deploy a Java-based application. While <CODE>servletrunner.exe</CODE> is a native Windows program, it depends on the <CODE>java.exe</CODE> tool and a system environment configuration for one <a href="/view.php?topic=JDK&web=Main&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">JDK</a> <wikitopic JDK /wikitopic>at a time.
</P><P>
The <CODE>servletrunner</CODE> tool can't find the <CODE>java</CODE> tool. The <CODE>servletrunner.exe</CODE> tool does not have its own configuration. You cannot explain to the tool which <CODE>java.exe</CODE> tool it should run.
</P><P>
Where is the mechanism to make a <a href="/view.php?topic=JNI&web=Main&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">JNI</a> <wikitopic JNI /wikitopic>application aware of a Java virtual machine from Borland or Symantec? Sun Microsystems is not the only company with a Java virtual machine on the Windows(tm) sub-platform.
<H4><nolink>JavaReady PC</H4>
The <nolink>JavaReady PC initiative puts the cart before the horse. PC vendors do not put software on their PC just for the fun of it. Which Java runtime environment should they install? How can Java programmers use the virtual machine that has been installed?
</P><P>
Java needs a "killer" application. It needs an application that shows how Java can do what no other platform can do. Without library files (static and shared), the executable file is the only mechanism of distribution. Unfortunately, the <a href="/view.php?topic=JRE&web=Main&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">JRE</a> <wikitopic JRE /wikitopic>1.2 has associated the executable (.jar) file extension on Windows(tm) with the <CODE>java</CODE> tool, not the <CODE>jar</CODE> tool.
</P><P>
There is a lot to be said about the potential of the Java platform. How can Java live up to its potential? It must have an object file, library file and executable file.<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FClassLibrary&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FClassLibrary&PHPSESSID=cf51d39d28f37000c5fc23ba059b4dec">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
