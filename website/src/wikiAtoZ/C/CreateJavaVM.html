<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>CreateJavaVM.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="472d53ba8c3950da8ffd99580838b084" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//CreateJavaVM?PHPSESSID=472d53ba8c3950da8ffd99580838b084">CreateJavaVM</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=472d53ba8c3950da8ffd99580838b084" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=472d53ba8c3950da8ffd99580838b084"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/CreateJavaVM?PHPSESSID=472d53ba8c3950da8ffd99580838b084">info</a> on or <a href="/edit/Imported/CreateJavaVM?PHPSESSID=472d53ba8c3950da8ffd99580838b084">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FCreateJavaVM&PHPSESSID=472d53ba8c3950da8ffd99580838b084">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCreateJavaVM&PHPSESSID=472d53ba8c3950da8ffd99580838b084">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=472d53ba8c3950da8ffd99580838b084">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=JavaNativeInterface&PHPSESSID=472d53ba8c3950da8ffd99580838b084">JavaNativeInterface</a><wikitopic JavaNativeInterface /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=472d53ba8c3950da8ffd99580838b084">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (21 January 2000).</EM></P>
<H4>Introduction</H4>
<P>The <CODE>CreateJavaVM</CODE> subroutine is part of the <a href="/view.php?topic=InvocationAPI&PHPSESSID=472d53ba8c3950da8ffd99580838b084">InvocationAPI</a><wikitopic InvocationAPI /wikitopic>. It is available in machine code. It might be used by a Linux(r) program written in C/C++.</P>
<H4>Proposal</H4>
<P>The <nolink>JOS kernel should use the <CODE>CreateJavaVM</CODE> subroutine to create an instance of a <nolink>JOS-compatible virtual machine.</P>
<BLOCKQUOTE><EM>How does the jJOS kernel create an instance of the decaf virtual machine?</EM></BLOCKQUOTE>
<P>Once an instance of the decaf virtual machine has been created, the decaf virtual machine can be instructed to create an instance of any class.</P>
<H4>About Windows(tm)</H4>
<P>When implemented on Microsoft(r) Windows(tm), a virtual machine should be a dynamic link library called <CODE>jvm.dll</CODE> or <CODE>javai.dll</CODE>. It should not be compiled into an executable program, such as <CODE>jvm.exe</CODE>.</P>
<UL>
<LI><P><STRONG>Java 0 Platform</STRONG></P>
<P>A virtual machine that fully implements the Java 0 Platform can also implement the <a href="/view.php?topic=JavaNativeInterface&PHPSESSID=472d53ba8c3950da8ffd99580838b084">JavaNativeInterface</a><wikitopic JavaNativeInterface /wikitopic> and <a href="/view.php?topic=InvocationAPI&PHPSESSID=472d53ba8c3950da8ffd99580838b084">InvocationAPI</a><wikitopic InvocationAPI /wikitopic>. I am looking for a dynamic link library called <CODE>javai.dll</CODE> that implements the Java 0 Platform only.</P>
<LI><P><STRONG>Java 1 Platform</STRONG></P>
<P>A virtual machine that implements the Java 1 Platform is supposed to be called <CODE>javai.dll</CODE>. The name <CODE>javai</CODE> is an abbreviation for <EM>Java [bytecode] interpreter</EM>.</P>
<LI><P><STRONG>Java 2 Platform</STRONG></P>
<P>A virtual machine that implements the Java 2 Platform is supposed to be called <CODE>jvm.dll</CODE>. The name <CODE>jvm</CODE> is an abbreviation for <EM>Java virtual machine</EM>, which is a Java bytecode interpreter.</P>
</UL>
<H4>Prerequisites</H4>
<P>Before calling the <CODE>CreateJavaVM</CODE> subroutine, the machine code program must create a structure for parameters to the virtual machine.</P>
<P>The parameters to a virtual machine are <nolink>JVM-specific. Each virtual machine can have a unique set of parameters and performance options.</P>
<P>A virtual machine needs a classpath. The machine code must define a classpath and pass it to the new virtual machine through <CODE>CreateJavaVM</CODE>. A virtual machine is (typically) implemented so that the classpath is independent of the shared (or dynamic link) library.</P>
<P>A virtual machine must define an object of system properties. The system properties are set during the creation of the virtual machine and remain final throughout the lifetime of the machine. Additional system properties are set with parameters through <CODE>CreateJavaVM</CODE>.</P>
<P>Like other virtual machines, a <nolink>JOS virtual machine must have a file.separator property. Unlike other <nolink>JVM-on-OS virtual machines, it does not inherit a file separator constant from a foreign operating system. The file separator might be defined one way when running a virtual machine on top of the <nolink>JOS kernel and another way when running a virtual machine on top of Linux or Windows.</P>
<H4>About .cc files</H4>
<P>Out of the box, my C++ compiler does not recognise a .cc extension for C++ programs. I use Borland C++ 5.0. I'm not sure how to fix it.</P>
<P>Instead of .cc files, I have been using .cpp files for all C++ programs. I have to create additional .cpp files in order to compile decaf on Windows.</P>
<PRE>
// interp.cpp
#include &lt;interp.cc&gt;
</PRE><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FCreateJavaVM&PHPSESSID=472d53ba8c3950da8ffd99580838b084">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCreateJavaVM&PHPSESSID=472d53ba8c3950da8ffd99580838b084">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
