<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>CjOSStrategy.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="814f5a7d1b43b69dfd22241a4c75ff58" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//CjOSStrategy?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">CjOSStrategy</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/CjOSStrategy?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">info</a> on or <a href="/edit/Imported/CjOSStrategy?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSStrategy&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSStrategy&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=CjOSPages&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">CjOSPages</a><wikitopic CjOSPages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (20 November 2000).</EM></P>
<H4>Introduction</H4>
<P>A strategy vaguely describes the big picture. It does this without a lot of unnecessary detail. A strategy is to a plan what an architecture is to a design.</P>
<H4>Selection</H4>
<P>As a virtual machine designer, I am faced with strategy selection. There are many ways to develop a virtual machine. Which one should I chose?</P>
<P>I have selected a strategy. It is not a new strategy. It is not a new strategy for me. I have decided to examine each component in a virtual machine separately. I am taking my time. I am intentionally going slowly.</P>
<P>This strategy has evolved into something like a <a href="/view.php?topic=VMKit&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">VMKit</a><wikitopic VMKit /wikitopic>. Each component has a well-defined interface. Each component is replace-able. Eventually, each component should have its own specification, reference implementation and other kits, tools and articles.</P>
<H4>Thinking big</H4>
<P>I am thinking big. I can imagine that many virtual machine implementations could share a common code base. This might free other virtual machine designers to plug-in existing component, especially for those components that don't spark their interest.</P>
<P>I am thinking of a loosely-coupled virtual machine. It is as far from a monolithic virtual machine as I can imagine. A monolithic virtual machine has reusable components. Often a component is so vm-specific it cannot be used in any other virtual machine.</P>
<P>Let's look at decoding a class file. Each virtual machine designer might start with decoding a class file. While there are many implementations of this component in C/C++ and Java, there are few implementations that can be used in multiple virtual machine designs. By plugging in <EM>Pure Reflection for C</EM>, <EM>Pure Reflection for C++</EM> or <EM>Pure Reflection for Java</EM>, a vm designer can reuse existing components, shortening the time required to design, test and document this essencial part of every virtual machine.</P>
<H4>Future</H4>
<P>By providing a well-known interface between a virtual machine and a class file decoder, it becomes possible to expand the scope of a decoder without modifying its well-known interface. An automatic bytecode cache can be enable. An automatic bytecode verifier can be enabled. Many vm designers put bytecode verification on hold because of its complexity. Imagine a future where you can plug in bytecode verification as soon as it becomes available.</P>
<H4>Start with Java</H4>
<P>The Java programming language is an excellent language for prototyping an interface. The language itself supports the <CODE>interface</CODE> keyword. Just as <EM>Pure Reflection for Java</EM> was the model for <EM>Pure Reflection for C++</EM>, each component should premier in the Java programming language. A corresponding library should be created in C++ only when the Java library has matured. As a rule, Java is less expensive than C++ and should be used for modeling.</P>
<H4>Between C and C++</H4>
<P>A C++ component implents a component inside a machine code virtual machine. The C++ programming language is best suited for object-oriented system programming and should be used extensively in an object-oriented operating system.</P>
<P>A C-style <nolink>API provides the well-known interface to a C++ library. It is necessary to overcome the persistence barrier between a virtual machine and its loosely-coupled plug-ins. It is also necessary between a virtual machine and its kernel.</P>
<H4>Between Java and C</H4>
<P>In a full circle, the final implementation of a component should be exposed in a Java <nolink>API. The Java classes will use the C-style <nolink>API, and thus, provide your Java code with proxies for significant C++ classes.</P>
<H4>Summary</H4>
<P>This strategy enables parallel development of vm components. It enables each programmer to work on components that are most interesting. It is most practical because vm designers do not have to agree about every component, only components that can be re-used. Well-known interfaces mature more naturally as they are used by more and more vm designers.</P>
<P>While an object-oriented virtual machine is a good thing, a loosely-coupled <EM>and</EM> object-oriented virtual machine is better. While the <CODE>CJOS</CODE> Project requires a lot of work, I think it will be worthwhile.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSStrategy&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSStrategy&PHPSESSID=814f5a7d1b43b69dfd22241a4c75ff58">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
