<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>CjOSAndJarDesign.DevZone @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="e88258bac671392d7ea7daeb90f9b75d" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//CjOSAndJarDesign?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">CjOSAndJarDesign</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/DevZone/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">DevZone</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/DevZone/CjOSAndJarDesign?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">info</a> on or <a href="/edit/DevZone/CjOSAndJarDesign?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSAndJarDesign&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSAndJarDesign&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/DevZone/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">topics</a>, <a href="/hubsnodes/DevZone/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/DevZone/?PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=CjOSPages&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">CjOSPages</a><wikitopic CjOSPages /wikitopic>
<HR>
Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (2 March 2004, updated 16 April 2004).
<h4>Introduction</h4>
We have a goal for the <nolink>CjOS Project. We would like to distribute all our classes in a small set of Java archives (jars). Currently, our 4700+ classes cannot be compiled with one javac command on our equipment. And we would like to somehow separate "end-user", "developer" and "archive" packages so that some packages are optional and do not need to be installed.
</P><P>
<h4>Alternative</h4>
One serious alternative is to separate classes into groups, compile groups of classes in separate steps, and then build a jar file only after all groups have been compiled. It might be possible to archive 4700+ classes in a single jar.
</P><P>
<h4>Development and test packages</h4>
For many packages, a corresponding test package provides test programs and other classes to demonstrate the use of a package. For example, the <code>josdemo</code> package would be demonstrated by the <code>josdemo.test</code> package. A test package might be most interesting to a developer, but un-necessary for distribution with a custom application. In other words, the <code>josdemo</code> and <code>josdemo.test</code> package have been distributed in a Java archive called <code>josdemo.jar</code>. We are now proposing that we should not put a runtime and test package in the same Java archive. For example, if the <code>josdemo</code> package is distributed in the <code>josdemo.jar</code>, the <code>josdemo.test</code> package should be distributed in the <code>josdemo-test.jar</code>.
</P><P>
All run-time packages for the <nolink>CjOS Project could be distributed in a Java archive called <code>cjos.jar</code>. All test packages could be distributed in <code>cjos-test.jar</code>.
</P><P>
And again, many packages contain code that is intended for other Java developers to use. For example, the <code>josdemo.dev</code> package might contain a plug-in for the Master Compiler. The <code>gchii.tools.ant1a</code> package contains a plug-in Task for Ant. It is unlikely that these package would ever be distributed with a typical web application. Development packages could be distributed in a Java archive called <code>cjos-dev.jar</code>.
</P><P>
Therefore, our 4700+ classes could be distributed in a few jars:
<OL> <LI> <code>cjos.jar</code>
<LI> <code>cjos-dev.jar</code>
<LI> <code>cjos-test.jar</code>
</OL> 
<h4>Web applications</h4>
This project includes a small collection of web applications. These are distributed (or should be) as web application archives (WAR files).
<UL> <LI> Package Audit
<LI> Personal Wiki
<LI> Source
<LI> SQL-Doc
</UL> 
<h4>Smart <nolink>API</h4>
The Smart <nolink>API is now distributed in a single jar:
<UL> <LI> <code>cjos-smartapi.jar</code>
</UL> Previously, four jars were distributed independently:
<UL> <LI> <code>cjos-smartapi1a.jar</code>
<LI> <code>cjos-smartapi1b.jar</code>
<LI> <code>cjos-smartapi2a.jar</code>
<LI> <code>cjos-smartapi4a.jar</code>
</UL> To make all four versions of the Smart <nolink>API more easily available to your application, four jars have been combined into one.
</P><P>
<h4>Universal Browser</h4>
Universal Browser is a front-end for a collection of other products. During the build process, an Ant script should copy compiled classes from other jars into the target jar. It should not invoke the Java compiler much, if at all.
</P><P>
Version 1c is now distributed as an executable jar file. It demonstrates version 4a of Smart <nolink>API. It includes everything in version 1b, plus the latest tools.
<UL> <LI> <code>cjos-universalbrowser1c.jar</code>
</UL> 
Version 1b should also be an executable jar file. It demonstrates version 2a of Smart <nolink>API. It is a collection of other products.
<UL> <LI> <code>cjos-universalbrowser1b.jar</code>
</UL> 
An executable jar file has a Main-Class property in its manifest file. The Apache Ant tool has built-in support to set manifest properties in a jar. The "manifest" tag is supported by the "jar" task. In turn, a "property" tag is supported by a manifest tag.
</P><P>
The <nolink>CjOS Library product is also a collection of other products. Likewise, its Ant script should copy compiled classes from other jars.
</P><P>
<h4>Source code distribution</h4>
As a rule, a product should be built from its corresponding source code. Unfortunately, a mega-product made from other products cannot be built simply from its source code.
</P><P>
It might be possible to make a copy of the source code distribution for each sub-product and then provide a top-level build script to build the mega-product. This would enable us to distribute the source code for the mega-product.
<UL> <LI> smartapi1a builds cjos-smartapi1a.jar from source
<LI> smartapi1b builds cjos-smartapi1b.jar from source
<LI> smartapi2a builds cjos-smartapi2a.jar from source
<LI> smartapi4a builds cjos-smartapi4a.jar from source
<LI> smartapi builds cjos-smartapi.jar from cjos-smartapi1a.jar, cjos-smartapi1b.jar, cjos-smartapi2a.jar and cjos-smartapi4a.jar
<LI> khimera1a builds cjos-khimera1a.jar from source
<LI> khimera1b builds cjos-khimera1b.jar from source
<LI> khimera1c builds cjos-khimera1c.jar from source
<LI> khimera1d builds cjos-khimera1d.jar from source
<LI> khimera builds cjos-khimera.jar from cjos-khimera1a.jar, cjos-khimera1b.jar, cjos-khimera1c.jar and cjos-khimera1d.jar
<LI> :
<LI> cjos builds cjos.jar from cjos-smartapi.jar, cjos-khimera.jar, cjos-jose.jar, cjos-masterc.jar, cjos-program.jar, etc.</UL> <BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSAndJarDesign&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSAndJarDesign&PHPSESSID=e88258bac671392d7ea7daeb90f9b75d">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
