<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>CjOSKernel.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="1ab5d790b43dc5e4269b3c5db244b914" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//CjOSKernel?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">CjOSKernel</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/CjOSKernel?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">info</a> on or <a href="/edit/Imported/CjOSKernel?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSKernel&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSKernel&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=CjOSPages&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">CjOSPages</a><wikitopic CjOSPages /wikitopic>; <a href="/view.php?topic=VMKit&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">VMKit</a><wikitopic VMKit /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (27 November 2000).</EM></P>
<H4>Introduction</H4>
<P>A kernel is required for a Java-based operating system. A kernel requires a kernel development strategy. Some might build a kernel from scratch. Some might borrow a kernel from another operating system. All these strategies are part of one spectrum, with building everything at one end and borrowing everything at the other.</P>
<P>A balanced kernel-development strategy is somewhere in the middle. It might extend existing components from Etherboot, <a href="/view.php?topic=GRUB&web=Imported&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">GRUB</a> <wikitopic GRUB /wikitopic>and/or the OSKit. It might extend a virtual memory manager, file system and other components from another operating system, such as Linux. Each component might require a light or extensive modification to provide the kernel we want. Some components may be use-able without modification.</P>
<H4>jJOS kernel</H4>
<P>The <A HREF="JJOS?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">jJOS</A> kernel is found on the extremely liberal end. It has been constructed almost entirely from scratch. No kernel could match the requirements at the time, so one had to be painstakenly built with all new code. All new code is untested and is being used for the first time inside jJOS.</P>
<P>Appropriately, the jJOS kernel is not as extreme as it could be. It builds upon the well known work of Etherboot and GRUB. After that, it uses little of pre-existing, alternative kernels.</P>
<H4>Other kernel</H4>
<P>The ultra-conservative approach was the original strategy of Sun Microsystems. They intended to use other kernels without modification. Their virtual machines operate exclusively in "host" mode. A new kernel is not required. The <a href="/view.php?topic=SimpleJOS&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">SimpleJOS</a><wikitopic SimpleJOS /wikitopic>, <A HREF="JannuxPages?PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">Jannux</A> and <CODE>teaseme</CODE> projects are starting with a similar approach: A kernel can be used verbatim, <EM>and should be</EM>.</P>
<H4>About <CODE>CJOS</CODE></H4>
<P>The ultimate version of the Cj operating system (<CODE>CjOS</CODE>) is somewhere between jJOS and <nolink>SimpleJOS. While it starts with an existing kernel, it allows future customization of the kernel when the time comes. Components are modified as necessary.</P>
<P>In parallel, kernel research continues. The jJOS kernel is being analysed so that a <CODE>CjOS</CODE> kernel will boot successfully from Etherboot and GRUB. Unlike jJOS, the <CODE>CjOS</CODE> kernel will use an object factory interface for a virtual machine to discover the kernel, something like this:</P>
<PRE>
mc_Kernel *mc_getKernel();
</PRE>
<P>A kernel reference is not passed to a virtual machine at start-up.</P>
<H4>Strategy</H4>
<P>More importantly, the methodical approach to a <CODE>CjOS</CODE> kernel requires the early introduction of kernel modules. A <a href="/view.php?topic=KernelModule&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">KernelModule</a><wikitopic KernelModule /wikitopic> is a plug-in to the kernel. Unlike Linux where a kernel module can be loaded and unloaded dynamically, a <CODE>CjOS</CODE> kernel module must be statically linked to a boot-able executable image. A virtual machine is but one kind of kernel module.</P>
<P>A kernel module enables a methodical approach to testing the components used by a virtual machine. Different tests can be linked to the boot image. This kind of kernel test does not require any virtual machine. Thus, a standard C library can be fully tested with a new kernel before a virtual machine is finished. Different machine code devices can be plugged into the <CODE>CjOS</CODE> kernel without depending on a virtual machine. Some of this behavior may be exposed later in a Java-based <nolink>API/framework.</P>
<P>A virtual machine depends on a virtual memory manager; a virtual memory manager depends on a file subsystem. Initially, both a virtual memory manager and file system will be written in machine code.</P>
<H4>Language</H4>
<P>Like other components in the VMKit, the <CODE>CjOS</CODE> kernel will be written in C/C++. A C-style <nolink>API will be used when appropriate to provide library-to-library communication. C++ will be most likely used within each library, instead of C structures. From a plug-ins viewpoint, the <CODE>CjOS</CODE> kernel will be a statically linked library.</P>
<H4>Summary</H4>
<P>A foreign operating system will be used to develop most of the VMKit components. Any foreign operating system will do. Immediately, these components can be applied to the programming environment, giving a more effective use of a foreign operating system. Ultimately, a Java-based operating system will be self-contained and self-hosting. This strategy seems to be a methodical way to get there.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FCjOSKernel&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FCjOSKernel&PHPSESSID=1ab5d790b43dc5e4269b3c5db244b914">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
