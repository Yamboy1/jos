<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>FindApplication.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="ab3714eaa0ec7a7f79c9115ed85298f3" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//FindApplication?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">FindApplication</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/FindApplication?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">info</a> on or <a href="/edit/Imported/FindApplication?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FFindApplication&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FFindApplication&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=ApplicationPages&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">ApplicationPages</a><wikitopic ApplicationPages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (25 February 2000).</EM></P>
<H4>Introduction</H4>
<P>After spontaneously inventing an imaginary find program in a recent documentation example, I decided to write it. Here is an application which searches through directories and subdirectories for a file with a given extension.</P>
<P>I had the opportunity yesterday (24 February) to use find to help me get my work done. I was searching the <CODE>org.jos</CODE> packages for a class called <CODE>CommandNotSupportedException</CODE>. I could not find it. I used the find application to make sure I hadn't missed it.</P>
<TABLE BORDER="1">
<TR>
<TD WIDTH="50%" ALIGN="RIGHT">Directory:</TD>
<TD>&nbsp;</TD>
</TR>
<TR>
<TD WIDTH="50%" ALIGN="RIGHT">Extension:</TD>
<TD>Exception.java</TD>
</TR>
<TR>
<TD WIDTH="50%" ALIGN="RIGHT">Show:</TD>
<TD>all</TD>
</TABLE>
<P>This application provides a ideal model of function, program and application. The find application and find program are separate classes. While the application is visual, the program is non-visual.</P>
<P>Start the find application from the <a href="/view.php?topic=UniversalBrowser&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">UniversalBrowser</a><wikitopic UniversalBrowser /wikitopic> with the following location:</P>
<PRE>
run:program:org.jos.gchii.find1a.Find
</PRE>
<P>The <CODE>Find</CODE> class is part of the <CODE>org.jos.gchii.find1a package</CODE>. It is an application. You fill out a form describing what you want to find and press the Run button.</P>
<P>The <CODE>FindProgram</CODE> class is also part of the same package. It is a program. It extends <CODE>BaseConsoleProgram</CODE> from the <CODE>org.jos.gchii.smartprogram2a</CODE> package.</P>
<P>On Linux, we have a <CODE>find</CODE> program. Is it interactive? No. Is it simple? No. Is it reusable? No. Is it powerful? Yes. The following command finds all files that end with <CODE>.txt</CODE>.</P>
<PRE>
$ find -name *.txt
</PRE>
<P>On <nolink>JOS, we have a <CODE>Find</CODE> program. Is it interactive? Yes. Is it simple? Yes. Is it reusable? Yes. Is it powerful? Yes, but not in the same way as find on Linux. This find program does not write to standard out. It writes to its own console.</P>
<H4>Volunteers needed</H4>
Like find, I would like to use a bytecode version of grep and fc (file compare). Volunteers are needed to write these text utilities.</P>
<H4>Parameters</H4>
<P>The find program expects the following parameters. If no parameters or wrong parameters are given, it lists its own parameters.</P>
<UL>
<LI><P><CODE>path=<EM>v</EM></CODE><BR>
or<BR>
<CODE>directory=<EM>v</EM></CODE></P>
<P>The search starts in a given directory.</P>
<LI><P><CODE>extension=<EM>v</EM></CODE></P>
<P>The find program prints a list of all files with the matching extension. The full name of the file is printed.</P>
<LI><P><CODE>show=all</CODE></P>
<P>When the show=all option is used, the find program searches all subdirectories as well.</P>
</UL>
<H4>Creating a program</H4>
<P>The <a href="/view.php?topic=SmartAPI&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">SmartAPI</a><wikitopic SmartAPI /wikitopic> is used to create an instance of the find program. The find application creates a find program, passing parameters as part of the URI.</P>
<PRE>
  public void example() {
	 String n = "run:program:org.jos.gchii.find1a.FindProgram";
	 URI uri = new URI( n + "?path=&amp;extension=" );
	 Program p = (Program) uri.getObject();
	 if ( p == null ) {
		return;
	 }
	 :
  }
</PRE>
<H4>File processing</H4>
<P>What can you do with the find program once you create it? The find application connects the find program to its list console. The output from the find program is displayed in a list. This is not the only way to use the find program.</P>
<P>The find program outputs each file name to a console. The <CODE>Console</CODE> interface is part of the <CODE>org.jos.console3a</CODE> package. It defines a single method called <CODE>println()</CODE></P>
<P>A class might need to process each file, one file at a time. Instead of writing another class to find files, you can reuse the find program. Here is how you might do it.</P>
<P>The following program illustrates how to print the first ten lines of every .txt file.</P>
<PRE>
public class FirstTen
	 implements Console {
  public static void main( String[] args ) {
	 String n = "run:program:org.jos.gchii.find1a.FindProgram";
	 URI uri = new URI( n + "?path=&amp;extension=.txt" );
	 ConsoleProgram p = (ConsoleProgram) uri.getObject();
	 if ( p == null ) {
		return;
	 }

	 FirstTen c = new FirstTen();
	 p.setConsole( c );
	 p.run();
	 p.setConsole( null );
  }
  public FirstTen() {
  }
  public void println( String v ) {
	 // each "message" will be a file name

	 System.out.println( v );

	 URI uri = new URI( "in:data:file:" + v );
	 DataInputStream input = (DataInputStream) uri.getObject();
	 if ( input == null ) { 
		return;
	 }

	 String line;
	 int iMax = 10;
	 for ( int i = 0; i &lt; iMax; i++ ) {
		try {
		  line = input.readLine();
		}
		catch( IOException e ) {
		  break;
		}

		if ( line == null ) {
		  break;
		}

		System.out.println( line );
	 }

	 try {
		input.close();
	 }
	 catch( IOException e ) {
	 }
  }
}
</PRE>
<P>When run, the find program will output each file name it finds to the <CODE>println()</CODE> method of <CODE>FirstTen</CODE> object.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FFindApplication&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FFindApplication&PHPSESSID=ab3714eaa0ec7a7f79c9115ed85298f3">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
