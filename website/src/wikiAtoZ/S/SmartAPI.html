<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>SmartAPI.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="5111e6d1d693d1224f5ea06cb0179769" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//SmartAPI?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">SmartAPI</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/SmartAPI?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">info</a> on or <a href="/edit/Main/SmartAPI?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FSmartAPI&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FSmartAPI&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=API&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">API</a><wikitopic API /wikitopic>; <a href="/view.php?topic=SmartAPIPages&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">SmartAPIPages</a><wikitopic SmartAPIPages /wikitopic>
<HR>
Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (9 June 1999, revised 6 May 2002).
<H4>Introduction</H4>
We all want an expandable and smart <nolink>API. An expandable <nolink>API expects future growth. A smart <nolink>API gives us the current implementation of objects which implement an interface.
</P><P>
A smart <nolink>API is possible only through indirection. Indirection means that a program must ask a well-known object to give it the object its looking for. When a program goes directly to an implementation, it takes the smart out of an <nolink>API.
</P><P>
That's what factories are for. A factory is a well-known object that gives a program an object its looking for. For more information on factories, see also <a href="/view.php?topic=Factory&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">Factory</a><wikitopic Factory /wikitopic>.
</P><P>
As soon as a class exists, you might decide that it should be the "current" implementation of any interface in your system. Why wait? There is no need to wait. There is no point in waiting. You compile your Java source code and the compiler creates a class. When that class implements any interface from any <nolink>API, you must be able to configure the operating system to use it. It is immediate. Any delay is bad, very bad.
</P><P>
We must support both development and production systems. You need to be able to test your system and see if your implementation works. How do you "link" it and "un-link" it? You can do this interactively with a generic registry editor, or by using the registry interface.
<H4>Connection to URLs</H4>
A <a href="/view.php?topic=URL&web=Main&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">URL</a> <wikitopic URL /wikitopic>is designed to do the same kind of thing. It uses indirection. You use a protocol and subprotocol and sub-subprotocol to describe the kind of resource your looking for. The current implementation of a resource is predictable, yet determined by a lot of factors. It makes a browser smarter by configuring the browser to display different kinds of resources using different kinds of add-ons. Add-ons must implement the add-on interface. Other resources may be supported directly by a browser.
<H4>Connection to factories</H4>
A factory "creates" or "finds" an object which implements an interface. A factory must be created for each kind of interface.
<H4>Resource factory</H4>
Since <CODE>java.lang.Object</CODE> is a generic type in Java, it is possible to build a single resource factory that is capable of creating or finding or displaying all kinds of resources.
<H4>Smartest <nolink>API possible</H4>
An adequate <nolink>API helps us use objects that implement a specific set of interfaces. A smart <nolink>API helps us use past, present and future objects that implement an interface and all compatible interfaces.
</P><P>
While a good <nolink>API is flexible, a great <nolink>API is <EM>as flexible as possible</EM>.
<H4>Need for configuration</H4>
Since the kind of future resources cannot be known today, the resource factory must be configured. The resource factory configuration enabled us to add new kinds of resources, change our mind about which implementation of an interface we want our system to use. The resource factory configuration should enable us to prevent a particular resource from ever being used on our system.
<H4>Need for registry</H4>
As long as we need configuration, we need a registry. A registry is a perfect container for unpredictable, future-oriented configuration data.
<H4>Circular reference? No.</H4>
Since a registry is a resource obtained through a resource factory and the resource factory gets its configuration from a registry, it looks like this might be a circular reference--but, it's not. Only the resource factory should be able to pick a specific registry implementation to load its own configuration. We should expect the resource factory configuration to be stored through a registry implementation capable of encryption.
<H4>Source</H4>
Imagine a resource factory like this:
<PRE>
public interface ResourceFactory {
  public boolean acceptsURL( String url );
  public Object getResource( String url );
}
</PRE>
And imagine a master resource factory like this:
<PRE>
public class MasterResourceFactory
    implements ResourceFactory {
:
  public void addResourceFactoryByName( String url ) {
:
  }

  public void addResourceFactory( ResourceFactory v ) {
:
  }

  public void removeResourceFactory( ResourceFactory v ) {
:
  }
:
}
</PRE>
During the <nolink>JOS startup sequence, <nolink>THE resource factory is plugged into the kernel. It is configured to get the default "current" implementation of any class written by anyone that implements an interface. And with the registry editor in hand, you can quickly change the "current" implementation used by your system to anything.
</P><P>
The master resource factory adds custom resource factories to its internal search based on its configuration. When signalled, the master resource factory can dump all of the custom resource factories and reload its configuration. You can change the "current" implementation of just about any resource without rebooting your computer.
</P><P>
Based on the information from the World Wide Web Consortium ( <a href="http://www.w3.org/">http://www.w3.org/</a> ), it is the <nolink>URL that is the power of the web. A <nolink>JOS should be a next generation operating system, where <EM>everything's a resource</EM>.<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FSmartAPI&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FSmartAPI&PHPSESSID=5111e6d1d693d1224f5ea06cb0179769">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
