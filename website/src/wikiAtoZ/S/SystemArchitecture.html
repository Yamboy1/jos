<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>SystemArchitecture.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="52715438d5b71e69e87f630c4b5feaab" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//SystemArchitecture?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">SystemArchitecture</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=52715438d5b71e69e87f630c4b5feaab" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=52715438d5b71e69e87f630c4b5feaab"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/SystemArchitecture?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">info</a> on or <a href="/edit/Main/SystemArchitecture?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FSystemArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FSystemArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=52715438d5b71e69e87f630c4b5feaab">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=JJOSPages&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JJOSPages</a><wikitopic JJOSPages /wikitopic>
<HR>
In the beginning, there was the hardware.  In this hardware, and on it, and over it, ran <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic>; and verily, it was a virtual machine, composed of a kernel and a JVM; and there was much rejoicing, for <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic> ran many bytecode applications simultaneously, whose names were <a href="/view.php?topic=MultipleJavaProcesses&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">MultipleJavaProcesses</a><wikitopic MultipleJavaProcesses /wikitopic>.  Above <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic>, there lived the Sun, whose platforms covered the sky in libraries.  Between the Sun and the <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic> were begat many layers, which were named many times and known by many names.
</P><P>
I think the Project agrees that the <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic> is the native code necessary and sufficient to virtualize the hardware to some standard interface, so that device drivers can be wrtten in Java.  That is, all the functionality above the <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic> could be implemented in Java.  Within the <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic>, several architectures are possible.  To borrow a term, we expect that the <a href="/view.php?topic=UltimateJOS&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">UltimateJOS</a><wikitopic UltimateJOS /wikitopic>, the distribution which one could install on an empty hard drive and run on naked silicon, will have a specific kernel part (hopefully implementing the <a href="/view.php?topic=KernelInterface&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">KernelInterface</a><wikitopic KernelInterface /wikitopic>), and a specific <a href="/view.php?topic=JVM&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JVM</a> <wikitopic JVM /wikitopic>part (hopefully written against the <a href="/view.php?topic=KernelInterface&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">KernelInterface</a><wikitopic KernelInterface /wikitopic>.  The <a href="/view.php?topic=JOSBox&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSBox</a><wikitopic JOSBox /wikitopic> could be implemented as a process on a host system; we would expect such an implementation, if based on a conventional JVM, to be incomplete, but useful for testing.
</P><P>
<HR>
[Project overview]  The teaseme project (http://teaseme.sourceforge.net) is a <a href="/view.php?topic=JVM&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JVM</a> <wikitopic JVM /wikitopic>which currently runs (to some degree or another) on three platforms: the Linux kernel, as a kernel module; a GNU/Linux system, as a user process; and on RJK, <a href="/view.php?topic=RobertFitzsimmon&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">RobertFitzsimmon</a><wikitopic RobertFitzsimmon /wikitopic>'s kernel.  /* In user mode?  As the `init' process? */
</P><P>
The <a href="/view.php?topic=JJOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JJOS</a> <wikitopic JJOS /wikitopic>project is composed of two parts: decaf, a C++ JVM, and jJOS, a C++ and assembler kernel.  decaf currently runs on jJOS and as a GNU/Linux user process.
<HR>
</P><P>
At some layer above this, we wish to support the full Java API.  Many libraries in the Java platform are Pure Java; a layer below them lies the `core Java API,' a small subset of which must be implemented by any spec-compliant JVM.  Above this layer lies those classes required by the Java Language Spec.  (This layer may be empty.)  Above that layer lies one final layer before the full Java API: the libraries which require native libraries on conventional JVMs.  Most of the functions of these libraries will be performed by bytecode in JOS: networking, file i/o, and the like.  This is the domain of <a href="/view.php?topic=BCNI&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">BCNI</a><wikitopic BCNI /wikitopic>, <a href="/view.php?topic=ByteCode&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">ByteCode</a><wikitopic ByteCode /wikitopic> Native Interface, as akin to the Java Native Interface.  I hope that <a href="/view.php?topic=BCNI&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">BCNI</a><wikitopic BCNI /wikitopic> could be implemented in the JVM; that methods marked native by, say, java.net.SocketImpl could be redirected to native.net.SocketImpl, or something similar, thereby minimizing the diffs that the Project has to maintain against its chosen class library or libraries.  This may not be practical; in any case, <a href="/view.php?topic=GCHII&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">GCHII</a> <wikitopic GCHII /wikitopic>is ready with his implementation of BCNI, which uses the factory paradigm to generate architecture-specific classes implementing with arhitecture-independent interfaces.
</P><P>
Aside from the Java API, we wish to provide the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic>API, which will expose the abilities of the operating system which are abstracted away by conventional JVMs.  This would include, as a primary example, process control and inter-process communication.  This layer would be notionally parallel to the Java <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>layer, since it would depend on operations not available through the Java API; it would, however, make use of the Java <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>as prudent.  It would include an abstraction of the system in the same way that the <a href="/view.php?topic=JVM&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JVM</a> <wikitopic JVM /wikitopic>provides an abstraction of a conventional O/S process.  (Notionally, the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic>`platform'; I am (will be) working on implementing console and keyboard abstractions in <code>jos.platform.*</code>.)Above this layer would the <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>used by application programmers, <a href="/view.php?topic=JADE&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JADE</a><wikitopic JADE /wikitopic>, the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic>Application and Desktop Enviroment.  
</P><P>
There are few other names lying around the Wiki which I will attempt to fit into this understanding of the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic><a href="/view.php?topic=SystemArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">SystemArchitecture</a><wikitopic SystemArchitecture /wikitopic>.  <a href="/view.php?topic=JADE&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JADE</a><wikitopic JADE /wikitopic> is in not, I think, in the <a href="/view.php?topic=JOSCore&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSCore</a><wikitopic JOSCore /wikitopic>, but instead depends on it.  The <a href="/view.php?topic=JOSExtensions&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSExtensions</a><wikitopic JOSExtensions /wikitopic> are a layer below the Java <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>which provide the `native' side of BCNI.  The <a href="/view.php?topic=JOSystem&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSystem</a><wikitopic JOSystem /wikitopic> is part of the <a href="/view.php?topic=JOSCore&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSCore</a><wikitopic JOSCore /wikitopic>, along with the kernel.  The <a href="/view.php?topic=JOSCore&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSCore</a><wikitopic JOSCore /wikitopic> marks the boundary above which no native (machine-code) components are required.  The <a href="/view.php?topic=JOSystem&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOSystem</a><wikitopic JOSystem /wikitopic>, then, must be the Java to kernel bridge code.
</P><P>
I'll try an <a href="/view.php?topic=ASCII&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">ASCII</a> <wikitopic ASCII /wikitopic>diagram, with where decaf's packages appear to go in (parentheses).
</P><P>
<PRE>

| `legacy' applications | JOS-specific applications | JOS systems programming |
|-----------------------------------------------------------------------------|
| java API              | JADE                      | JOS API                 |
|                       |___________________________|                         |
|____________________________________|                                        |
| core java API         |              (jos.platform.*, jos.system.*)         |
|_______________________|_____________________________________________________|
| JOS Extensions -- ByteCode Native methods (jos.platform.drivers.*)          |
|_____________________________________________________________________________|
JOSCore{ | JOSSystem { | JVM-spec-required or JVM-specific classes          | |
       { |           { |-------------------------------|--------------------| |
       { |           { | java to machine interface     | the JVM itself     | |
       { |           { | (virtual machine)             |                    | |
       { |             |          |----------------------------------|      | |
       { |             |----------| kernel                           |------| |
       { |_____________|__________|__________________________________|______|_|
|-----------------------------------------------------------------------------|
| the hardware                                                                |
|-----------------------------------------------------------------------------|
</pre>
</P><P>
Dependencies proceed down the page.  JOSCore = JOSystem + kernel, where JOSystem = minimal classes + <a href="/view.php?topic=JVM&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JVM</a> <wikitopic JVM /wikitopic>+ java to machine interface.  Note that the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic>API may depend on parts of the Java <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>(possibly distinct from the core java API), and that parts of the core java <a href="/view.php?topic=API&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">API</a> <wikitopic API /wikitopic>may depend on the <a href="/view.php?topic=JOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JOS</a> <wikitopic JOS /wikitopic>API.  I hope the diagram helps. :)
</P><P>
See <a href="/view.php?topic=DriverArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">DriverArchitecture</a><wikitopic DriverArchitecture /wikitopic> for my understanding of how <a href="/view.php?topic=JJOS&web=Main&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">JJOS</a> <wikitopic JJOS /wikitopic>currently handles its drivers.
</P><P>
-- <a href="/view.php?topic=ToddMiller&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">ToddMiller</a><wikitopic ToddMiller /wikitopic> ( 21 June 2001 )<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FSystemArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FSystemArchitecture&PHPSESSID=52715438d5b71e69e87f630c4b5feaab">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
