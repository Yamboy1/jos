<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>StartupSequencePart2.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="a8303e936c6d933c9574e492e2ab6f8a" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//StartupSequencePart2?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">StartupSequencePart2</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/StartupSequencePart2?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">info</a> on or <a href="/edit/Imported/StartupSequencePart2?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FStartupSequencePart2&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FStartupSequencePart2&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic>.</EM>
<H4>Introduction</H4>
<P>Only a few of the packages in a primary <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>should be boot packages. Boot packages are linked directly to the native code of the JVM. There are a lot of other packages that should not be boot packages. How are these other packages loaded? Loading additional packages is dependent on adequate device drivers.</P>
<P>For more information on part one, see also <a href="/view.php?topic=RegistryDesign&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">RegistryDesign</a><wikitopic RegistryDesign /wikitopic> and <a href="/view.php?topic=StartupSequence&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">StartupSequence</a><wikitopic StartupSequence /wikitopic>.</P>
<H4>Additional packages</H4>
<P>Additional packages can be loaded by custom class loaders. The <CODE>ClassManager</CODE>, derived from <CODE>java.lang.ClassLoader</CODE>, can load additional packages from package files.</P>
<P>Additional packages can be stored in .class, .zip, .cab, .jar or package files. Additional packages can be downloaded across a network. Additional packages may be installed as drivers, too. Once the OS file subsystem driver and the OS network subsystem driver are installed, files, directories, hosts and ports exist. Once these mechanisms exist, we have all of the power of dynamic class loading to install additional drivers.</P>
<P>A system-wide registry driver has to be stored somewhere. And the registry data has to be stored somewhere. It makes sense for the system-wide registry driver to proceed the network, printer, modem, video, and mouse drivers. Why? Because the registry driver stores the configuration for all these things.</P>
<P>Which comes first? Should the OS file subsystem come first? Or, should the registry driver come first? I believe that a bootstrap approach to the OS file subsystem is this:
<UL>
<LI>The core OS file subsystem preceeds the registry driver. The core OS file subsystem has only barely adequate read-only access to a local harddrive, floppy drive and CD-ROM.
<LI>The registry driver comes second. The registry driver depends on an OS file subsystem. From this barely adequate access, the registry driver can read its persistent configuration. The system-wide registry provides information on the likely hardware of the local machine and its likely hardware devices.
<Li>The configuration manager is third. The configuration manager replaces parts of the OS file subsystem as device drivers are installed, tested and brought up to speed. The configuration manager depends on the registry driver. If the configuration manager "thinks" there is supposed to be a printer port and finds none, this requires operator intervention. If the configuration manager "thinks" there is supposed to be a network card and finds none, this requires operator intervention.
<LI>After the configuration manager is "done", the fully loaded operating system is ready to launch a shell.
</UL>
<H4>Core OS file subsystem package</H4>
<P>A package contains the core OS file subsystem. Some of the classes in this package are supported by native methods. This package must be part of the boot package.</P>
<P>The registry driver, configuration manager, and everything else can be stored separately. These drivers can be recompiled and replaced without recompiling or relinking the primary JVM.</P>
<P>The registry driver supports the change of the configuration of the operating system. Changes to the configuration are managed without recompiling and relinking the primary JVM. In fact, many configuration changes don't even require a restart of the JVM. Many changes don't require a boot of a computer, only the restart of the JVM.</P>
<P>The core OS file subsystem expects to find the registry driver and configuration manager for the local hardware on local hardware. The local hardware doesn't download its configuration from the network, because it needs a configuration to configure the network.</P>
<H4>Generic primary JVM</H4>
<P>The <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JOS</a> <wikitopic JOS /wikitopic>Project should produce a generic primary <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>for general distribution. End-users shouldn't have to recompile a <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>often, if at all. They use the JVM, verbatim, as a file in the <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JOS</a> <wikitopic JOS /wikitopic>distribution. Recompiling the <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>itself should rare because so much of the code is written in Java.</P>
<H4>Building a primary JVM</H4>
<P>As a <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>developer, you might compile and link the <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>frequently, especially at first. When your JVM, with its native code and boot packages is stable, you want to distribute it. A specific build of the <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>can be distributed if the native code and boot packages are inseparable. The <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>needs to be recompiled when either the native code or boot packages have changed.</P>
<H4>Linking a primary JVM</H4>
<P>As a <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JOS</a> <wikitopic JOS /wikitopic>developer, you might relink the <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>to alter its startup sequence. By relinking Java code, you can introduce a brand new device architecture. Relinking the <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">JVM</a> <wikitopic JVM /wikitopic>is not something you want to do in order to add new drivers. Relinking is something you must do in order to switch to a brand new driver architecture.</P>
<P>While one architecture may be based on a dynamic registry, another architecture may be based on simpler and static configuration files (.conf) or initialization files (.ini). While one architecture may be based on a system-wide registry, another may be based on a more independent local registry.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FStartupSequencePart2&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FStartupSequencePart2&PHPSESSID=a8303e936c6d933c9574e492e2ab6f8a">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
