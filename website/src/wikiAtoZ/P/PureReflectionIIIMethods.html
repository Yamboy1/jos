<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>PureReflectionIIIMethods.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="8cb0ccb78de5b93fd6398304f1fa3d38" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//PureReflectionIIIMethods?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">PureReflectionIIIMethods</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/PureReflectionIIIMethods?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">info</a> on or <a href="/edit/Imported/PureReflectionIIIMethods?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FPureReflectionIIIMethods&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FPureReflectionIIIMethods&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=BytecodePages&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">BytecodePages</a><wikitopic BytecodePages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (31 January 2000).</EM></P>
<H4>Introduction</H4>
<P>At the minimalist level, it is not necessary for pure reflection to reflect the content of any attribute. Content of an attribute block is considered a binary payload. The length of a payload is part of the attribute's header.</P>
<P>At the next level of pure reflection, it is necessary to decode the "Exceptions" attribute of a method. The optional "Exceptions" attribute corresponds to the optional "throws" clause of a method. The "Exceptions" attribute lists zero or more classes that might be thrown by a method.</P>
<H4>Methods</H4>
<P>In the method table, a method structure neither contains its exception list or bytecode. A method structure contains
<UL>
<LI>access of a method (public, protected, private, etc.),
<LI>method name,
<LI>method descriptor (including parameters and return type),
<LI>attribute table
</UL>
<H4>Exceptions table</H4>
<P>Each method can have zero or more exceptions as part of its signature. Instead of adding the exception table to the method block, the exception table is an attribute of the method. The kind of attribute is "Exceptions".</P>
<P>In a sample from the Java programming language, a method must declare the methods it can throw to a calling method. This is a list of class names. Each class must be an extension of <CODE>java.lang.Throwable</CODE>.</P>
<PRE>
public interface ExceptionTableInterface {
  public void example()
		throws java.io.IOException,
				 java.util.NoSuchElementException,
				 java.lang.ArrayIndexOutOfBoundsException;
}
</PRE>
<P>This declaration creates the following "Exceptions" table</P>
<PRE>
  exception_count = 3
  CLASS java/io/Exception
  CLASS java/util/NoSuchElementException
  CLASS java/lang/ArrayIndexOutOfBoundsException
</PRE>
<P>It is not necessary to list extensions of <CODE>RuntimeException</CODE> in the exception table because all runtime exceptions are implied all the time.</P>
<P>In the "Exceptions" attribute of a method, the first two bytes of the attribute payload is an unsigned integer (u2) providing the number of exceptions in the table.</P>
<UL>
<LI><P>The number of exceptions can be zero; or,</P>
<LI><P>The "Exceptions" attribute for a method is optional. If there are no exceptions, the "Exceptions" attribute can be omitted from a class file.</P>
</UL>
<P>For each exception in the table, an unsigned integer (u2) is an index to a <a href="/view.php?topic=CLASS&web=Imported&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">CLASS</a> <wikitopic CLASS /wikitopic>entry in codepool.</P>
<H4>Opcode table</H4>
<P>In the "Code" attribute of a method, the payload is a structure. This structure contains the max_stack (u2), max_local (u2), opcode table, try/catch table and more attributes.</P>
<P>The opcode table has a variable length record. Each opcode expects a certain number of additional bytes as an operand. Each opcode is one byte (u1). This opcode is used to look up the length of the operand, if any.</P>
<P>The try/catch table contains zero or more try/catch structures. The try/catch table is based upon pc. When an exception is thrown in the body of a method, it might be caught if the pc is found in the try/catch table. Otherwise, the exception is thrown to the calling method and must be named in the "Exceptions" attribute. Each try/catch structure has start_pc and end_pc. It is important for the interpreter to keep track of pc properly for the try/catch mechanism to work.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FPureReflectionIIIMethods&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FPureReflectionIIIMethods&PHPSESSID=8cb0ccb78de5b93fd6398304f1fa3d38">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
