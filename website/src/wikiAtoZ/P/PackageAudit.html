<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>PackageAudit.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="c2a9a2800176047529906a160f3c9928" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=c2a9a2800176047529906a160f3c9928">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=c2a9a2800176047529906a160f3c9928">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=c2a9a2800176047529906a160f3c9928">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=c2a9a2800176047529906a160f3c9928">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=c2a9a2800176047529906a160f3c9928">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//PackageAudit?PHPSESSID=c2a9a2800176047529906a160f3c9928">PackageAudit</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=c2a9a2800176047529906a160f3c9928">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=c2a9a2800176047529906a160f3c9928" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=c2a9a2800176047529906a160f3c9928"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/PackageAudit?PHPSESSID=c2a9a2800176047529906a160f3c9928">info</a> on or <a href="/edit/Main/PackageAudit?PHPSESSID=c2a9a2800176047529906a160f3c9928">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FPackageAudit&PHPSESSID=c2a9a2800176047529906a160f3c9928">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FPackageAudit&PHPSESSID=c2a9a2800176047529906a160f3c9928">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=c2a9a2800176047529906a160f3c9928">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=c2a9a2800176047529906a160f3c9928">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=c2a9a2800176047529906a160f3c9928">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=IndexPages&PHPSESSID=c2a9a2800176047529906a160f3c9928">IndexPages</a><wikitopic IndexPages /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=c2a9a2800176047529906a160f3c9928">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (11 May 2001).</EM>
<H4>Introduction</H4>
Some packages are worth publishing; some are not. Over the course of many years, I have implemented many Java packages. Packages that I consider worthwhile to others, I have published under the <EM>GNU Public License</EM> (GPL). Some packages are not ready for public view. I have kept them to myself.
</P><P>
There are a lot of packages in my development environment. A package audit helps me review my decision to publish or not. The smallest unit of publishing in the Java programming language is the package.
<H4>Procedure</H4>
The following example illustrates the package audit procedure:
<OL> <LI> Create a flat list of all packages in a development environment. To make certain that all packages have been identified, this step must be automated. A <EM>package</EM> is a directory which contains at least one <CODE>.java</CODE> file. A flat list is more useful than a hiarchy.
<LI> Create a list of all published products. The current list of products comes from collections, such as the <EM>JOS Technical Edition</EM>, and <a href="/view.php?topic=CVS&web=Main&PHPSESSID=c2a9a2800176047529906a160f3c9928">CVS</a> <wikitopic CVS /wikitopic>sites, such as <CODE>CjOS</CODE> and <CODE>JJOS</CODE> on <a href="/view.php?topic=SourceForge&PHPSESSID=c2a9a2800176047529906a160f3c9928">SourceForge</a><wikitopic SourceForge /wikitopic>.
<LI> A package can participate in zero or more products. A package can be un-published. A package can be published in one or more products. Each product has a list of packages.
<LI> For each product, the name of the product is added to the flat list of all packages. When this step is complete, some packages will have no corresponding products. Other packages will have one or more corresponding products.
<LI> For packages with no corresponding product, each package must be reviewed to determine why a package has not yet been published. Some packages should have been published in an existing products. If so, a new release of a product is probably published. Some packages should not be published and remain so. Other packages need a more work to be completed before they are ready for publication. This becomes a <EM>to do</EM> list for the next 90 days.
</OL> <H4>License</H4>
Some packages have been published without corresponding license information. A further audit of the source code reveals these packages. This is an oversight. License information should be provided in every source code file. License information is added and a new release of affected products are published.
<H4>Ownership</H4>
Some packages may have been published by others. Some package I own. Some I don't. Most unfortunately, I mistakenly allowed my development environment to contain both. It would have been better to keep my packages on a separate volume. I am working to remedy this. An audit reveals which packages are published by others and should be moved to a separate volume.
<H4>Summary</H4>
The Java programming language is oriented toward the package. Many <a href="/view.php?topic=PackageOriented&PHPSESSID=c2a9a2800176047529906a160f3c9928">PackageOriented</a><wikitopic PackageOriented /wikitopic> tools are possible, including tools to help with this package audit procedure. For example, a program determines if a directory contains at least one <CODE>.java</CODE> file. A tool determines when a package is part of a product. Another tool should be used to maintain a list of corresponding products for each package. It would be useful to maintain a description for each package, when a package was created, when a product was published and when the last audit was performed. If parts of the package audit procedure were automated, packages could be audited more frequently. The results of one audit could be used by the next.
<HR>
Version 1a is the first implementation of the <EM>Package Audit</EM> utility. It is written in the Java programming language and explicitly versioned in the gchii.tools.packageaudit1a package.
</P><P>
This version uses the <EM>Finder API</EM> to read a product directory tree. Each directory is converted into a package name if it has are any <CODE>.java</CODE> files. The package name is inserted into a <CODE>PKGLST</CODE> table.
<UL> <LI> Every record has a <CODE>VALID</CODE> field. By default, only valid records are displayed.
</UL> -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=c2a9a2800176047529906a160f3c9928">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (12 June 2001)
<HR>
Version 1b is an upgrade for version 1a. It is explicitly versioned in the gchii.tools.packageaudit1b package. Even the <nolink>SQL tables are explicitly versioned so both can run against a single <nolink>SQL database.
</P><P>
This version depends on a <EM>Finder API</EM> plug-in capable of scanning for multiple patterns. Each directory is converted into a package name if it contain any <CODE>.java</CODE> <STRONG>or</STRONG> </CODE>.class</CODE> file.
</P><P>
This version provides a unique package ID for every package it scans and a unique directory ID for each product directory it scans. Packages are stored in the <CODE>PKGLST1B</CODE> table. Directories are stored in the <CODE>PKGDIR1B</CODE> table. The relationship between directory and package is stored in the <CODE>PKGPRD1B</CODE> table.
</P><P>
This version is the first to includes a Java servlet. This servlet displays information stored in the <nolink>SQL database.
<UL> <LI> The Directory transaction generates a flat list of all directories, in alphabetical order. With the directory parameter, it displays a summary of a directory and a cross-reference to all packages in that directory.
<LI> The Package transaction generates a flat list of all packages, in alphabetical order. With the package parameter, it displays a summary of a package and a cross-reference to all directories which implement that package.
<LI> Every record has a <CODE>VALID</CODE> field. By default, only valid records are displayed.
<LI> This servlet is also based on the servlet-transaction model, just like <a href="/view.php?topic=PersonalWiki&PHPSESSID=c2a9a2800176047529906a160f3c9928">PersonalWiki</a><wikitopic PersonalWiki /wikitopic>. (It is so recently borrowed from <EM>Personal Wiki</EM> that it still displays the wiki template!)
<LI> It is not yet capable of updating the <nolink>SQL table.
</UL> -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=c2a9a2800176047529906a160f3c9928">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (12 June 2001).<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FPackageAudit&PHPSESSID=c2a9a2800176047529906a160f3c9928">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FPackageAudit&PHPSESSID=c2a9a2800176047529906a160f3c9928">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
