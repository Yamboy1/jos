<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>MachineCodeServices.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="d185a45b437fc22eac61de56c6b14877" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//MachineCodeServices?PHPSESSID=d185a45b437fc22eac61de56c6b14877">MachineCodeServices</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=d185a45b437fc22eac61de56c6b14877" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=d185a45b437fc22eac61de56c6b14877"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/MachineCodeServices?PHPSESSID=d185a45b437fc22eac61de56c6b14877">info</a> on or <a href="/edit/Main/MachineCodeServices?PHPSESSID=d185a45b437fc22eac61de56c6b14877">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FMachineCodeServices&PHPSESSID=d185a45b437fc22eac61de56c6b14877">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FMachineCodeServices&PHPSESSID=d185a45b437fc22eac61de56c6b14877">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=d185a45b437fc22eac61de56c6b14877">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=ArchitectureGroup&PHPSESSID=d185a45b437fc22eac61de56c6b14877">ArchitectureGroup</a><wikitopic ArchitectureGroup /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=d185a45b437fc22eac61de56c6b14877">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (13 March 2000, revised 13 August 2002).</EM>
<H4>Introduction</H4>
These <EM>machine code services</EM> are implemented by a kernel and kernel modules.
<UL> <LI> virtual memory manager
<LI> virtual machine
<LI> machine code interface
</UL> Everything else is implemented in bytecode.
<UL> <LI> <nolink>JVM-specific classes
<LI> standard class library
<LI> device drivers;
<LI> services;
<LI> libraries;
<LI> programs;
<UL> <LI> applications
<LI> applets, and
<LI> servlets
</UL> </UL> <H4>Virtual memory manager</H4>
A virtual memory manager should be implemented as part of machine code services. Virtual memory exist prior to a virtual machine. Machine code is used for
<OL> <LI> <STRONG>run-time performance</STRONG>; and
<LI> <STRONG>dependence</STRONG> - A virtual memory manager in machine code eliminates a circular dependence. A virtual machine depends on a virtual memory manager. A virtual memory manager cannot, in turn, depend on a virtual machine.
</OL> 
A processor dictates much of the design. A low-level virtual memory manager specification has already been specified for the Intel '386 chip. It dictates the tables mapping virtual memory to real memory pages. It dictates the page-fault interrupts.
</P><P>
The fetch (or memory-read) operation of a '386 uses virtual memory maps to translate from virtual memory to real. A page-fault interrupt is generated by the processor if the virtual memory page is swapped out.
</P><P>
It seems senseless to write a virtual memory manager from scratch. The Intel specification has already been implemented in open source. Look at the Linux virtual memory subsystem. Most of it can be salvaged for our own machine code services.
</P><P>
The virtual memory manager is one of the first instantiated components of a modern operating system kernel. It preceded kernel modules. It precedes device drivers. It preceeds a file subsystem. It preceeds a process environment and interprocess communication.
</P><P>
Any kernel module uses the virtual memory manager to allocate additional memory. Any device drivers can use it. Any file subsystem can use it. Any process can use it, too.
<H4>Virtual machine</H4>
The virtual machine itself must be a machine code service. The virtual machine is written in machine code, but uses mostly bytecode JVM-specific classes. Only a few methods are truely native and implemented in machine code.
<H4>Machine code interface</H4>
The interface between the kernel and its kernel modules is written in machine code. The <a href="/view.php?topic=SharedLibrary&PHPSESSID=d185a45b437fc22eac61de56c6b14877">SharedLibrary</a><wikitopic SharedLibrary /wikitopic> class might be part of this interface.<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FMachineCodeServices&PHPSESSID=d185a45b437fc22eac61de56c6b14877">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FMachineCodeServices&PHPSESSID=d185a45b437fc22eac61de56c6b14877">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
