<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>JVMSpecificObject.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="1d548d411089d3fb42c16ba1f59040aa" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//JVMSpecificObject?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">JVMSpecificObject</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/JVMSpecificObject?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">info</a> on or <a href="/edit/Imported/JVMSpecificObject?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FJVMSpecificObject&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJVMSpecificObject&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=JVMSpecificClasses&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">JVMSpecificClasses</a><wikitopic JVMSpecificClasses /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (14 February 2000).</EM></P>
<H4>Introduction</H4>
<P>The <CODE>java.lang.Object</CODE> class is one of a handful of classes that a virtual machine depends on. Where does the bytecode for <CODE>java.lang.Object</CODE> come from?</P>
<H4>Start-up sequence</H4>
<P>Since all other classes depend upon it, the <CODE>java.lang.Object</CODE> class must <STRIKE>exist</STRIKE> be resolved before all other classes. In the matter of dependencies, <CODE>java.lang.Object</CODE> is a superclass of <CODE>java.lang.Class</CODE>, <CODE>java.lang.Thread</CODE> and <CODE>java.lang.String</CODE>.</P>
<H4>Circular reference</H4>
<P>Since <CODE>java.lang.Object</CODE> has a <CODE>toString()</CODE> method that returns an instance of <CODE>java.lang.String</CODE>, which should be <STRIKE>defined</STRIKE> resolved first, <CODE>Object</CODE> or <CODE>String</CODE>?</P>
<P>Typically, classes and methods are resolved at different times. Each class is resolved the first time it is used, sometime after it is defined. Each method is resolved the first time it is used. A class and its methods are not fully resolved all at one time.</P>
<P>The <CODE>toString()</CODE> method does not need to be aware of the <CODE>java.lang.String</CODE> class. As far as the <CODE>toString()</CODE> method is concerned, it returns an object reference. An object reference is returned the same way no matter what kind of object is returned. The object reference should be an object with a class called "java.lang.String".</P>
<P>Eventually, the <CODE>toString</CODE> method is used. At that point, the instance of <CODE>java.lang.Class</CODE> for "java.lang.String" is required for the first time. Therefore, <CODE>java.lang.String</CODE> can extend <CODE>java.lang.Object</CODE> and <CODE>java.lang.Object</CODE> can return an instance of <CODE>java.lang.String</CODE>.</P>
<H4>Example</H4>
<P>The virtual machine must provide a primordial class loader. When JVM-specific classes are part of its executable image, a virtual machine gets bytecode directly out of RAM. This method defines a class, but does not resolve it. How does a virtual machine define JVM-specific classes?</P>
<PRE>
  const char *name[] = {
		"java.lang.String",
		"java.lang.Object",
		"java.lang.Class",
		"java.lang.Thread",
		"java.lang.ThreadGroup",
		""
		};

  const char *data[] = {
		{ 0xCA, 0xFE, 0xBA, 0xBE, ... },
		{ 0xCA, 0xFE, 0xBA, 0xBE, ... },
		{ 0xCA, 0xFE, 0xBA, 0xBE, ... },
		{ 0xCA, 0xFE, 0xBA, 0xBE, ... },
		{ 0xCA, 0xFE, 0xBA, 0xBE, ... },
		};

  public Class findSystemClass( const char *v ) {
	 for ( int i = 0; name[ i ] != '</PRE>
<BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FJVMSpecificObject&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJVMSpecificObject&PHPSESSID=1d548d411089d3fb42c16ba1f59040aa">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
