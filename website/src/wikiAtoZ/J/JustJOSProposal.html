<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>JustJOSProposal.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="c53f7ac8f10d84686edef3594dbeedf9" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//JustJOSProposal?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JustJOSProposal</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/JustJOSProposal?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">info</a> on or <a href="/edit/Imported/JustJOSProposal?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FJustJOSProposal&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJustJOSProposal&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic>.</EM>
<H4>Introduction</H4>
<P>The architecture for <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>must be flexible, robust and have a long shelf life. The following proposal suggests a possible architecture for <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>that has the least restrictions and fewest assumptions.</P>
<P>For more information on alternative architectures, see also <a href="/view.php?topic=JustJOS&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JustJOS</a><wikitopic JustJOS /wikitopic>.</P>
<H4>Diagram</H4>
<P>The following diagram illustrates the architecture for <a href="/view.php?topic=JustJOS&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JustJOS</a><wikitopic JustJOS /wikitopic> - Release 1.0.</P>
<TABLE WIDTH="100%" CELLPADDING="6" BORDER="1" BGCOLOR="EFEFEF">
<TR>
<TD ALIGN="CENTER">
<TABLE WIDTH="100%" CELLPADDING="6" BORDER="1" BGCOLOR="FFFFCC">
<TR>
<TD ALIGN="CENTER">
<TABLE WIDTH="100%" CELLPADDING="6" BORDER="1" BGCOLOR="FFCC66">
<TR>
<TD>
<STRONG>app-1</STRONG>
</TD>
<TD>
<STRONG>app-2</STRONG>
</TD>
</TR>
</TABLE>
Domain 1
</TD>
<TD ALIGN="CENTER">
<TABLE WIDTH="100%" CELLPADDING="6" BORDER="1" BGCOLOR="FFCC66">
<TR>
<TD>
<STRONG>app-4</STRONG>
</TD>
<TD>
<STRONG>app-5</STRONG>
</TD>
</TR>
</TABLE>
Domain 2
</TD>
<TD ALIGN="CENTER">
<TABLE WIDTH="100%" CELLPADDING="6" BORDER="1" BGCOLOR="FFCC66">
<TR>
<TD>
<STRONG>app-7</STRONG>
</TD>
<TD>
<STRONG>app-8</STRONG>
</TD>
</TR>
</TABLE>
Domain 3
</TD>
</TR>
</TABLE>
<a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>kernel
</TD>
</TR>
</TABLE>
<H4>Application</H4>
<P>An <EM>application</EM> is any application using Java bytecodes. This includes applications written in other languages. This includes applications written in Java 1.0, Java 1.1, Java 2.0 and all future versions of Java.</P>
<UL>
<LI>This may be the most flexible way for <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>to support the whole Java community, not just a small part. This may be the best way to support the whole end-user community, not just a small part.
<LI>This may be the most robust way to think of applications. Some applications can share a domain; some can't. We should write new applications that can share a domain and support all the applications that can't.
<LI>This gives <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>the longest possible shelf life. By breaking apart the core <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>kernel and the VM, more than one brand and more than one version of a VM can be used without changing JOS. There will be future versions of Java and this architecture embraces that.
<LI>Each application can be wrapped in its own <nolink>ThreadGroup or pseudo-<a href="/view.php?topic=Process&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">Process</a><wikitopic Process /wikitopic>. Each application can have its own <a href="/view.php?topic=ProcessEnvironment&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">ProcessEnvironment</a><wikitopic ProcessEnvironment /wikitopic>.
</UL>
<H4>Domain</H4>
<P>A <EM>domain</EM> is a fully independent address space. A domain requires a little more explanation.
<UL>
<LI>All domains share the same kernel and subsystem objects, like the primordial class loader. If it is possible to save <a href="/view.php?topic=RAM&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">RAM</a> <wikitopic RAM /wikitopic>by reusing system classes, this is how it is done. See also <a href="/view.php?topic=WhyMultiProcessJVM&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">WhyMultiProcessJVM</a><wikitopic WhyMultiProcessJVM /wikitopic> and <a href="/view.php?topic=PrimordialClassLoader&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">PrimordialClassLoader</a><wikitopic PrimordialClassLoader /wikitopic>.
<LI>Each domain is a separate process. A process, in this proposal, is a real independent process from the native CPU's and native kernel's viewpoint. The <a href="/view.php?topic=CPU&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">CPU</a> <wikitopic CPU /wikitopic>must enforce an independent address space between processes. The kernel must perform native context switching between processes.
<LI>Each domain is a separate <a href="/view.php?topic=BytecodeInterpreter&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">BytecodeInterpreter</a><wikitopic BytecodeInterpreter /wikitopic>. It is not a completely separate <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JVM</a> <wikitopic JVM /wikitopic>because it shares the same kernel and system classes. A bytecode interpreter, in this proposal, is a real independent virtual machine, with its own address space, garbage collector and threads. The kernel can kill a domain and reclaim its RAM. When an application calls <CODE>System.exit()</CODE>, the request is honored to shut down a domain if it passes the security manager.
<LI>One domain is the primary domain. It is responsible for all of the virtual device drivers using Java bytecodes. It is responsible for what we should know as the <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic><nolink>API. The primary domain is not distributed. It must be private to a single machine. When an application in the primary domain calls <CODE>System.exit()</CODE>, all secondary domains are shut down and the system is halted if it passes the security manager.
<LI>Like the <a href="/view.php?topic=DistributionProposal&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">DistributionProposal</a><wikitopic DistributionProposal /wikitopic>, domains are significant in distributed computing. Each domain has a unique ID on a machine or cluster of machines. Applications can migrate from one secondary domain to another using industry standard inter-process communication.
<LI>Each domain has its own security manager, just as each <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JVM</a> <wikitopic JVM /wikitopic>has its own. Each domain must deal with the semantics of the static methods and fields. Each domain is responsible for launching applications, in whatever manner it sees fit. Each domain has its own <a href="/view.php?topic=PackageManager&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">PackageManager</a><wikitopic PackageManager /wikitopic>.
</UL>
<H4>JOS kernel</H4>
<P>The kernel is a simple, native kernel. The only function required of a kernel is to launch domains.</P>
<H4>Requirements/Benefits</H4>
<P>JOS must not be functionally dependent on the versions of Java available today. It must not be dependent on one version of Java, namely Java 2.0. Why? Because it doesn't have to be.</P>
<UL>
<LI>One of the benefits from this architecture is full backward compatibility. Three different versions of Java would require us to write three different domains. When the kernel launches a domain, you decide which version of Java you want to run.</P>
<LI>One of the benefits from this architecture is when it comes to future compatibility. An <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>kernel written today should support future versions of Java, like 3.x, 4.x and 5.x. We do not have to write <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>so that it fails to support the next release of Java.</P>
</UL>
<P>JOS must support JVMs written by many different organizations. Why? Because <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>is not a viable alternative if it is closed. It must not be limited to one VM written by one organization. The expertise required to optimize a VM isn't the purpose of the <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>project.
<UL>
<LI>With a little work, the <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>organization can port a VM to JOS.
<LI>With a little work, Sun Microsystems can port all their VMs to JOS.
<LI>With a little work, the Blackdown project can port their three VMs to JOS. Just like that, <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>is able to run all those Java applications.
<LI>With a little work, <a href="/view.php?topic=IBM&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">IBM</a> <wikitopic IBM /wikitopic>can port their high performance VMs to JOS.
<LI>With a little work, <a href="/view.php?topic=TowerJ&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">TowerJ</a><wikitopic TowerJ /wikitopic> can port their high performance VMs to JOS.
</UL>
<P>The <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>Organization should create the boot and kernel, and write the specification for porting VMs to JOS.</P>
<P>This proposal reduces the effort and shortens the timeframe for a fully functional Java-based operating system.</P>
<H4>Add-ons</H4>
<P>Like any open source project, there must be room for many different distributions of the software. Other organizations are capable of optimizing a <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>distribution for client-side or server-side computing. Other organizations are capable of optimizing <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>for distributed computing.</P>
<P>The <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>organization should see if a part of <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>has already been written by someone else. The <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>organization should focus on identifying and collecting parts of <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>that have already been written. The native kernel, for example, is going to look a lot like Linux. Why not start with a verbatim copy of Linux? If it works, why not start with that and build our own custom kernel when we have more time?</P>
<P>Building an operating system is a big task. The <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">JOS</a> <wikitopic JOS /wikitopic>organization should think about finishing the architecture before building the parts.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FJustJOSProposal&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJustJOSProposal&PHPSESSID=c53f7ac8f10d84686edef3594dbeedf9">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
