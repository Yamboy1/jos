<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>JNIAndRegistryService.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="3af22825bfb89e6411109e8f6de3bd91" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//JNIAndRegistryService?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">JNIAndRegistryService</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/JNIAndRegistryService?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">info</a> on or <a href="/edit/Imported/JNIAndRegistryService?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FJNIAndRegistryService&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJNIAndRegistryService&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE=-1><a href="/view.php?topic=JNIPages&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">JNIPages</a><wikitopic JNIPages /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (30 August 1999).</EM>
<H4>Introduction</H4>
<P>Which services are started by the <CODE>josvmd</CODE> daemon? The services and their well-known ports are unique to a machine. While one machine starts a system-wide registry service, another may start the registry, HTTP, FTP, and <a href="/view.php?topic=TELNET&web=Imported&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">TELNET</a> <wikitopic TELNET /wikitopic>services within a virtual machine service.</P>
<H4>Configuration</H4>
<P>The configuration of the <CODE>josvmd</CODE> tool is stored with the <CODE>josvmd</CODE> tool in a registry-compatible configuration file. The list of services supported may be different from one implementation to the next.</P>
<P>Here is an example of a <CODE>josvmd</CODE> configuration:
<PRE>
// josvmd.ini
[host]
ip=127.0.0.1
name=jos.org
vm=1.1

[services]
registryd=//jos.org:1093/org.jos.registryservice1a.RegistryService
ftpd=org.jos.ftpservice1a.FtpService
httpd=org.jos.httpservice1a.HttpService
telnetd=org.jos.telnetservice1a.TelnetService
</PRE>
<H4>Registry service</H4>
<P>When configuring the <CODE>josvmd</CODE> daemon, you can provide the host and port for a system-wide registry. The system-wide registry is shared by all virtual machines in a cluster.</P>
<P>A system-wide registry service maintains data and/or objects. Many different programs can read from and write to the system-wide registry. The system-wide registry is responsible for the persistence of its data and/or objects.</P>
<P>On a tiny installation, the system-wide registry might run on another machine on the network. The host and port for a system-wide registry should be used by one machine at a time. During the connection to a system-wide registry, it might be necessary to identify the requesting IP address. A connection will be closed if a request is not coming from the machine that owns the registry. A system-wide registry should not be confused with a network-wide registry. They store different kinds of data and/or objects.</P>
<H4>Many applications</H4>
<P>By using TCP/IP as the standard inter-process communication, a system-wide registry can be reused in non-JOS related platforms. It can be used for any application that needs a registry. Plus, implementations of a system-wide registry can be written in C/C++ and run on a non-JOS platform. This cross-platform support provides an easy migration to a multiple platform environment.</P>
<P>Any application that needs to read from or write to the system-wide registry uses the system-wide registry service. This registry service implements a protocol. This minimum protocol provides a mechanism to identify the requestor, set a path to the current registry node, read a registry value, write a registry value.</P>
<P>The protocol should provide a mechanism to import a registry, export a registry, drop registry nodes, backup a registry, restore a registry, determine the number of current connections to the registry service, shutdown and restart the registry service.</P>
<H4>As if one big registry</H4>
<P>This service presents a unified registry object. It <EM>appears</EM> to users of the system-wide registry that there is only one big registry supported by the system-wide registry service.</P>
<P>It is only an illusion. Each implmentation of this service may invent some mechanism to store registry data in a persistent way. This may consists of one big registry file, lots of little registry files, registry on <a href="/view.php?topic=SQL&web=Imported&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">SQL</a> <wikitopic SQL /wikitopic>service, registry on <a href="/view.php?topic=RAF&web=Imported&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">RAF</a> <wikitopic RAF /wikitopic>service, or self-balancing registry based on registry size. Different implementations of the system-wide registry may have different performance characteristics. You find one that's right for your machine.</P>
<H4>Set path</H4>
<P>The SET_PATH command is an important part of the registry protocol. The requestor sets the current path for a registry connection. The current path is maintained for each registry connection. The default path points to the root registry, equal to PATH_SEPARATOR.</P>
<P>The PATH_SEPARATOR returns the path separator string for an implementation. The standard path separator is a slash (/).</P>
<P>The SET_PATH command has a parameter of a registry path. It returns a result code of zero (0) if a path has been set.</P>
<H4>GET_KEYS</H4>
<P>The GET_KEYS command is part of the dynamic registry support. A program can get keys from the registry service. This command returns a list of keys for the current registry. They are returned as a list of strings.</P>
<P>A registry service is not required to return keys in any particular order. A key must either exist or not. The order of a key is not maintained by a registry.</P>
<H4>GET_VALUE</H4>
<P>The GET_VALUE command takes a key as a parameter and returns a value for the key. If the key does not exists, or its value cannot be returned, an non-zero error code is returned.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FJNIAndRegistryService&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJNIAndRegistryService&PHPSESSID=3af22825bfb89e6411109e8f6de3bd91">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
