<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>JOSArchitectureDiscussion.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="04676149ad71edf36ced3ec7cedbdf58" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//JOSArchitectureDiscussion?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSArchitectureDiscussion</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/JOSArchitectureDiscussion?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">info</a> on or <a href="/edit/Imported/JOSArchitectureDiscussion?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FJOSArchitectureDiscussion&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJOSArchitectureDiscussion&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"> <a href="/view.php?topic=PlatformAPIPages&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">PlatformAPIPages</a><wikitopic PlatformAPIPages /wikitopic> </FONT>
</P><P>
We need to break up the <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOS</a> <wikitopic JOS /wikitopic>architecture into small slivers to deal out to everyone. Right now, we have a general architectural overview, which needs to be refined and inspected with an electron-scanning microscope.
</P><P>
This will require us to maintain the various architecture subpages to keep them up-to-date with the current design. This means comments can and probably should be cleaned up on occation as they no longer apply.
</P><P>
To start the discussion going, I'm going to quote from <a href="/view.php?topic=DigiGod&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">DigiGod</a><wikitopic DigiGod /wikitopic>, a message he posted <A HREF="http://jos.org/pipermail/arch/1999-November/000319.html">18 Nov 1999</A> to <nolink>JOS and JOSArch mailing groups, then I'll follow up with my web-interpretation of his words. It was a rather long message, but I feel that it's well worth quoting in a more accesible place than the newsgroups:
</P><P>
<blockquote>
<I>In the more recent threads here I have noticed some confusion about the seperation of the elements of <nolink>JOS, so I am going to attempt to clarify these here.
</P><P>
<nolink>JOS is not like its predecessors, it is not one large monolithic clump-o'-OS. First we have JOSCore, this is the minimal OS consisting of a JOSBox and a minimal <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic> and no more. Then we have "<a href="/view.php?topic=JOSExtensions&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSExtensions</a><wikitopic JOSExtensions /wikitopic>" the devices, drivers and services it takes to be able to use <nolink>JOS for more then the <a href="/view.php?topic=RAM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">RAM</a> <wikitopic RAM /wikitopic>equivalent of a paperweight. Running on top of this is the "Application Level" most notably <a href="/view.php?topic=JADE&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JADE</a> <wikitopic JADE /wikitopic>and its <a href="/view.php?topic=PUI&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">PUI</a> <wikitopic PUI /wikitopic>(allowing the computer to interact with the user). This is all suspended in the lime Jell-O that is the Java and <nolink>JOS API's (I think we should discriminate between <nolink>JOS <nolink>API's that require <nolink>JOS and those that don't, I propose that the ones that do not require <nolink>JOS be reffered to as the <nolink>JOS Extra API's -- someone give that a better name...).
</P><P>
An Install/Uninstall library is an excellent idea, although it is not part of <nolink>JOSystem it is a <nolink>JOS Extra <nolink>API (I hate to seem like I'm picking on it. I'm not, it's just the first instance I thought of...). Furthermore, <nolink>JOSystem is -- basically -- just a pure java kernel (it takes on the classic role of the kernel in most senses and buffers between everyone and the real kernel in the other cases) and an appplication runner.
</P><P>
The JOSBox is the computer were writing this OS for, in a sense. It is the virtual hardware the <nolink>JOSystem "kernel" is running on, if someone made this into real hardware a modified <nolink>JOSystem would run <nolink>JOS on it directly. It is the true kernel and the JVM. A JOSBox application could be made sans kernel, this is how you could run <nolink>JOS on a non-JOS machine; the <nolink>JOSystem would require extra features the JOSBox supplies to run so just running it on "any old VM" would be painful, a special JOSBox would be the way to go. The main benifit of this I see is not in having a showcase for <nolink>JOS but in having a multi-process java environment running on ones computer, allowing (with minor modification) to let the OS "launch" Java apps into this environment/quasiOS cutting down on memory and start time (people would get to tour <nolink>JOS then get to keep a powerful tool like that). I think we should get a kernel/VM JOSBox up then modify it to be an "emulator" JOSBox later on, just my opinion though.
</P><P>
<a href="/view.php?topic=JVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVM</a> <wikitopic JVM /wikitopic>incompatabilities might be solved with the exokernel design. Exokernel is basically a blank slate of a kernel that allows libraries to be plugged into it to provide optimal hardware use (and, of course, having a default library for legacy apps). Whats this have to do with JVM's!? Good question, say we have most of the stuff that makes a <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVM</a> <wikitopic JVM /wikitopic>and then have little libraries filling the rest in, in a release compatiable manner. That is, we have <a href="/view.php?topic=XVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">XVM</a> <wikitopic XVM /wikitopic>(exo-VM) with a <a href="/view.php?topic=JDK&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JDK</a> <wikitopic JDK /wikitopic>1.0 library, a 1.1 lib and a 1.2 lib. I don't know how well that would work, but its worth a thought.
</P><P>
--DigiGod
</I>
</blockquote>
</P><P>
To me, the architecture becomes (from bottom to top):
</P><P>
<!-- If you know a better way to do this table, go for it! -->
<TABLE ALIGN="CENTER" WIDTH="80%" BORDER="1" BGCOLOR="#008080">
  <TR ALIGN="CENTER">
	 <TD> <a href="/view.php?topic=JOSCore&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSCore</a><wikitopic JOSCore /wikitopic>
		<TABLE ALIGN="CENTER" WIDTH="70%" BORDER="1" BGCOLOR="#8080FF">
		<TR ALIGN="CENTER">
		  <TD> <a href="/view.php?topic=JOSBox&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSBox</a><wikitopic JOSBox /wikitopic>
			  <TABLE ALIGN="CENTER" WIDTH="50%" BORDER="1" BGCOLOR="#808000">
				 <TR ALIGN="CENTER">
					<TD> Kernel (native) </TD>
				 </TR>
				 <TR ALIGN="CENTER">
					<TD> <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVM</a> <wikitopic JVM /wikitopic>(native) </TD>
				 </TR>
			  </TABLE>
		  </TD>
		</TR>
		<TR ALIGN="CENTER">
		  <TD> <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic> </TD>
		</TR>
	 </TABLE></TD>
  </TR>
  <TR ALIGN="CENTER">
	 <TD> <a href="/view.php?topic=JOSExtensions&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSExtensions</a><wikitopic JOSExtensions /wikitopic> </TD>
  </TR>
  <TR ALIGN="CENTER">
	 <TD> <a href="/view.php?topic=ApplicationLevel&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">ApplicationLevel</a><wikitopic ApplicationLevel /wikitopic> </TD>
  </TR>
</TABLE>
</P><P>
Where:
<UL> <LI> <a href="/view.php?topic=JOSCore&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSCore</a><wikitopic JOSCore /wikitopic> - the minimal OS, consisting of:
<UL> <LI> <a href="/view.php?topic=JOSBox&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSBox</a><wikitopic JOSBox /wikitopic> - The "virtual computer" <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic> is running on.
<LI> <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic> - The bare minimal 
<LI> No more
</UL> <LI> <a href="/view.php?topic=JOSExtensions&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSExtensions</a><wikitopic JOSExtensions /wikitopic> - the devices, drivers and services it takes to be able to use <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOS</a> <wikitopic JOS /wikitopic>for more then the <a href="/view.php?topic=RAM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">RAM</a> <wikitopic RAM /wikitopic>equivalent of a paperweight
<LI> <a href="/view.php?topic=ApplicationLevel&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">ApplicationLevel</a><wikitopic ApplicationLevel /wikitopic> - most notably <a href="/view.php?topic=JADE&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JADE</a> <wikitopic JADE /wikitopic>and its <a href="/view.php?topic=PUI&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">PUI</a> <wikitopic PUI /wikitopic>(allowing the computer to interact with the user)
</UL> 
-- <a href="/view.php?topic=MattAlbrecht&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">MattAlbrecht</a><wikitopic MattAlbrecht /wikitopic> - 18 Nov 1999 
</P><P>
</P><P>
See also [ <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic> ] [ <a href="/view.php?topic=JOSBox&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSBox</a><wikitopic JOSBox /wikitopic> ] [ <a href="/view.php?topic=PlatformAPIPages&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">PlatformAPIPages</a><wikitopic PlatformAPIPages /wikitopic> ] [ <a href="/view.php?topic=JOSCore&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSCore</a><wikitopic JOSCore /wikitopic> ]
</P><P>
<HR>
<P>The general architecture of <a href="/view.php?topic=JOS&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOS</a> <wikitopic JOS /wikitopic>should explain how the major pieces of the operating system fit together. It is the mission of these pages to search for that architecture and explain it. As soon as we figure out how these thing work, we can implement the architecture in code.</P>
<P>As you can see, the kernel and a virtual machine are two separate pieces. There might be more than one virtual machine that runs on a given kernel. For Java programmers, the relationship and responsibilities of these pieces might be explained in Java-like pseudo code. See also <a href="/view.php?topic=JOSArchitectureInJava&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSArchitectureInJava</a><wikitopic JOSArchitectureInJava /wikitopic>.</P>
<P>How do we get there? We build a kernel. We build a JVM. We build another JVM. Then, we can figure out how you might build more than one <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVM</a> <wikitopic JVM /wikitopic>for a kernel. A interface between a <a href="/view.php?topic=JVM&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVM</a> <wikitopic JVM /wikitopic>and its kernel is difficult to anticipate. It will mature as we go. -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (19 November 1999).</P>
</P><P>
<HR>
</P><P>
Based on the discussions about <a href="/view.php?topic=JOSBoxModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSBoxModule</a><wikitopic JOSBoxModule /wikitopic> and <a href="/view.php?topic=JOSKernelModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSKernelModule</a><wikitopic JOSKernelModule /wikitopic>, the above (rather large and unsightly) table/model needs to be updated.
</P><P>
Here's my latest go at it.  I've tried to separate the levels, so that all native code is in one area, and all bytecodes are in the next level:
</P><P>
<TABLE BORDER="1">
  <TR BGCOLOR="#8080FF">
	 <TD COLSPAN="2">Native</TD>
  </TR>
	 <TD>
<UL> <LI> <a href="/view.php?topic=JOSCore&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSCore</a><wikitopic JOSCore /wikitopic>
<UL> <LI> <a href="/view.php?topic=JOSBox&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSBox</a><wikitopic JOSBox /wikitopic>
<UL> <LI> Kernel
<LI> Module Interface
</UL> </UL> </UL> 	 </TD>
	 <TD>
<UL> <LI> <a href="/view.php?topic=JOSKernelModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSKernelModule</a><wikitopic JOSKernelModule /wikitopic>
<LI> <a href="/view.php?topic=JOSKernelModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSKernelModule</a><wikitopic JOSKernelModule /wikitopic>
<LI> ...
</UL> 	 </TD>
  </TR>
  <TR BGCOLOR="#8080FF">
	 <TD COLSPAN="2">Bytecode</TD>
  </TR>
  <TR>
	 <TD COLSPAN="2">
<UL> <LI> <a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic>
<LI> <a href="/view.php?topic=JOSExtensions&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSExtensions</a><wikitopic JOSExtensions /wikitopic>
<LI> <a href="/view.php?topic=ApplicationLevel&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">ApplicationLevel</a><wikitopic ApplicationLevel /wikitopic>
</UL> 	 </TD>
  </TR>
</TABLE>
</P><P>
In this way, the <a href="/view.php?topic=JOSKernelModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSKernelModule</a><wikitopic JOSKernelModule /wikitopic>s are separate from the Core, yet are between the Extentions and the Core.  The modules are still native, but are not used by 
</P><P>
</P><P>
-- <a href="/view.php?topic=MattAlbrecht&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">MattAlbrecht</a><wikitopic MattAlbrecht /wikitopic> - 06 Dec 1999
<HR>
<P>Matt, your diagram clearly illustrates the machine code vs. bytecode. I like that. From your diagram and a diagram in <a href="/view.php?topic=JosPlatform&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JosPlatform</a><wikitopic JosPlatform /wikitopic>, I put together the most comprehensive (for me) diagram I can think of. This diagram illustrates machine code vs. native interface vs. bytecode.</P>
<P>Here is yet another diagram of the <nolink>JOS platform, based on the above diagram and other platform <nolink>API pages.</P>
<DIV ALIGN="right">
<TABLE BORDER="2" BORDERCOLOR="black" BGCOLOR="lightblue" ROWS="2">
<TR BGCOLOR="lightblue">
<TD COLSPAN="2" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">Machine Code</CODE></FONT>
</TD>
</TR>
<TR>
<TD COLSPAN="2" ALIGN="CENTER">
  <TABLE COLS="2" BORDERCOLOR="black" BORDER="2">
  <TR>
  <TD ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1" COLOR="darkpurple">%JOSBox</link</FONT>
	 <TABLE BGCOLOR="khaki" BORDER="1">
	 <TR>
	 <TD VALIGN="TOP">Kernel</TD>
	 <TD><a href="/view.php?topic=JOSKernelModule&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSKernelModule</a><wikitopic JOSKernelModule /wikitopic>...
	 <UL>
	 <LI><a href="/view.php?topic=VirtualMachine&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">VirtualMachine</a><wikitopic VirtualMachine /wikitopic><SUP>2</SUP>...
	 <LI>ATAPI
	 <LI>SCSI
	 <LI>network
	 </UL>
	 </TD>
	 </TR>
	 <TR>
	 <TD><a href="/view.php?topic=VirtualMachine&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">VirtualMachine</a><wikitopic VirtualMachine /wikitopic><SUP>1</SUP></TD>
	 </TR>
	 </TABLE>
	 </TD>
  </TR>
  </TABLE>
</TD>
</TR>
<TR BGCOLOR="lightblue">
<TD COLSPAN="2" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">Native Interface</FONT>
</TD>
</TR>
<TR BGCOLOR="lightblue">
<TD COLSPAN="2" ALIGN="CENTER">
  <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
  <TR>
  <TD>decaf Native Interface</TD>
  </TR>
  <TR>
  <TD><a href="/view.php?topic=JavaNativeInterface&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JavaNativeInterface</a><wikitopic JavaNativeInterface /wikitopic></TD>
  </TR>
  </TABLE>
</TD>
</TR>
<TR BGCOLOR="lightblue">
<TD COLSPAN="2" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">Bytecode</CODE></FONT>
</TD>
</TR>
<TR>
<TD ALIGN="CENTER" VALIGN="TOP">
  <FONT FACE="Arial" SIZE="+1" COLOR="darkpurple"><a href="/view.php?topic=JOSystem&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSystem</a><wikitopic JOSystem /wikitopic></FONT>
	 <TABLE BORDER="1" BGCOLOR="khaki" BORDERCOLOR="black">
	 <TR>
	 <TD><a href="/view.php?topic=BytecodeNativeInterface&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">BytecodeNativeInterface</a><wikitopic BytecodeNativeInterface /wikitopic></TD>
	 </TR>
	 <TR>
	 <TD><a href="/view.php?topic=JVMSpecificClasses&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JVMSpecificClasses</a><wikitopic JVMSpecificClasses /wikitopic></TD>
	 </TR>
	 </TABLE>
</TD>
<TD>
  <TABLE BORDER="1">
  <TR BGCOLOR="yellow">
  <TD COLSPAN="4" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">Java Class Libraries <CODE>java.<STRONG></CODE>, <CODE>javax.</STRONG></CODE></FONT>
  </TD>
  </TR>
  <TR BGCOLOR="lightblue">
  <TD VALIGN="TOP">
  Java 0 Platform
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>Applets</TD>
	 </TR>
	 <TR>
	 <TD>Applications</TD>
	 </TR>
	 <TR>
	 <TD>AWT</TD>
	 </TR>
	 </TABLE>
  </TD>
  <TD VALIGN="TOP">
  Java 1 Platform
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>Applets</TD>
	 </TR>
	 <TR>
	 <TD>Applications</TD>
	 </TR>
	 <TR>
	 <TD>AWT</TD>
	 </TR>
	 <TR>
	 <TD>Servlets</TD>
	 </TR>
	 <TR>
	 <TD>Swing</TD>
	 </TR>
	 </TABLE>
  </TD>
  <TD VALIGN="TOP">
  Java 2 Platform
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>Applets</TD>
	 </TR>
	 <TR>
	 <TD>Applications</TD>
	 </TR>
	 <TR>
	 <TD>AWT</TD>
	 </TR>
	 <TR>
	 <TD>Servlets</TD>
	 </TR>
	 <TR>
	 <TD>Swing</TD>
	 </TR>
	 </TABLE>
  </TD>
  <TD VALIGN="TOP">
  Java 3 Platform
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>Applets</TD>
	 </TR>
	 <TR>
	 <TD>Applications</TD>
	 </TR>
	 <TR>
	 <TD>AWT</TD>
	 </TR>
	 <TR>
	 <TD>Servlets</TD>
	 </TR>
	 <TR>
	 <TD>Swing</TD>
	 </TR>
	 </TABLE>
  </TD>
  </TR>
  <TR BGCOLOR="yellow">
  <TD COLSPAN="4" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">Custom Class Libraries</FONT>
  </TD>
  </TR>
  <TR>
  <TD COLSPAN="4" ALIGN="CENTER">
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>
	 <UL>
	 <LI>drivers...
	 <LI>file subsystems...
	 <LI>services...
	 <LI>tools...
	 <LI><a href="/view.php?topic=JADE&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JADE</a><wikitopic JADE /wikitopic>
	 <LI><a href="/view.php?topic=Registry&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">Registry</a><wikitopic Registry /wikitopic>
	 <LI><a href="/view.php?topic=SmartAPI&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">SmartAPI</a><wikitopic SmartAPI /wikitopic>
	 <LI><a href="/view.php?topic=TCPIPStack&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">TCPIPStack</a><wikitopic TCPIPStack /wikitopic>
	 </UL>
	 </TD>
	 </TR>
	 </TABLE>
  </TD>
  </TR>
  <TR BGCOLOR="yellow">
  <TD COLSPAN="4" ALIGN="CENTER">
  <FONT FACE="Arial" SIZE="+1">User Applications</FONT>
  </TD>
  </TR>
  <TR>
  <TD COLSPAN="4" ALIGN="CENTER">
	 <TABLE BORDER="1" BORDERCOLOR="black" BGCOLOR="khaki">
	 <TR>
	 <TD>
	 <UL>
	 <LI><a href="/view.php?topic=Jext&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">Jext</a><wikitopic Jext /wikitopic>
	 </UL>
	 </TD>
	 </TR>
	 </TABLE>
  </TD>
  </TR>
  </TABLE>
</TD>
</TR>
</TABLE>
</DIV>
<P>This is only a dependency diagram. <a href="/view.php?topic=JOSCore&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSCore</a><wikitopic JOSCore /wikitopic> and <a href="/view.php?topic=JOSExtensions&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JOSExtensions</a><wikitopic JOSExtensions /wikitopic> are missing because they are related to distribution, not dependency.</P>
<P>This diagram illustrates an architecture with a place for everything I can imagine. It has strong support for bytecode from past, present and future Java Platforms. It enables us to create a mostly bytecode operating system. It includes a place for custom machine code when its absolutely necessary.</P>
<P>This diagram shows that custom class libraries are written in pure bytecode. When a custom class library needs additional machine code support, it must use a native interface to invoke machine code written in a kernel module. -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (8 December 1999).</P>
<HR>
<P>Not only are there many virtual machines for one kernel, there are many kernels for a virtual machine. The <nolink>decaf virtual machine is designed to work with any "kernel", any object that extends the <CODE>kernel</CODE> class. When it is written to usea platform-independent kernel class, <nolink>decaf runs unchanged on <EM>host</EM> and <EM>i386</EM> builds of the <a href="/view.php?topic=JJOS&web=Imported&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">JJOS</a> <wikitopic JJOS /wikitopic>kernel.</P>
<P>When writing a custom C/C++ program to test a kernel function, your test program must implement a <nolink>decaf-like interface. Strictly speaking of course, a kernel is not required to run a virtual machine. -- <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (7 March 2000).</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FJOSArchitectureDiscussion&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FJOSArchitectureDiscussion&PHPSESSID=04676149ad71edf36ced3ec7cedbdf58">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
