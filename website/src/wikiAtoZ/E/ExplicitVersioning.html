<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>ExplicitVersioning.Main @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="78c991fa3a22bc245fb3a77a9c3311a7" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//ExplicitVersioning?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">ExplicitVersioning</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Main/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">Main</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Main/ExplicitVersioning?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">info</a> on or <a href="/edit/Main/ExplicitVersioning?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FExplicitVersioning&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FExplicitVersioning&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Main/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">topics</a>, <a href="/hubsnodes/Main/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Main/?PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<a href="/view.php?topic=Versioning&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">Versioning</a><wikitopic Versioning /wikitopic>
<HR>
<EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (12 June 2001).</EM>
<H4>Introduction</H4>
This article presents some of the requirements for explicit versioning.
It describes a explicit versioning technique recommended for Java technologies,
such as the Java programming language.
<H4>Without limits</H4>
An <EM>ultra-conservative corporate customer</EM> wants software without limits. They
resist real limits. They hate arbitrary limits. This kind of customer wants to
hear no excuses as to why they cannot do whatever they want.
</P><P>
High quality software enables you to install all versions on a single
machine. All versions work independently. They share a common interface to
common subsystems. Interfaces are backward compatible. Each version has its
own configuration, stored independently from the others. Each version can
be installed and removed without affecting the performance of the others.
</P><P>
On the other hand, poor quality software has an arbitrary limitation. It
limits you to the one version at a time, usually the latest version.
Two versions of the same product usually do not get along. Poor
quality software requires you to remove one version of the software before
installing another. Or, installing a new version destroys your ability to
run another.
</P><P>
It is arbitrary to limit your customer this way. An ultra-conservative
corporate customer has seen enough software to know that it is possible
for multiple versions to co-exist on a single machine. Anything else must an
arbitrary decision by a software developer, right? With few exceptions, it
is arbitrary.
<H4>One of each</H4>
Like my ultra-conservative corporate customers, I do not want to be limited to one version of an application. I want to use one of each. I am frequently
employed to evaluate software. Customers want to know <EM>if</EM> the latest version
of an application is worth the effort required to upgrade.
</P><P>
High quality software enables me to demonstrate the old and new versions
side by side on a single machine. I can bring attention to the improvements
the new version brings. I can show how compatible the two versions are,
greatly reducing the cost of upgrading to the new version.
</P><P>
Poor quality software prevents me from demonstrating the old and new versions
side by side on a single machine. I must bring two machines of equivalent
size and speed to compare one version to another. I must evaluate how the new
version works on a virgin machine vs. a machine upgraded from the old version.
I have to give my customers the bad news: it will be expensive, very expensive,
to upgrade to the new version.
<H4>Leap-frog</H4>
My customers purchase every version of high quality software. They are willing
to spend the money on the software itself because the cost of transitioning
from the old version to the new will be negligible.
</P><P>
My customers rarely purchase every version of poor quality software. They cannot afford to. They
can't afford both to (a) buy the new version and to (b) transition from the
old version to the new.
</P><P>
Rather, poor quality software is upgraded through a process of skipping over
versions. This is like the game of leap-frog, where someone jumps over the
person in front of them. Skipping version is something that my customers
don't like; but, they can only afford to wait for the next version.
<H4>Explicit versioning</H4>
Explicit versioning has been used with great success in the maintenace of
well-known interfaces. I use these examples because they are (in)famous.
<UL> <LI> Microsoft MS-DOS
<LI> Microsoft Win32
</UL> <H4>Microsoft MS-DOS</H4>
You can run your MS-DOS 3.3 programs on MS-DOS 4.01, 5.0 and 6.0. How did they
do that? New features were added to un-used subfunctions inside interrupt
service routines. Backward compatibility was given a chance. Old features kept
their original subfunctions. No feature was destroyed in the process.
<UL> <LI> Books about MS-DOS 3.3 were largely applicable to MS-DOS 6.0.
<LI> Authors had to rework their programs only to take advantage of new features. Upgrading was optional, as needed.
</UL> <H4>Microsoft Windows</H4>
You can run your 16-bit programs on Microsoft Windows 95, 98 and ME. Backward
compatibility was the single most important feature for my ultra-conservative
corporate customers. It enabled them to transition to Windows 95, not NT.
How did Microsoft do that?
</P><P>
The 16-bit interface to Windows contains much the same functionality as the
32-bit interface. And yet, Windows 95 does not get them confused. New features
were added with new function names. Backward compatibility was given a
chance. Old features kept their original function names. No feature was
destroyed in the process.
<UL> <LI> As a Windows programmer, you're likely to recognize that most of the new 32-bit functions have an "Ex" suffix, as in <CODE>CreateWindowEx()</CODE>. The 16-bit <CODE>CreateWindow</CODE> function expects 16-bit parameters. Forcing it to expect 32-bit parameters would have broken backward compatibility.
<LI> Books about Microsoft MS-DOS and Windows 3.1 were largely applicable to Microsoft Windows 95.
<LI> Authors of Windows 3.1 programs had to rework their programs only to take advantage of new features. Upgrading was optional, as needed.
<LI> Well-known MS-DOS-compatible interrupts were unchanged. Like MS-DOS, new subfunctions were used in interrupt service routines.
</UL> <H4>Transition</H4>
Give backward compatibilty a chance. It makes the transition from the old
version to a new one easier on your customers. Other things are possible:
<UL> <LI> A new version can depend on unchanged features from the old version--through inheritence.
<LI> Both versions can be demonstrated to your customes side by side on a single machine.
<LI> The old version serves your software developers as a reference implementation.
<LI> Compare the old and new side by side to document of what's really new in the new version.
<LI> Continue to provide accurate support the old version through your support staff.
<LI> See whether or not the new version is truely faster, more efficient or more reliable.
</UL> Making the transition easy on your own staff can make the transition easier
for your customers. It saves your time. It saves your customer's time. Your
customers may save enough money on transition costs
to buy every version of your product. Backward compatibility is a selling
point. No worries. Upgrade as needed, as time allows.
<H4>About Java</H4>
One way to use explicit versioning in Java technologies is through unique
package names. Java technology has a very large namespace. This namespace
can be used to give each major version of your software an explicit name.
<UL> <LI> Develop many applications within a single codebase. Keep all your Java code together, develop it together, back it up together. Put it all in one <a href="/view.php?topic=CVS&web=Main&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">CVS</a> <wikitopic CVS /wikitopic>module.
<LI> The latest version of your software can be exposed (a) through a well-known package using inheritence, or (b) through a well-known factory.
<LI> A new version of your software can depend on features from the old version--through inheritence.
<LI> Your classes can be system classes, loaded through a primordial class loader.
<LI> Multiple versions of your software can run side by side within a single virtual machine.
<LI> Provide bug-fixes for your customers, even those who are required to use previous versions because of platform-specific dependencies.
<LI> Systematically, compare the performance of the old and new implementations through test programs and lab experiments. The latest version might not always be the fastest.
</UL> There are a variety of naming conventions possible. Pick one that works for you.
Personally, I like the convention I have been using for the <nolink>JOS Project.
Each package has a product name, major version (number) and minor version
(letter). Here are a few examples from the <a href="/view.php?topic=SmartAPI&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">SmartAPI</a><wikitopic SmartAPI /wikitopic>, with extra space for emphasis.
<UL> <LI> <CODE>smartapi 1 a</CODE>
<LI> <CODE>smartapi 1 b</CODE>
<LI> <CODE>smartapi 2 a</CODE>
</UL> If you prefer, you could make create a sub-package for each version, like this:
<UL> <LI> <CODE>someproduct.version1_1</CODE>
<LI> <CODE>someproduct.version1_2</CODE>
<LI> <CODE>someproduct.version2_0</CODE>
</UL> The latest version of your software can be exposed through a well-known
package, but without the version attached to the name. The well-known package
for the <EM>Master Editor</EM> is
<UL> <LI> <CODE>gchii.si.mastereditor</CODE>
</UL> and its corresponding packages using explicit versioning are
<UL> <LI> <CODE>gchii.si.mastereditor1a</CODE>,
<LI> <CODE>gchii.si.mastereditor1b</CODE>,
<LI> <CODE>gchii.si.mastereditor1c</CODE>,
<LI> <CODE>gchii.si.mastereditor1d</CODE>, and
<LI> <CODE>gchii.si.mastereditor2a</CODE>.
</UL> A few weeks ago, the source code for <CODE>MasterEditor</CODE> class in
<CODE>gchii.si.mastereditor</CODE> looked something like this:
<PRE>
  package gchii.si.mastereditor;
  public class MasterEditor
      extends gchii.si.mastereditor1d.MasterEditor {
  }
</PRE>
Today, the same code looks something like this:
<PRE>
  package gchii.si.mastereditor;
  public class MasterEditor
      // *D! extends gchii.si.mastereditor1d.MasterEditor {
      extends gchii.si.mastereditor2a.MasterEditor {
  }
</PRE>
<H4>Summary</H4>
High quality software can still be written in the Java programming language,
<EM>and should be</EM>. It can simplify the transition you and your customers make
from the old version to the new.
</P><P>
Upgrading is always optional. Your customer may choose to skip this upgrade
(and the next). They may try another product. Provide them with a easy
transition and they are more likely to fight than switch.
<UL> <LI> <EM>Note:</EM> This does not apply only if you have a monopoly.</UL> <BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FExplicitVersioning&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FExplicitVersioning&PHPSESSID=78c991fa3a22bc245fb3a77a9c3311a7">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
