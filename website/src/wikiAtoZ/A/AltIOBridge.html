<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 FINAL//EN">
<HTML>
  <HEAD>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
    <TITLE>AltIOBridge.Imported @ jos.sf.net</TITLE>
  </HEAD>

<BODY BGCOLOR="#FFFFFF">

<!-- The FORM encloses the entire header, because it renders better that way. !-->
<FORM ACTION="/jump.php"><input type="hidden" name="PHPSESSID" value="e2c90c52ffedc482e12082b2d924a722" />

<!-- The JOS logo. !-->
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR VALIGN="TOP" ALIGN="LEFT">
	<TD><A HREF="http://cjos.sourceforge.net/archive/"><IMG 
		VSPACE="0" HSPACE="0" ALIGN="MIDDLE" BORDER="0"
		SRC="http://cjos.sourceforge.net/archive/media/jos_logo_mini.gif"></A></TD>
	<!-- The tab table. !-->
	<TD WIDTH="100%" ALIGN="RIGHT" BGCOLOR="#FFFFFF" VALIGN="BOTTOM"> 
		<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%" ALIGN="RIGHT">
			<TR VALIGN="MIDDLE" ALIGN="LEFT">

<TD BGCOLOR="White" WIDTH="60%">&nbsp;</TD>
<TD BGCOLOR="#FFFFCC"><A HREF="http://cjos.sourceforge.net/archive/">Home</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/info/">Info</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFFFCC" ALIGN="CENTER"><A HREF="http://cjos.sourceforge.net/archive/dev/">DevZone</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
<TD WIDTH="10%" BGCOLOR="#FFCC66" ALIGN="CENTER"><A
HREF="http://jos.sourceforge.net/">Wiki</A></TD>
<TD BGCOLOR="White">&nbsp;</TD>
			</TR>
			<TR>
				<TD BGCOLOR="#FFCC66" ALIGN="RIGHT" COLSPAN="9">
					<A HREF="/view/Users/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">UsersWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Main/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">MainWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Info/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">InfoWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/DevZone/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">DevZoneWeb</A>
					&nbsp;|&nbsp;
					<A HREF="/view/Support/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">SupportWeb</A>
				</TD>
			</TR>
		</TABLE>
	</TD>		
</TR>
<!-- The WikiHeader. !-->
<TR><TD COLSPAN="2">
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
<TR>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="CENTER">
		<B>[&nbsp;<a href="/info//AltIOBridge?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">AltIOBridge</a>&nbsp;]</B>
	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="CENTER">
		<B>[ not logged in ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="CENTER">
		<B>[ Web: <a href="/view/Imported/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">Imported</a> ]</B>	</TD>
	<TD WIDTH="25%" ALIGN="CENTER" BGCOLOR="#FFCC66" VALIGN="CENTER">
		goto:&nbsp;<INPUT TYPE="TEXT" SIZE="10" NAME="topic"><!--<INPUT TYPE="IMAGE" SRC="/media/go.gif?PHPSESSID=e2c90c52ffedc482e12082b2d924a722" BORDER="0" VALUE="topic" ALT="goto">!-->&nbsp;<a href="/search.php?PHPSESSID=e2c90c52ffedc482e12082b2d924a722"><FONT SIZE="-1">options</FONT></a>
	</TD>
</TR>
</TABLE>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="100%">
	<TR>
	<TD ALIGN="CENTER" BGCOLOR="#FFFFCC" VALIGN="TOP">
		[&nbsp;get <a href="/info/Imported/AltIOBridge?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">info</a> on or <a href="/edit/Imported/AltIOBridge?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">edit</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFEE88" VALIGN="TOP">
		[&nbsp;<a href="/user.php?op=login&redirect=%2Fview%2F%2FAltIOBridge&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FAltIOBridge&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">new&nbsp;user</a>&nbsp;]	</TD>
	<TD ALIGN="CENTER" BGCOLOR="#FFDD77" VALIGN="TOP">
		[&nbsp;list of <a href="/topics/Imported/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">topics</a>, <a href="/hubsnodes/Imported/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">hubs&nbsp;&amp;&nbsp;nodes</a>, or <a href="/changes/Imported/?PHPSESSID=e2c90c52ffedc482e12082b2d924a722">recent&nbsp;changes</a>&nbsp;]	</TD>
	</TR>
</TABLE>

<!-- From CommonHeader !-->
</TR></TD>
</TABLE>
</FORM>

<!-- start BODY page !-->
<P>
<FONT SIZE="-1"><a href="/view.php?topic=AltPackageProposal&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">AltPackageProposal</a><wikitopic AltPackageProposal /wikitopic></FONT>
<HR SIZE="1" NOSHADOW>
<P><EM>Article contributed by <a href="/view.php?topic=GilbertHerschberger&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">GilbertHerschberger</a><wikitopic GilbertHerschberger /wikitopic> (24 February 2000).</EM></P>
<H4>Introduction</H4>
<P>Since the <CODE>IOBridge</CODE> is an interface, it is possible to substitute the I/O subsystem on one virtual machine for another.</P>
<H4>Multiple process</H4>
<P>Here is a step-by-step process for running pseudos on a single machine:</P>
<UL>
<LI><P><EM>Start a bridge service.</EM></P>
<P>The bridge service is provided by an off-the-shelf virtual machine. The bridge service is free to use the existing file subsystem of a foreign operating system. The bridge service itself is written using the usual classes of <CODE>java.io</CODE>.</P>
<LI><P><EM>Start an experimental virtual machine.</EM></P>
<P>An experimental virtual machine uses <CODE>IOBridgeProxy</CODE> for its <CODE>IOBridge</CODE>. The <CODE>IOBridgeProxy</CODE> maintains a connection to a bridge service, across a <a href="/view.php?topic=TCP&web=Imported&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">TCP</a> <wikitopic TCP /wikitopic>connection. Requests of the <CODE>IOBridge</CODE> are forwarded to the bridge service.</P>
</UL>
<H4>Multiple machine</H4>
<P>A stable VM on machine A can provide an <CODE>IOBridge</CODE> for a VM on machine B. Like the multiple process model, TCP/IP is used as inter-machine communication.</P>
<UL>
<LI><P><EM>Start a bridge service on machine A.</EM></P>
<P>The bridge service is provided by an off-the-shelf virtual machine.</P>
<LI><P><EM>Start an experimental VM on machine B.</EM></P>
<P>An experimental virtual machine uses <CODE>IOBridgeProxy</CODE> for its <CODE>IOBridge</CODE>. The <CODE>IOBridgeProxy</CODE> maintains a connection to a bridge service, across a <a href="/view.php?topic=TCP&web=Imported&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">TCP</a> <wikitopic TCP /wikitopic>connection. Requests of the <CODE>IOBridge</CODE> are forwarded to the bridge service.</P>
</UL>
<H4>Extreme distributed computing</H4>
<P>The bridge service is a subsystem for XDC. The <CODE>IOBridgeDevice</CODE> is an <nolink>XDC-compatible implementation of <CODE>IOBridge</CODE> maintains connection-specific information for as long as a connection remains open. When a connection is broken, all of its files are closed. Its file descriptors become invalid.</P>
<P>The <CODE>IOBridgeHolder</CODE> marshals requests and passes them to a <CODE>IOBridgeDevice</CODE>.</P>
<H4>Dependency</H4>
<P>The mostly-bytecode implementation of Java class libraries depend on a small set of bridges. A bridge is used to cross the line between generic Java class libraries and <a href="/view.php?topic=JVMSpecificClasses&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">JVMSpecificClasses</a><wikitopic JVMSpecificClasses /wikitopic>.</P>
<P>Bridges are interfaces in Java. Prototypes for the following bridges are available:</P>
<UL>
<LI><CODE>alt.LangBridge</CODE>
<LI><CODE>alt.IOBridge</CODE>
<LI><CODE>alt.NetBridge</CODE>
</UL>
<P>None of these bridges assume your virtual machine needs to use native methods. With a bridge service running on a foreign operating system across the network, your virtual machine need a minimum of native methods.</P>
<P>None of these bridges assume your virtual machine needs all of the features available in the latest version of Sun Microsystems' JDK. You are free to implement as many or as few functions as your application requires.</P>
<P>With <a href="/view.php?topic=BCNI&web=Imported&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">BCNI</a> <wikitopic BCNI /wikitopic>and bridges, you determine how many native methods your virtual machine needs. You determine the name of each native method when compiling your machine code.</P>
<H4><CODE>alt.IOBridge</CODE></H4>
<P>Classes in the <CODE>java.io</CODE> package (and elsewhere) use the <CODE>IOBridge</CODE> to open, read, write, and close files. The open file is abstracted as an integer. The <CODE>java.io.FileDescriptor</CODE> class is part of the Java class libraries and cannot be used in the specification of a bridge.</P>
<P>A requestor passes a stringified name of a file to the <CODE>IOBridge</CODE> to open it. An integer is returned. This integer is used in subsequent read, write and close functions.</P>
<P>The implementation of <CODE>IOBridge</CODE> is open ended. It is JVM-specific. Within pseudos, it is implemented as a proxy to a <CODE>IOBridge</CODE> in another process.</P>
<H4>Security</H4>
<P>Whatever you're allowed to do with classes in the Java class library, you're allowed to do directly with <CODE>IOBridge</CODE>. This enables alternative class libraries for your mostly-bytecode applications.</P>
<P>The JVM-specific implemenation of <CODE>IOBridge</CODE> is available through <a href="/view.php?topic=BytecodeNativeInterface&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">BytecodeNativeInterface</a><wikitopic BytecodeNativeInterface /wikitopic> (BCNI). In an ultimate virtual machine, there is only one instance of <CODE>IOBridge</CODE> per virtual machine. One instance is shared across all processes and class loaders. Here is an example:</P>
<PRE>
  private static IOBridge _getBridge() {
	 if ( _bridge == null ) {
		Factory f = Factory.getFactory();
		_bridge = (IOBridge) f.getObject( "alt.IOBridge" );
	 }

	 return _bridge;
  }
  private static IOBridge _bridge;

  public void example( String v ) {
	 byte[] buf = new byte[ 4000 ];

	 int fd = _getBridge().FileOpen( v );
	 _getBridge().FileRead( fd, buf );
	 _getBridge().FileClose( fd );
  }
</PRE>
<P>Once your application has a JVM-specific instance of <CODE>IOBridge</CODE>, it can open, read, write, and close files.</P><BR><BR></P><!--

<TABLE width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="737b9c">
<TR><TD ALIGN="CENTER">
<a href="/user.php?op=login&redirect=%2Fview%2F%2FAltIOBridge&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">login</a> or <a href="/user.php?op=newacct&redirect=%2Fview%2F%2FAltIOBridge&PHPSESSID=e2c90c52ffedc482e12082b2d924a722">new&nbsp;user</a><TR><TD>
</TABLE>

!-->
<!-- end BODY page !-->

<HR>

<DIV ALIGN="CENTER">
<TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR>
	<TD ALIGN="CENTER" COLSPAN="2">
		Content of these pages are owned and copyrighted by the poster.
	</TD>
</TR>
<TR>
	<TD ALIGN="RIGHT" WIDTH="50%">
		Hosted by:
	</TD>
	<TD ALIGN="LEFT">
		<A HREF="http://sourceforge.net/"><IMG 
			SRC="http://sourceforge.net/sflogo.php?group_id=2376&type=1"
			BORDER=0 HSPACE=0 VSPACE=0></A>
	</TD>
</TR>
</TABLE>
</DIV>
</BODY>
</HTML>
