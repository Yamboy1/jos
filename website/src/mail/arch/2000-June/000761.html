<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Arch] Java VGA driver on linux</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:sean-cribbs%40utulsa.edu">
   <LINK REL="Previous"  HREF="000760.html">
   <LINK REL="Next" HREF="000765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Arch] Java VGA driver on linux</H1>
    <B>Sean D Cribbs</B> 
    <A HREF="mailto:sean-cribbs%40utulsa.edu"
       TITLE="[JOS-Arch] Java VGA driver on linux">sean-cribbs@utulsa.edu</A><BR>
    <I>Tue, 27 Jun 2000 09:00:15 -0500 (CDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000760.html">[JOS-Arch] Java VGA driver on linux</A></li>
        <LI> Next message: <A HREF="000765.html">[JOS-Arch] Java VGA driver on linux</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#761">[ date ]</a>
              <a href="thread.html#761">[ thread ]</a>
              <a href="subject.html#761">[ subject ]</a>
              <a href="author.html#761">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Today I felt like working on some graphics stuff again, so I compiled some
</I>&gt;<i> native code to allow me to run Thomas Boceks' VGA driver on Linux. 
</I>&gt;<i> 
</I>&gt;<i> I had to do an iopl(3) to allow the linux process to access the IO ports.
</I>&gt;<i> 
</I>&gt;<i> Then I telnetted to a linux box and ran the java interpreter on there as
</I>&gt;<i> root.
</I>&gt;<i> 
</I>&gt;<i> The driver seems to switch the video mode, but I don't see the jos logo as
</I>&gt;<i> expected (the bitblt routine should show the logo). 
</I>&gt;<i> 
</I>&gt;<i> I suspect the problem may be that the linux graphics drivers are already
</I>&gt;<i> running to enable the virtual text consoles. They are probably putting 
</I>&gt;<i> the card in some mode that the driver doesn't expect. Does anyone know how
</I>&gt;<i> I can disable these consoles, or somehow unload the graphics driver?
</I>
It's also possible that the driver just doesn't work right.  Todd et al
had stated that it was incredibly slow.  I personally am tempted to
rewrite it in mostly native code, primarily for speed reasons, and also
because I have sample VGA code in ASM.  This kind of defeats the purpose
of a Java-based driver, but we all want performance too, right?

&gt;<i> Another question:
</I>&gt;<i> 
</I>&gt;<i> I have about 3 ATI RageII (mach64) graphics cards and I would love to
</I>&gt;<i> write some Java drivers to use these. Probably just enabling a 1024x768x16
</I>&gt;<i> mode would be a great achievement, but I don't really know enough about
</I>&gt;<i> video hardware to do this easily. 
</I>
Somewhere there has to be information on using VESA modes.  I've looked
around but haven't found any.  Most newer cards (like the mach64 series)
use the VESA API, either directly or through an executable BIOS extension.
It's definitely worth looking into if we want higher resolutions.

&gt;<i> I have the source code for the mach64 drivers from XFree86, but I need
</I>&gt;<i> more background knowledge about how this stuff works. Can someone
</I>&gt;<i> recommend a book or a web article that would help me out?
</I>
Some libraries are good about having technical information like that, but
many do not.  I was lucky enough to find a book about EGA/VGA programming
that has tons of information about the base-level architecture of graphics
cards.  Unfortunately, chipset-specific stuff is probably not available,
unless through ATI's website.  Good luck!

--------------------------------------
 Sean Cribbs &lt;<A HREF="mailto:sean-cribbs@utulsa.edu">sean-cribbs@utulsa.edu</A>&gt;
 Computer Science
 University of Tulsa class of 2001
--------------------------------------





</pre>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000760.html">[JOS-Arch] Java VGA driver on linux</A></li>
	<LI> Next message: <A HREF="000765.html">[JOS-Arch] Java VGA driver on linux</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#761">[ date ]</a>
              <a href="thread.html#761">[ thread ]</a>
              <a href="subject.html#761">[ subject ]</a>
              <a href="author.html#761">[ author ]</a>
         </LI>
       </UL>
</body></html>
