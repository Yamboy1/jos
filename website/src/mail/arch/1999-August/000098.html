<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Arch] Package files</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:gchii%40mindspring.com">
   <LINK REL="Previous"  HREF="000099.html">
   <LINK REL="Next" HREF="000100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Arch] Package files</H1>
    <B>Gilbert Carl Herschberger II</B> 
    <A HREF="mailto:gchii%40mindspring.com"
       TITLE="[JOS-Arch] Package files">gchii@mindspring.com</A><BR>
    <I>Tue, 03 Aug 1999 20:09:32 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000099.html">[JOS-Arch] javac tool - update</A></li>
        <LI> Next message: <A HREF="000100.html">[JOS-Arch] Proposing archive: protocol</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98">[ date ]</a>
              <a href="thread.html#98">[ thread ]</a>
              <a href="subject.html#98">[ subject ]</a>
              <a href="author.html#98">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. I have been using package files for a while, since 15 April 1999 to be
exact. I have been especially pleased with their performance, compared to
.class files and archives (.cab, .jar and .zip). They are easy to
distribute. They are re-useable. Each package file uses one connection from
an HTTP service.

2. I have a tool that builds packages files. It's on autopilot. If a .class
file exists, it must be part of a package. When I type in &quot;java&quot;, it
automatically builds one package file for each package in &quot;java&quot;. When I
type &quot;org.jos&quot;, it automatically builds one package file for each package
in &quot;org.jos&quot;.

3. JOS should be distributed to our customers in package files. For many
people, we compile our Java code ahead of time so they don't have to. They
should use the Java runtime environment instead of a JDK.

An CD-based distribution becomes all too easy. We put all package files
into one huge .zip file. We can install one package at a time by extracting
it from a .zip. On the other hand, if we put all package files into a .zip,
we can execute all that code by extracting it at runtime, too.

On the other hand, the point of package files is to download one package at
a time from the Internet. The JOS installer should &quot;know&quot; where the JOS
website is. It should be able to download a current &quot;manifest&quot; of all
packages that can be downloaded by end-users. In other words, there should
be a production manifest, a beta-test manifest and a alpha-test manifest.
When the JOS installer downloads the production manifest, only
production-quality packages should be shown.

Each package should have a name, description, author, etc. The JOS
installer should display that information when prompted.

I just realised that I've been using package source code when I should have
been using package configuration. My life would have been a lot easier if I
use the registry to control the specific configuration of each package:

; automatically generated by package manager
name=org.jos.demo

[dependencies]
javac=1.0.2
package1=org.jos.app
package2=org.jos.smartapi
package3=org.jos.streamfactory

[import1]
path=/lib/jos/demo/*.java
option=virtual

[javadoc]
path=/usr/local/javadoc ; see note 1

[classes]
; class list is created automatically by package manager,
; catagories are added/updated by you.
org.jos.Demo=application
org.jos.Demo=bean
org.jos.DemoApplet=applet
org.jos.DemoFrame=
org.jos.DemoServlet=servlet
org.jos.DemoPanel=
org.jos.DemoProgram=program

[Note 1] Wouldn't you like a smarter JavaDoc that scans only packages that
have *changed*? This is something that Sun Microsystems said will be
&quot;extremely difficult&quot; to do. With a registry-based version of JavaDoc, it
is possible to merge the documentation of a new package with existing
packages. While new indexes are built each time, the JavaDoc content is
stored in a registry, something like this:

[org.jos.demo.DemoFrame]
public DemoFrame()=&lt;snippet&gt;
public void main( string[] )=&lt;snippet&gt;

[org.jos.demo.DemoPanel]
public DemoPanel()=&lt;snippet&gt;
public DemoPanel( String v )=&lt;snippet&gt;

An independent scanner builds registries on behalf of JavaDoc. These
registries are persistent and stored in a JavaDoc cache directory. JavaDoc
loads registries to build .html files. Therefore, JavaDoc does not have to
scan .java files every time. The model looks like this:

scanner ==&gt; registry ==&gt; JavaDoc ==&gt; .html


_______________________________________________
Arch maillist  -  <A HREF="mailto:Arch@jos.org">Arch@jos.org</A>
<A HREF="http://jos.org/mailman/listinfo/arch">http://jos.org/mailman/listinfo/arch</A>




</pre>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000099.html">[JOS-Arch] javac tool - update</A></li>
	<LI> Next message: <A HREF="000100.html">[JOS-Arch] Proposing archive: protocol</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#98">[ date ]</a>
              <a href="thread.html#98">[ thread ]</a>
              <a href="subject.html#98">[ subject ]</a>
              <a href="author.html#98">[ author ]</a>
         </LI>
       </UL>
</body></html>
