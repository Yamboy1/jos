<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Kernel] decaf updates</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:tmiller%40haverford.edu">
   <LINK REL="Previous"  HREF="000060.html">
   <LINK REL="Next" HREF="000063.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Kernel] decaf updates</H1>
    <B>Todd L. Miller</B> 
    <A HREF="mailto:tmiller%40haverford.edu"
       TITLE="[JOS-Kernel] decaf updates">tmiller@haverford.edu</A><BR>
    <I>Mon, 7 Jun 1999 20:44:06 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000060.html">[JOS-Kernel] Re: monitors in decaf</A></li>
        <LI> Next message: <A HREF="000063.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61">[ date ]</a>
              <a href="thread.html#61">[ thread ]</a>
              <a href="subject.html#61">[ subject ]</a>
              <a href="author.html#61">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>	Rewrote checkcast(); it's only missing the checks for casting
/from/ an array, which I'll add in the near future.  Added an
interface_list pointer to java_class because checkcast() needs to be able
to check it; probably included some other small and sundry bug-fixes
en-route.

	Anyway, I'm now looking at tackling java throws.  Throws generated
by the java code itself should be relatively easy to handle.  Throws
generated by the VM in runOpCode() should be somewhat more difficult, but
nonetheless straightforward.  The problem will be in handling exceptions
generated by functions called from w/in runOpcode() and their sundry and
various sub-functions.  I am loathe to put the exception is some global
area and put a check in at the end of runOpcode(); it's not terribly
elegant and will die a horribly screaming death if we ever have multiple
native processes.  JM, I know you've got the hood open, so to speak, right
now?  Do you, or does anyone else, have any suggestions, aside from rather
gruntingly brute-force &quot;rewrite everything to return an exception pointer&quot;
approach?

	Note that access to a classloader might be problematic as well --
the JVM needs to generate java_objects to point to for these exceptions,
though this might be done by some other code than the originator at some
later point in time.  [A global 'enviroment' table with the
JVM-generatable exception classes in it?  (which each carry their own
classloader)]

-_Quinn


</pre>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000060.html">[JOS-Kernel] Re: monitors in decaf</A></li>
	<LI> Next message: <A HREF="000063.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#61">[ date ]</a>
              <a href="thread.html#61">[ thread ]</a>
              <a href="subject.html#61">[ subject ]</a>
              <a href="author.html#61">[ author ]</a>
         </LI>
       </UL>
</body></html>
