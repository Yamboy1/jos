<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Kernel] Re: monitors in decaf</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:onewith1%40flash.net">
   <LINK REL="Previous"  HREF="000059.html">
   <LINK REL="Next" HREF="000061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Kernel] Re: monitors in decaf</H1>
    <B>Matt Albrecht</B> 
    <A HREF="mailto:onewith1%40flash.net"
       TITLE="[JOS-Kernel] Re: monitors in decaf">onewith1@flash.net</A><BR>
    <I>Thu, 3 Jun 1999 22:21:29 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000059.html">[JOS-Kernel] decaf/JJOS: keyboard driver</A></li>
        <LI> Next message: <A HREF="000061.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60">[ date ]</a>
              <a href="thread.html#60">[ thread ]</a>
              <a href="subject.html#60">[ subject ]</a>
              <a href="author.html#60">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
----------
&gt;<i> From: Todd L. Miller &lt;<A HREF="mailto:tmiller@haverford.edu">tmiller@haverford.edu</A>&gt;
</I>&gt;<i> To: John Morrison &lt;<A HREF="mailto:jm@mak.com">jm@mak.com</A>&gt;
</I>&gt;<i> Cc: <A HREF="mailto:onewith1@flash.net">onewith1@flash.net</A>
</I>&gt;<i> Subject: monitors in decaf
</I>&gt;<i> Date: Sunday, May 30, 1999 12:12 AM
</I>&gt;<i> 	Matt: this is to let you know that the latest stuff in CVS
</I>&gt;<i> supports everything but throws (recognizes them and complains) and
</I>&gt;<i> instanceof / checkcast, where the function that compares classes to each
</I>&gt;<i> other (checkcast()) isn't completely finished yet -- it, by default, will
</I>&gt;<i> let casts go through; in general, avoid writing something that depends on
</I>&gt;<i> exceptions to work properly.  -- That list is, of course, not gaurenteed
</I>&gt;<i> to be complete.  As you see above, large chunks of the java class library
</I>&gt;<i> can behave erratically.
</I>&gt;<i> 
</I>&gt;<i> 	This might suggest it would be wise, for the time being, NOT to
</I>&gt;<i> use the AWT KeyEvent, but clone it / expand jos.system.event.KeyEvent to
</I>&gt;<i> do the things the AWT's KeyEvent does.  (Most importantly, offer all
</I>three
&gt;<i> event types, and (unicode) character and keycode information with each
</I>&gt;<i> message.)
</I>I'm re-working the CVSed Java files &quot;in my own image&quot;, so that I can
actually do some testing.  Also, I've cut-n-paste out the java.awt.KeyEvent
into jos.system.event.KeyEvent to make a clone of it.  In my view that
makes us a bit more stable than depending on a bunch of awt stuff, which
has no place in the kernel.

&gt;<i> 
</I>&gt;<i> 	As you can probably tell from looking at the source,
</I>&gt;<i> jos/platform/driver should contain the software that converts from the
</I>&gt;<i> hardware (i.e. jos.system.KeyEvent events generated by the
</I>&gt;<i> jos.system.keyboard abstraction -- which, perhaps, should be moved to the
</I>&gt;<i> driver class?) into the JOS platform (i.e. the virtualized hardware used
</I>&gt;<i> to interface w/ the O/S).  This particular division also suggests moving
</I>&gt;<i> jos.system.interrupts, InterruptHandler, InterruptDispatcher, machine,
</I>and
&gt;<i> keyboard to jos.platform, leaving console and consoled in jos.system, but
</I>&gt;<i> I'm not picky and I'm pretty sure the tree doesn't match what's posted as
</I>&gt;<i> the 'standard' on the WikiWeb anyway.  Once we get the
</I>scancode-&gt;character
&gt;<i> stuff working, it might be worthwhile to move things around.
</I>I'll try that out in my mucking around.


-Matt

</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000059.html">[JOS-Kernel] decaf/JJOS: keyboard driver</A></li>
	<LI> Next message: <A HREF="000061.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#60">[ date ]</a>
              <a href="thread.html#60">[ thread ]</a>
              <a href="subject.html#60">[ subject ]</a>
              <a href="author.html#60">[ author ]</a>
         </LI>
       </UL>
</body></html>
