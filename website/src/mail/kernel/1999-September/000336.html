<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Kernel] decaf updates</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:hilarycheng%40usa.net">
   <LINK REL="Previous"  HREF="000341.html">
   <LINK REL="Next" HREF="000337.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Kernel] decaf updates</H1>
    <B>Hilary Cheng</B> 
    <A HREF="mailto:hilarycheng%40usa.net"
       TITLE="[JOS-Kernel] decaf updates">hilarycheng@usa.net</A><BR>
    <I>Wed, 8 Sep 1999 08:39:22 +0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="000341.html">[JOS-Kernel] bocek's interrupt eight</A></li>
        <LI> Next message: <A HREF="000337.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#336">[ date ]</a>
              <a href="thread.html#336">[ thread ]</a>
              <a href="subject.html#336">[ subject ]</a>
              <a href="author.html#336">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is a multi-part message in MIME format.

------=_NextPart_000_000D_01BEF9D5.A66D8C20
Content-Type: text/plain;
	charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable

Hi Ranieri,

    I have think about it. I concern about Real Mode Interrupt. Since =
JJOS is running under Protected Mode.
As I know, most of the real mode interrupt will not work under protected =
mode. If JJOS can provide a Real
Mode Interface, we could save lots of times.

Regards,

Hilary


  ----- Original Message -----=20
  From: Ranieri Argentini=20
  To: <A HREF="mailto:kernel@jos.org">kernel@jos.org</A>=20
  Sent: 26 August 1999 PM 22:14
  Subject: Re: [JOS-Kernel] decaf updates


  &gt;&gt;cool, do you read the fonts from the vid-mem? the start routine
  &gt;&gt;clears unforunately the hole vid-mem, so no fonts after the stop =
routine
  &gt;&gt;are available (yet).
  &gt;
  &gt;well, I just copy the font from Linux and store in byte array. and =
draw it
  &gt;pixel on the screen. I think that would be much more easy to do it.
  &gt;hm, What's vid-mem ?  :o, I remember that font are stored in VGA.
  &gt;But I forget how to retrieve it from VGA. is there any Doc?

  This is the way to retrieve it using the BIOS. This might prove to be =
a bit problematic in OS design, but solving this problem is left as an =
excersize for the reader ;-D

  This info has been extracted from Ralf Brown's interrupt list, file =
inter60a.zip available through ftpsearch.lycos.com ....

  Hope it helps someone somewhere ...

  Ranieri

  --------V-101130-----------------------------
  INT 10 - VIDEO - GET FONT INFORMATION (EGA, MCGA, VGA)
          AX =3D 1130h
          BH =3D pointer specifier
              00h INT 1Fh pointer
              01h INT 43h pointer
              02h ROM 8x14 character font pointer
              03h ROM 8x8 double dot font pointer
              04h ROM 8x8 double dot font (high 128 characters)
              05h ROM alpha alternate (9 by 14) pointer (EGA,VGA)
              06h ROM 8x16 font (MCGA, VGA)
              07h ROM alternate 9x16 font (VGA only) (see #00021)
              11h (UltraVision v2+) 8x20 font (VGA) or 8x19 font =
(autosync EGA)
              12h (UltraVision v2+) 8x10 font (VGA) or 8x11 font =
(autosync EGA)
  Return: ES:BP =3D specified pointer
          CX    =3D bytes/character of on-screen font (not the requested =
font!)
          DL    =3D highest character row on screen
  Note:   for UltraVision v2+, the 9xN alternate fonts follow the =
corresponding
            8xN font at ES:BP+256N
  BUG:    the IBM EGA and some other EGA cards return in DL the number =
of rows on
            screen rather than the highest row number (which is one =
less).
  SeeAlso: AX=3D1100h,AX=3D1103h,AX=3D1120h,INT 1F&quot;SYSTEM DATA&quot;,INT =
43&quot;VIDEO DATA&quot;

  Format of alternate font table [array]:
  Offset  Size    Description     (Table 00021)
   00h    BYTE    character to be replaced (00h =3D end of table)
   01h  N BYTEs   graphics data for character, one byte per scan line
  --------V-101130BX4D4F-----------------------


  _______________________________________________ Kernel maillist - =
<A HREF="mailto:Kernel@jos.org">Kernel@jos.org</A> <A HREF="http://jos.org/mailman/listinfo/kernel=20">http://jos.org/mailman/listinfo/kernel=20</A>

------=_NextPart_000_000D_01BEF9D5.A66D8C20
Content-Type: text/html;
	charset=&quot;us-ascii&quot;
Content-Transfer-Encoding: quoted-printable

&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;
&lt;HTML&gt;&lt;HEAD&gt;
&lt;META content=3D&quot;text/html; charset=3Dbig5&quot; http-equiv=3DContent-Type&gt;
&lt;META content=3D&quot;MSHTML 5.00.2014.210&quot; name=3DGENERATOR&gt;
&lt;STYLE&gt;&lt;/STYLE&gt;
&lt;/HEAD&gt;
&lt;BODY bgColor=3D#ffffff&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Hi Ranieri,&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; I have think about =
it. I concern=20
about Real Mode Interrupt. Since JJOS is running under Protected=20
Mode.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;As I know, most of the real mode =
interrupt will not=20
work under protected mode. If JJOS can provide a Real&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Mode Interface, we could save lots of=20
times.&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Regards,&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&lt;FONT face=3DArial size=3D2&gt;Hilary&lt;/FONT&gt;&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;
&lt;BLOCKQUOTE=20
style=3D&quot;BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px&quot;&gt;
  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;----- Original Message ----- &lt;/DIV&gt;
  &lt;DIV=20
  style=3D&quot;BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;=20
  &lt;A href=3D&quot;mailto:<A HREF="mailto:R.Argentini@student.tudelft.nl">R.Argentini@student.tudelft.nl</A>&quot;=20
  title=<A HREF="mailto:3DR.Argentini@student.tudelft.nl">3DR.Argentini@student.tudelft.nl</A>&gt;Ranieri Argentini&lt;/A&gt; &lt;/DIV&gt;
  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt; &lt;A =
href=3D&quot;mailto:<A HREF="mailto:kernel@jos.org">kernel@jos.org</A>&quot;=20
  title=<A HREF="mailto:3Dkernel@jos.org">3Dkernel@jos.org</A>&gt;<A HREF="mailto:kernel@jos.org">kernel@jos.org</A>&lt;/A&gt; &lt;/DIV&gt;
  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt; 26 August 1999 PM =
22:14&lt;/DIV&gt;
  &lt;DIV style=3D&quot;FONT: 10pt arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt; Re: [JOS-Kernel] decaf =

  updates&lt;/DIV&gt;
  &lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&amp;gt;&amp;gt;cool, do you read the fonts from the vid-mem? =
the start=20
  routine&lt;BR&gt;&amp;gt;&amp;gt;clears unforunately the hole vid-mem, so no fonts =
after the=20
  stop routine&lt;BR&gt;&amp;gt;&amp;gt;are available (yet).&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;well, I =
just copy=20
  the font from Linux and store in byte array. and draw it&lt;BR&gt;&amp;gt;pixel =
on the=20
  screen. I think that would be much more easy to do it.&lt;BR&gt;&amp;gt;hm, =
What's=20
  vid-mem ?&amp;nbsp; :o, I remember that font are stored in VGA.&lt;BR&gt;&amp;gt;But =
I=20
  forget how to retrieve it from VGA. is there any Doc?&lt;BR&gt;&lt;BR&gt;This is =
the way=20
  to retrieve it using the BIOS. This might prove to be a bit =
problematic in OS=20
  design, but solving this problem is left as an excersize for the =
reader=20
  ;-D&lt;BR&gt;&lt;BR&gt;This info has been extracted from Ralf Brown's interrupt =
list, file=20
  inter60a.zip available through ftpsearch.lycos.com ....&lt;BR&gt;&lt;BR&gt;Hope it =
helps=20
  someone somewhere ...&lt;BR&gt;&lt;BR&gt;Ranieri&lt;BR&gt;&lt;BR&gt;&lt;TT&gt;&lt;FONT=20
  face=3D&quot;Courier New, Courier&quot;=20
  size=3D2&gt;--------V-101130-----------------------------&lt;BR&gt;INT 10 - =
VIDEO - GET=20
  FONT INFORMATION (EGA, MCGA,=20
  =
VGA)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;AX=
 =3D=20
  =
1130h&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;B=
H =3D=20
  pointer=20
  =
specifier&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-T=
AB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
  00h INT 1Fh=20
  =
pointer&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  01h INT 43h=20
  =
pointer&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  02h ROM 8x14 character font=20
  =
pointer&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  03h ROM 8x8 double dot font=20
  =
pointer&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  04h ROM 8x8 double dot font (high 128=20
  =
characters)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X=
-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
  05h ROM alpha alternate (9 by 14) pointer=20
  =
(EGA,VGA)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-T=
AB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
  06h ROM 8x16 font (MCGA,=20
  =
VGA)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;&amp;n=
bsp;&amp;nbsp;&amp;nbsp;=20
  07h ROM alternate 9x16 font (VGA only) (see=20
  =
#00021)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  11h (UltraVision v2+) 8x20 font (VGA) or 8x19 font (autosync=20
  =
EGA)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;&amp;n=
bsp;&amp;nbsp;&amp;nbsp;=20
  12h (UltraVision v2+) 8x10 font (VGA) or 8x11 font (autosync =
EGA)&lt;BR&gt;Return:=20
  ES:BP =3D specified=20
  =
pointer&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB=
&gt;<i>CX&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
</I>  =3D bytes/character of on-screen font (not the requested=20
  =
font!)&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;=
DL&amp;nbsp;&amp;nbsp;&amp;nbsp;=20
  =3D highest character row on =
screen&lt;BR&gt;Note:&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;for=20
  UltraVision v2+, the 9xN alternate fonts follow the=20
  =
corresponding&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;=
/X-TAB&gt;&amp;nbsp;=20
  8xN font at =
ES:BP+256N&lt;BR&gt;BUG:&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;the IBM=20
  EGA and some other EGA cards return in DL the number of rows=20
  =
on&lt;BR&gt;&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;&amp;nbs=
p;=20
  screen rather than the highest row number (which is one =
less).&lt;BR&gt;SeeAlso:=20
  AX=3D1100h,AX=3D1103h,AX=3D1120h,INT 1F&quot;SYSTEM DATA&quot;,INT 43&quot;VIDEO=20
  DATA&quot;&lt;BR&gt;&lt;BR&gt;Format of alternate font table=20
  =
[array]:&lt;BR&gt;Offset&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;Size&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp=
;&amp;nbsp;&lt;/X-TAB&gt;Description&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;(T=
able=20
  =
00021)&lt;BR&gt;&amp;nbsp;00h&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;BYTE&lt;X-TAB&gt;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;character=20
  to be replaced (00h =3D end of table)&lt;BR&gt;&amp;nbsp;01h&amp;nbsp; N=20
  BYTEs&lt;X-TAB&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/X-TAB&gt;graphics data for character, one =
byte=20
  per scan=20
  =
line&lt;BR&gt;--------V-101130BX4D4F-----------------------&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/FONT&gt;_=
______________________________________________=20
  Kernel maillist - <A HREF="mailto:Kernel@jos.org">Kernel@jos.org</A> =
<A HREF="http://jos.org/mailman/listinfo/kernel=20">http://jos.org/mailman/listinfo/kernel=20</A>
&lt;/TT&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;

------=_NextPart_000_000D_01BEF9D5.A66D8C20--


</pre>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000341.html">[JOS-Kernel] bocek's interrupt eight</A></li>
	<LI> Next message: <A HREF="000337.html">[JOS-Kernel] decaf updates</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#336">[ date ]</a>
              <a href="thread.html#336">[ thread ]</a>
              <a href="subject.html#336">[ subject ]</a>
              <a href="author.html#336">[ author ]</a>
         </LI>
       </UL>
</body></html>
