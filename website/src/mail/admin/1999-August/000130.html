<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Admin] SWAT Team</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:clark.evans%40manhattanproject.com">
   <LINK REL="Previous"  HREF="000128.html">
   <LINK REL="Next" HREF="000131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Admin] SWAT Team</H1>
    <B>Clark C. Evans</B> 
    <A HREF="mailto:clark.evans%40manhattanproject.com"
       TITLE="[JOS-Admin] SWAT Team">clark.evans@manhattanproject.com</A><BR>
    <I>Mon, 9 Aug 1999 13:00:24 -0400 (EDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000128.html">[JOS-Admin] SWAT Team</A></li>
        <LI> Next message: <A HREF="000131.html">[JOS-Admin] SWAT Team</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Helmut, what Gilbert wrote here was very 
good.  Could you please comment?

Clark


On Thu, 5 Aug 1999, Gilbert Carl Herschberger II wrote:

&gt;<i> At 07:43 AM 8/5/99 -0500, you wrote:
</I>&gt;<i> &gt;Helmut,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;If you will tell me at what time all of this happenned...
</I>&gt;<i> 
</I>&gt;<i> Late Sunday afternoon (4:00pm EDT), wiki was up and running. By Monday
</I>&gt;<i> morning (10:00am EDT), it displayed only a &quot;forbidden&quot; message. Thinking
</I>&gt;<i> that it was a temporary Internet glitch, I did not respond immediately.
</I>&gt;<i> 
</I>&gt;<i> Helmut should know when he changed the attribute of the CGI script. Helmut?
</I>&gt;<i> 
</I>&gt;<i> This matches your analysis that a web-bot found the link to a search page
</I>&gt;<i> or all pages link _and_ started worming its way through every page on wiki. 
</I>&gt;<i> 
</I>&gt;<i> &gt;02 Aug: ~15000
</I>&gt;<i> 
</I>&gt;<i> 15,000 requests is a *lot* of requests. All those requests are requests
</I>&gt;<i> from the outside, right? Those requests could not be performed from within
</I>&gt;<i> wiki. It could not have been a bug in our wiki script.
</I>&gt;<i> 
</I>&gt;<i> Helmut did the right thing, shutting down wiki the way he did. By changing
</I>&gt;<i> the attributes from execute to read-only, the wiki CGI script cannot be
</I>&gt;<i> executed. The web-bot started getting &quot;forbidden&quot; pages instead of pages
</I>&gt;<i> (with more links).
</I>&gt;<i> 
</I>&gt;<i> Helmut did the right thing, keeping wiki shut down until we understand what
</I>&gt;<i> happened. We are getting closer to understanding what happened, I think.
</I>&gt;<i> Has anyone checked to make certain that robots.txt is up-to-date? It should
</I>&gt;<i> have been updated concurrent with the search features. Otherwise, it was
</I>&gt;<i> just a matter of time before a web-bot got carried away with those search
</I>&gt;<i> pages.
</I>&gt;<i> 
</I>&gt;<i> And another thing. Because Helmut changed the attribute from execute to
</I>&gt;<i> read-only, we know it was probably not a run-away CGI script. A CGI program
</I>&gt;<i> that was already running would have kept on running even after the file
</I>&gt;<i> attribute was changed. Wiki doesn't need to use recursive calls to a CGI
</I>&gt;<i> script, like other websites do.
</I>&gt;<i> 
</I>&gt;<i> &gt;From the log, do we know where those request *came from*? I wouldn't be
</I>&gt;<i> surprised if 14,500 requests came from one IP address.
</I>&gt;<i> 
</I>&gt;<i> This may be an accidental &quot;denial of service&quot; attack. The HTTP server
</I>&gt;<i> should pose limit the number of requests coming from a single IP address.
</I>&gt;<i> Many sites limit requests from unknown IP addresses to 300 per hour, which
</I>&gt;<i> should not get in the way of human browsers. For known IP addresses, like
</I>&gt;<i> friendly web-bots, the limit varies based on time-of-day. This is a HTTP
</I>&gt;<i> service responsibility, neither CGI's or wiki's.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Admin maillist  -  <A HREF="mailto:Admin@jos.org">Admin@jos.org</A>
</I>&gt;<i> <A HREF="http://jos.org/mailman/listinfo/admin">http://jos.org/mailman/listinfo/admin</A>
</I>&gt;<i> 
</I>

</pre>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000128.html">[JOS-Admin] SWAT Team</A></li>
	<LI> Next message: <A HREF="000131.html">[JOS-Admin] SWAT Team</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#130">[ date ]</a>
              <a href="thread.html#130">[ thread ]</a>
              <a href="subject.html#130">[ subject ]</a>
              <a href="author.html#130">[ author ]</a>
         </LI>
       </UL>
</body></html>
