<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [JOS-Admin] SWAT Team</TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:RegierAveryJ%40JDCORP.deere.com">
   <LINK REL="Previous"  HREF="000123.html">
   <LINK REL="Next" HREF="000125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[JOS-Admin] SWAT Team</H1>
    <B>Regier Avery J</B> 
    <A HREF="mailto:RegierAveryJ%40JDCORP.deere.com"
       TITLE="[JOS-Admin] SWAT Team">RegierAveryJ@JDCORP.deere.com</A><BR>
    <I>Wed, 4 Aug 1999 16:10:12 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000123.html">[JOS-Admin] SWAT Team</A></li>
        <LI> Next message: <A HREF="000125.html">[JOS-Admin] SWAT Team</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#124">[ date ]</a>
              <a href="thread.html#124">[ thread ]</a>
              <a href="subject.html#124">[ subject ]</a>
              <a href="author.html#124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Helmut,

In order to do a log analyses, it would be helpful to know the exact (or at
least as close as you can get) date and times that the problem occurred.  I
find it interesting that you solved the immediate resource problem initially
by changing the permissions on the file.  If it were an infinite loop, such
a change would not have stopped the problem, because the process would
already be running in memory.  You would have to do a 'kill' to stop it in
that situation.  That the CHMOD fixed the problem says that the script was
being called repeatedly.  To my knowledge, no other scripts call the 'view'
and 'search' scripts.  If this is true, then it most likely was an outside
entity calling one of those scripts repeatedly, such as an ill-behaved
web-bot.  If this is the problem, then the best we could do is to make sure
the robots.txt file is up-to-date.  If a web-bot ignores that, there is
nothing that we can do.  Anyways, knowing the date and time will help us to
know if this is the case in short order.

Feel free to poke holes in my logic.  :)

Thanks,
Avery J. Regier


&gt;<i> -----Original Message-----
</I>&gt;<i> From:	Dear Webby [SMTP:<A HREF="mailto:DearWebby@webby.com">DearWebby@webby.com</A>]
</I>&gt;<i> Sent:	Wednesday, August 04, 1999 4:34 PM
</I>&gt;<i> To:	Regier Avery J
</I>&gt;<i> Cc:	<A HREF="mailto:admin@jos.org">admin@jos.org</A>
</I>&gt;<i> Subject:	RE: [JOS-Admin] SWAT Team
</I>&gt;<i> 
</I>&gt;<i> You should do more than just move a problem.
</I>&gt;<i> If a script is malfunctioning so badly that it runs a Spark20 with dual
</I>&gt;<i> processors and 256 MB of RAM up to a load of 107, just moving that
</I>&gt;<i> malfunction is not likely to help you. It will just repeat the malfunction
</I>&gt;<i> or attack-invitation at the new location.
</I>&gt;<i> 
</I>&gt;<i> I don't know if some member deliberately or accidentally tried to smoke a
</I>&gt;<i> server, or if a bug in Wiki put it into a loop that hogged processes
</I>&gt;<i> without releasing them. All we know is that Wiki drove the server load to
</I>&gt;<i> 107, and when Wiki was CHMODed to READ-ONLY, the load instantly dropped to
</I>&gt;<i> below 1  (1= normal load).
</I>&gt;<i> 
</I>&gt;<i> As I mentioned to Clark a few days ago, until 
</I>&gt;<i> 1) the CAUSE of that problem has been found, identified, 
</I>&gt;<i> and 
</I>&gt;<i> 2) steps taken to guarantee that there won't be a repeat, 
</I>&gt;<i> we can not risk a repeat of that.
</I>&gt;<i> 
</I>&gt;<i> Just like we would lock the executables of any other site that was running
</I>&gt;<i> amok and preventing YOU from operating normally, the same thing applies to
</I>&gt;<i> JOS.
</I>&gt;<i> 
</I>&gt;<i> Helmut
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> At 07:05 AM 8/4/99 Wednesday , you wrote:
</I>&gt;<i> &gt;Gilbert, 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;You are exactly right, the wiki is not running because the execute
</I>&gt;<i> &gt;permissions on the view and search scripts have been taken away, and the
</I>&gt;<i> &gt;ownership of the script is now 'root'.  Helmut did this because the wiki
</I>&gt;<i> &gt;apparently was taking 100% of the CPU on a box that is shared with other
</I>&gt;<i> web
</I>&gt;<i> &gt;sites.  He does not want to risk this happening again.  Therefore, in
</I>&gt;<i> order
</I>&gt;<i> &gt;to get the wiki operational, we must move it to another box.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Regards,
</I>&gt;<i> &gt;Avery J. Regier
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt; From:	Gilbert Carl Herschberger II [SMTP:<A HREF="mailto:gchii@mindspring.com">gchii@mindspring.com</A>]
</I>&gt;<i> &gt;&gt; Sent:	Wednesday, August 04, 1999 9:32 AM
</I>&gt;<i> &gt;&gt; To:	<A HREF="mailto:admin@jos.org">admin@jos.org</A>
</I>&gt;<i> &gt;&gt; Subject:	[JOS-Admin] SWAT Team
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Could permissions on files be the global wiki problem?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; From my own website, I get this message when my httpd program does not
</I>&gt;<i> &gt;&gt; have
</I>&gt;<i> &gt;&gt; permissions according to Linux. Since the httpd program cannot read a
</I>&gt;<i> &gt;&gt; file,
</I>&gt;<i> &gt;&gt; I cannot read a file either.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; What was the solution? I had to change the permissions on files in the
</I>&gt;<i> &gt;&gt; htdocs directory. If wiki is CGI, the httpd program must have execute
</I>&gt;<i> &gt;&gt; permissions on the CGI program. Without execute permission, all
</I>&gt;<i> requests
</I>&gt;<i> &gt;&gt; to
</I>&gt;<i> &gt;&gt; the CGI program return that &quot;forbidden&quot; message.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I imagine that the CGI program could have been uploaded/replaced on
</I>&gt;<i> Sunday
</I>&gt;<i> &gt;&gt; night or Monday morning. Did someone forget to set the permissions of
</I>&gt;<i> the
</I>&gt;<i> &gt;&gt; CGI program?
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Unfortunately, there is no way to *prevent* someone from interactively
</I>&gt;<i> &gt;&gt; setting the wrong permissions. You can encourage people to set the
</I>&gt;<i> right
</I>&gt;<i> &gt;&gt; permissions.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Admin maillist  -  <A HREF="mailto:Admin@jos.org">Admin@jos.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://jos.org/mailman/listinfo/admin">http://jos.org/mailman/listinfo/admin</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;Admin maillist  -  <A HREF="mailto:Admin@jos.org">Admin@jos.org</A>
</I>&gt;<i> &gt;<A HREF="http://jos.org/mailman/listinfo/admin">http://jos.org/mailman/listinfo/admin</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> DearWebby
</I>&gt;<i> (Helmut)
</I>&gt;<i> 
</I>&gt;<i> The Cardmaster's MidSummer Madness World Championship is under way
</I>&gt;<i> You can now vote at
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://cards.webby.com">http://cards.webby.com</A>
</I>&gt;<i> --------------------------------------------------------------------------
</I>&gt;<i> --
</I>&gt;<i> ------
</I>&gt;<i> Webby, Inc  Web Marketing and high traffic web hosting
</I>&gt;<i> Internet postcards and other effective marketing software
</I>
</pre>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000123.html">[JOS-Admin] SWAT Team</A></li>
	<LI> Next message: <A HREF="000125.html">[JOS-Admin] SWAT Team</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#124">[ date ]</a>
              <a href="thread.html#124">[ thread ]</a>
              <a href="subject.html#124">[ subject ]</a>
              <a href="author.html#124">[ author ]</a>
         </LI>
       </UL>
</body></html>
